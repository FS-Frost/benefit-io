import{s as Pe,e as E,t as J,a as N,c as I,b as D,d as H,g as j,f as m,m as k,i as q,h as g,j as x,n as fe,T as ae,v as Oe,q as De,O as Z,A as ze,P as le,U as ee,V as xe,Q as Qe,x as ve,S as tl,F as Te,W as ce,z as ge,X as Ne}from"../chunks/scheduler.BfJy-kJg.js";import{S as Se,i as Le,t as R,g as je,a as Y,c as Be,b as be,d as ke,m as Ee,e as Ie,f as ll}from"../chunks/index.Ly_azvVQ.js";import{e as F,o as tt,b as ol}from"../chunks/data.USwfki-C.js";import{z as $,b as Re,q as ct,a as Ke,t as pe,S as et,d as nl,s as sl}from"../chunks/IniciarSesion.svelte_svelte_type_style_lang.CMOr-87x.js";const rl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,il=!0,Xl=Object.freeze(Object.defineProperty({__proto__:null,prerender:il},Symbol.toStringTag,{value:"Module"}));$.object({nombre:$.string().default(""),productos:$.string().array().default([])});const Ae=$.object({nombre:$.string().default(""),institucion:$.string().default(""),marca:$.string().default(""),segmento:$.string().default(""),categoria:$.string().default("")}),lt=$.object({local:$.string().default(""),descuento:$.number().default(0)});$.object({institucion:$.string().default(""),producto:$.string().default(""),ofertas:lt.array().default([])});$.object({ano:$.number().default(0),mes:$.string().default(""),ordenMes:$.number().default(0),ciudad:$.string().default(""),dia:$.string().default(""),producto:Ae,local:$.string().default(""),descuento:$.number().default(0)});const cl=Ae.extend({ofertas:lt.array().default([])});$.object({dia:$.string().default(""),orden:$.number().default(0),productos:cl.array().default([])});function ot(s){s.sort((e,t)=>e.orden-t.orden);for(const e of s){e.productos.sort((t,l)=>t.institucion.localeCompare(l.institucion)||t.nombre.localeCompare(l.nombre));for(const t of e.productos)t.ofertas.sort((l,n)=>n.descuento-l.descuento||l.local.localeCompare(n.local))}}function at(s,e,t){const l=s.slice();return l[3]=e[t],l}function ut(s,e,t){const l=s.slice();return l[6]=e[t],l}function ft(s){let e;return{c(){e=J("(hoy)")},l(t){e=H(t,"(hoy)")},m(t,l){q(t,e,l)},d(t){t&&m(e)}}}function dt(s){let e,t,l=s[6].local+"",n,i,o,r=s[6].descuento+"",h,_,u,f,d;function c(){return s[2](s[6])}return{c(){e=E("div"),t=E("span"),n=J(l),i=N(),o=E("span"),h=J(r),_=J(" %"),u=N(),this.h()},l(a){e=I(a,"DIV",{class:!0,role:!0,tabindex:!0});var p=D(e);t=I(p,"SPAN",{class:!0});var v=D(t);n=H(v,l),v.forEach(m),i=j(p),o=I(p,"SPAN",{class:!0});var b=D(o);h=H(b,r),_=H(b," %"),b.forEach(m),u=j(p),p.forEach(m),this.h()},h(){k(t,"class","local svelte-1jmkr8b"),k(o,"class","descuento svelte-1jmkr8b"),k(e,"class","oferta svelte-1jmkr8b"),k(e,"role","button"),k(e,"tabindex","0")},m(a,p){q(a,e,p),g(e,t),g(t,n),g(e,i),g(e,o),g(o,h),g(o,_),g(e,u),f||(d=[Z(e,"click",c),Z(e,"keydown",fl)],f=!0)},p(a,p){s=a,p&1&&l!==(l=s[6].local+"")&&x(n,l),p&1&&r!==(r=s[6].descuento+"")&&x(h,r)},d(a){a&&m(e),f=!1,ze(d)}}}function ht(s){let e,t=s[3].institucion+"",l,n,i=s[3].nombre+"",o,r,h=s[3].marca+"",_,u,f=s[3].segmento+"",d,c,a,p=F(s[3].ofertas),v=[];for(let b=0;b<p.length;b+=1)v[b]=dt(ut(s,p,b));return{c(){e=E("div"),l=J(t),n=N(),o=J(i),r=N(),_=J(h),u=N(),d=J(f),c=N();for(let b=0;b<v.length;b+=1)v[b].c();a=De(),this.h()},l(b){e=I(b,"DIV",{class:!0});var w=D(e);l=H(w,t),n=j(w),o=H(w,i),r=j(w),_=H(w,h),u=j(w),d=H(w,f),w.forEach(m),c=j(b);for(let C=0;C<v.length;C+=1)v[C].l(b);a=De(),this.h()},h(){k(e,"class","producto svelte-1jmkr8b")},m(b,w){q(b,e,w),g(e,l),g(e,n),g(e,o),g(e,r),g(e,_),g(e,u),g(e,d),q(b,c,w);for(let C=0;C<v.length;C+=1)v[C]&&v[C].m(b,w);q(b,a,w)},p(b,w){if(w&1&&t!==(t=b[3].institucion+"")&&x(l,t),w&1&&i!==(i=b[3].nombre+"")&&x(o,i),w&1&&h!==(h=b[3].marca+"")&&x(_,h),w&1&&f!==(f=b[3].segmento+"")&&x(d,f),w&1){p=F(b[3].ofertas);let C;for(C=0;C<p.length;C+=1){const S=ut(b,p,C);v[C]?v[C].p(S,w):(v[C]=dt(S),v[C].c(),v[C].m(a.parentNode,a))}for(;C<v.length;C+=1)v[C].d(1);v.length=p.length}},d(b){b&&(m(e),m(c),m(a)),ae(v,b)}}}function al(s){let e,t,l,n=s[0].dia+"",i,o,r=s[0].dia.toLowerCase()===s[1],h,_=r&&ft(),u=F(s[0].productos),f=[];for(let d=0;d<u.length;d+=1)f[d]=ht(at(s,u,d));return{c(){e=E("div"),t=E("div"),l=J("Septiembre: "),i=J(n),o=N(),_&&_.c(),h=N();for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=I(d,"DIV",{class:!0});var c=D(e);t=I(c,"DIV",{class:!0});var a=D(t);l=H(a,"Septiembre: "),i=H(a,n),o=j(a),_&&_.l(a),a.forEach(m),h=j(c);for(let p=0;p<f.length;p+=1)f[p].l(c);c.forEach(m),this.h()},h(){k(t,"class","subtitulo svelte-1jmkr8b"),k(e,"class","dia svelte-1jmkr8b")},m(d,c){q(d,e,c),g(e,t),g(t,l),g(t,i),g(t,o),_&&_.m(t,null),g(e,h);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(e,null)},p(d,[c]){if(c&1&&n!==(n=d[0].dia+"")&&x(i,n),c&3&&(r=d[0].dia.toLowerCase()===d[1]),r?_||(_=ft(),_.c(),_.m(t,null)):_&&(_.d(1),_=null),c&1){u=F(d[0].productos);let a;for(a=0;a<u.length;a+=1){const p=at(d,u,a);f[a]?f[a].p(p,c):(f[a]=ht(p),f[a].c(),f[a].m(e,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=u.length}},i:fe,o:fe,d(d){d&&m(e),_&&_.d(),ae(f,d)}}}function ul(s){alert(`${s.local}: ${s.descuento} %`)}const fl=()=>{};function dl(s,e,t){let{dia:l}=e,n="";Oe(()=>{t(1,n=new Date().toLocaleDateString("es-ES",{weekday:"long"}).toLowerCase()),l.productos.sort((o,r)=>o.nombre.localeCompare(r.nombre));for(const o of l.productos)o.ofertas.sort((r,h)=>h.descuento-r.descuento||r.local.localeCompare(h.local))});const i=o=>ul(o);return s.$$set=o=>{"dia"in o&&t(0,l=o.dia)},[l,n,i]}class nt extends Se{constructor(e){super(),Le(this,e,dl,al,Pe,{dia:0})}}const Ue="benefit.productos";function _t(s,e,t){const l=s.slice();return l[8]=e[t],l}function pt(s){let e,t="Búsqueda sin resultados.";return{c(){e=E("p"),e.textContent=t,this.h()},l(l){e=I(l,"P",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-k94lzo"&&(e.textContent=t),this.h()},h(){k(e,"class","mt-2")},m(l,n){q(l,e,n)},d(l){l&&m(e)}}}function gt(s){let e,t,l=F(s[1]),n=[];for(let o=0;o<l.length;o+=1)n[o]=mt(_t(s,l,o));const i=o=>Y(n[o],1,1,()=>{n[o]=null});return{c(){e=E("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=I(o,"DIV",{class:!0});var r=D(e);for(let h=0;h<n.length;h+=1)n[h].l(r);r.forEach(m),this.h()},h(){k(e,"class","mt-3")},m(o,r){q(o,e,r);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(e,null);t=!0},p(o,r){if(r&2){l=F(o[1]);let h;for(h=0;h<l.length;h+=1){const _=_t(o,l,h);n[h]?(n[h].p(_,r),R(n[h],1)):(n[h]=mt(_),n[h].c(),R(n[h],1),n[h].m(e,null))}for(je(),h=l.length;h<n.length;h+=1)i(h);Be()}},i(o){if(!t){for(let r=0;r<l.length;r+=1)R(n[r]);t=!0}},o(o){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)Y(n[r]);t=!1},d(o){o&&m(e),ae(n,o)}}}function mt(s){let e,t;return e=new nt({props:{dia:s[8]}}),{c(){be(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,n){Ee(e,l,n),t=!0},p(l,n){const i={};n&2&&(i.dia=l[8]),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function hl(s){let e,t,l,n,i,o='<i class="fas fa-magnifying-glass"></i>',r,h,_,u,f,d=s[0].length>0&&s[1].length===0&&pt(),c=s[1].length>0&&gt(s);return{c(){e=E("div"),t=E("div"),l=E("input"),n=N(),i=E("span"),i.innerHTML=o,r=N(),d&&d.c(),h=N(),c&&c.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var p=D(e);t=I(p,"DIV",{class:!0});var v=D(t);l=I(v,"INPUT",{class:!0,type:!0,placeholder:!0}),n=j(v),i=I(v,"SPAN",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-1e43632"&&(i.innerHTML=o),v.forEach(m),r=j(p),d&&d.l(p),h=j(p),c&&c.l(p),p.forEach(m),this.h()},h(){k(l,"class","input"),k(l,"type","search"),k(l,"placeholder",s[2]),k(i,"class","icon is-small is-left"),k(t,"class","control has-icons-left has-icons-right"),k(e,"class","field")},m(a,p){q(a,e,p),g(e,t),g(t,l),ee(l,s[0]),g(t,n),g(t,i),g(e,r),d&&d.m(e,null),g(e,h),c&&c.m(e,null),_=!0,u||(f=[Z(l,"input",s[4]),Z(l,"input",s[5])],u=!0)},p(a,[p]){(!_||p&4)&&k(l,"placeholder",a[2]),p&1&&l.value!==a[0]&&ee(l,a[0]),a[0].length>0&&a[1].length===0?d||(d=pt(),d.c(),d.m(e,h)):d&&(d.d(1),d=null),a[1].length>0?c?(c.p(a,p),p&2&&R(c,1)):(c=gt(a),c.c(),R(c,1),c.m(e,null)):c&&(je(),Y(c,1,1,()=>{c=null}),Be())},i(a){_||(R(c),_=!0)},o(a){Y(c),_=!1},d(a){a&&m(e),d&&d.d(),c&&c.d(),u=!1,ze(f)}}}function _l(s,e,t){let l=[],n="",i=[],o="",r="";function h(){t(1,i=[]);const f=ct(n.toLowerCase()),d=a=>{const p=f.split(" ");for(const v of p)if(!ct(a.toLowerCase()).includes(v))return!1;return!0},c=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const a of l){if(a.dia.split(" ").length>1||!(f.length>0&&d(JSON.stringify(a))))continue;let p=i.findIndex(w=>w.dia===a.dia);p<0&&(i.push({dia:a.dia,productos:[],orden:c.indexOf(a.dia.toLowerCase())}),p=i.length-1);let v=i[p].productos.findIndex(w=>w.institucion===a.producto.institucion&&w.nombre===a.producto.nombre&&w.marca===a.producto.marca&&w.segmento===a.producto.segmento&&w.categoria===a.producto.categoria);v<0&&(i[p].productos.push({nombre:a.producto.nombre,institucion:a.producto.institucion,marca:a.producto.marca,segmento:a.producto.segmento,categoria:a.producto.categoria,ofertas:[]}),v=i[p].productos.length-1),i[p].productos[v].ofertas.findIndex(w=>w.local===a.local)<0&&i[p].productos[v].ofertas.push({local:a.local,descuento:a.descuento})}ot(i),t(1,i=[...i])}Oe(()=>{o=Re(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase(),l=tt();let f=[];try{const d=localStorage.getItem(Ue)??"[]";f=Ae.array().parse(JSON.parse(d))}catch(d){console.error("error al obtener productos guardados",d)}t(2,r=`${o}`);for(const d of l)if(d.dia.toLowerCase()===o&&!(f.length>0&&!f.some(c=>c.institucion===d.producto.institucion&&c.nombre===d.producto.nombre&&c.marca===d.producto.marca&&c.segmento===d.producto.segmento&&c.categoria===d.producto.categoria))){t(2,r=`${o} ${d.local.toLowerCase()}`);break}h()});function _(){n=this.value,t(0,n)}return[n,i,r,h,_,()=>h()]}class pl extends Se{constructor(e){super(),Le(this,e,_l,hl,Pe,{})}}function vt(s,e,t){const l=s.slice();return l[3]=e[t],l}function bt(s){let e,t,l,n,i,o,r=s[3].text+"",h,_,u,f;function d(){return s[2](s[3])}return{c(){e=E("div"),t=E("a"),l=E("i"),i=N(),o=E("p"),h=J(r),_=N(),this.h()},l(c){e=I(c,"DIV",{class:!0});var a=D(e);t=I(a,"A",{class:!0,href:!0});var p=D(t);l=I(p,"I",{class:!0}),D(l).forEach(m),p.forEach(m),i=j(a),o=I(a,"P",{class:!0});var v=D(o);h=H(v,r),v.forEach(m),_=j(a),a.forEach(m),this.h()},h(){k(l,"class",xe(`fa-solid ${s[3].icon}`)+" svelte-4wdb5q"),k(t,"class",n=xe(`opcion ${s[0]===s[3].page?"active":""}`)+" svelte-4wdb5q"),k(t,"href",`?pagina=${s[3].page}`),k(o,"class","texto svelte-4wdb5q"),k(e,"class","container-opcion svelte-4wdb5q")},m(c,a){q(c,e,a),g(e,t),g(t,l),g(e,i),g(e,o),g(o,h),g(e,_),u||(f=Z(t,"click",d),u=!0)},p(c,a){s=c,a&1&&n!==(n=xe(`opcion ${s[0]===s[3].page?"active":""}`)+" svelte-4wdb5q")&&k(t,"class",n)},d(c){c&&m(e),u=!1,f()}}}function gl(s){let e,t=F(s[1]),l=[];for(let n=0;n<t.length;n+=1)l[n]=bt(vt(s,t,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=I(n,"DIV",{class:!0});var i=D(e);for(let o=0;o<l.length;o+=1)l[o].l(i);i.forEach(m),this.h()},h(){k(e,"class","opciones svelte-4wdb5q")},m(n,i){q(n,e,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,[i]){if(i&3){t=F(n[1]);let o;for(o=0;o<t.length;o+=1){const r=vt(n,t,o);l[o]?l[o].p(r,i):(l[o]=bt(r),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},i:fe,o:fe,d(n){n&&m(e),ae(l,n)}}}function ml(s,e,t){const l=[{icon:"fa-percent",page:"inicio",text:pe.paginaBeneficios},{icon:"fa-credit-card",page:"mis-productos",text:pe.paginaProductos},{icon:"fa-compass",page:"explorar-beneficios",text:pe.paginaExplorar},{icon:"fa-plus",page:"agregar-productos",text:pe.paginaAgregarProductos}];let n="inicio";return Oe(()=>{Ke.subscribe(o=>{t(0,n=o)})}),[n,l,o=>Ke.set(o.page)]}class vl extends Se{constructor(e){super(),Le(this,e,ml,gl,Pe,{})}}function kt(s,e,t){const l=s.slice();return l[5]=e[t],l}function bl(s){let e,t,l=F(s[0]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Et(kt(s,l,o));const i=o=>Y(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=De()},l(o){for(let r=0;r<n.length;r+=1)n[r].l(o);e=De()},m(o,r){for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(o,r);q(o,e,r),t=!0},p(o,r){if(r&1){l=F(o[0]);let h;for(h=0;h<l.length;h+=1){const _=kt(o,l,h);n[h]?(n[h].p(_,r),R(n[h],1)):(n[h]=Et(_),n[h].c(),R(n[h],1),n[h].m(e.parentNode,e))}for(je(),h=l.length;h<n.length;h+=1)i(h);Be()}},i(o){if(!t){for(let r=0;r<l.length;r+=1)R(n[r]);t=!0}},o(o){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)Y(n[r]);t=!1},d(o){o&&m(e),ae(n,o)}}}function kl(s){let e,t="No tienes beneficios para hoy.";return{c(){e=E("p"),e.textContent=t,this.h()},l(l){e=I(l,"P",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1lxmyyn"&&(e.textContent=t),this.h()},h(){k(e,"class","mb-4")},m(l,n){q(l,e,n)},p:fe,i:fe,o:fe,d(l){l&&m(e)}}}function El(s){let e,t=pe.sinProductos+"",l;return{c(){e=E("p"),l=J(t),this.h()},l(n){e=I(n,"P",{class:!0});var i=D(e);l=H(i,t),i.forEach(m),this.h()},h(){k(e,"class","mb-4")},m(n,i){q(n,e,i),g(e,l)},p:fe,i:fe,o:fe,d(n){n&&m(e)}}}function Et(s){let e,t;return e=new nt({props:{dia:s[5]}}),{c(){be(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,n){Ee(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.dia=l[5]),e.$set(i)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function Il(s){let e,t,l,n,i,o="Mis beneficios",r,h,_,u,f,d,c,a;document.title=pe.appName;const p=[El,kl,bl],v=[];function b(w,C){return w[2].length===0?0:w[0].length==0?1:2}return d=b(s),c=v[d]=p[d](s),{c(){e=N(),t=E("section"),l=E("div"),n=E("div"),i=E("div"),i.textContent=o,r=N(),h=E("div"),_=J(s[1]),u=N(),f=E("div"),c.c(),this.h()},l(w){Qe("svelte-1gtgtlw",document.head).forEach(m),e=j(w),t=I(w,"SECTION",{class:!0});var S=D(t);l=I(S,"DIV",{class:!0});var L=D(l);n=I(L,"DIV",{class:!0});var A=D(n);i=I(A,"DIV",{class:!0,"data-svelte-h":!0}),le(i)!=="svelte-1rc6p2m"&&(i.textContent=o),r=j(A),h=I(A,"DIV",{class:!0});var V=D(h);_=H(V,s[1]),V.forEach(m),A.forEach(m),L.forEach(m),u=j(S),f=I(S,"DIV",{class:!0});var z=D(f);c.l(z),z.forEach(m),S.forEach(m),this.h()},h(){k(i,"class","title is-4 svelte-ctkz0e"),k(h,"class","title subtitle mt-2 is-6 svelte-ctkz0e"),k(n,"class","titulo-beneficios"),k(l,"class","mis-beneficios mb-4 svelte-ctkz0e"),k(f,"class","descuentos mt-4"),k(t,"class","inicio")},m(w,C){q(w,e,C),q(w,t,C),g(t,l),g(l,n),g(n,i),g(n,r),g(n,h),g(h,_),g(t,u),g(t,f),v[d].m(f,null),a=!0},p(w,[C]){(!a||C&2)&&x(_,w[1]);let S=d;d=b(w),d===S?v[d].p(w,C):(je(),Y(v[S],1,1,()=>{v[S]=null}),Be(),c=v[d],c?c.p(w,C):(c=v[d]=p[d](w),c.c()),R(c,1),c.m(f,null))},i(w){a||(R(c),a=!0)},o(w){Y(c),a=!1},d(w){w&&(m(e),m(t)),v[d].d()}}}function wl(s,e,t){let l=[],n=[],i="",o=[];function r(){t(0,n=[]);const h=Re(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase(),_=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const u of l){if(u.dia.split(" ").length>1||u.dia.toLowerCase()!==h||!o.some(a=>a.institucion===u.producto.institucion&&a.nombre===u.producto.nombre&&a.marca===u.producto.marca&&(u.producto.segmento.length==0?!0:a.segmento===u.producto.segmento)&&(u.producto.categoria.length==0?!0:a.categoria.toLowerCase().includes(u.producto.categoria.toLowerCase()))))continue;let f=n.findIndex(a=>a.dia===u.dia);f<0&&(n.push({dia:u.dia,productos:[],orden:_.indexOf(u.dia.toLowerCase())}),f=n.length-1);let d=n[f].productos.findIndex(a=>a.institucion===u.producto.institucion&&a.nombre===u.producto.nombre&&a.marca===u.producto.marca&&(u.producto.segmento.length==0?!0:a.segmento===u.producto.segmento)&&(u.producto.categoria.length==0?!0:a.categoria.toLowerCase().includes(u.producto.categoria.toLowerCase())));d<0&&(n[f].productos.push({nombre:u.producto.nombre,institucion:u.producto.institucion,marca:u.producto.marca,segmento:u.producto.segmento,categoria:u.producto.categoria,ofertas:[]}),d=n[f].productos.length-1),n[f].productos[d].ofertas.findIndex(a=>a.local===u.local)<0&&n[f].productos[d].ofertas.push({local:u.local,descuento:u.descuento})}ot(n),t(0,n=[...n])}return Oe(()=>{l=tt(),t(1,i=Re(new Date().toLocaleDateString("es-ES",{year:"numeric",day:"numeric",month:"long",weekday:"long"})));try{const h=localStorage.getItem(Ue)??"[]";t(2,o=Ae.array().parse(JSON.parse(h)))}catch(h){console.error("error al obtener productos guardados",h)}t(2,o=[...o]),r()}),[n,i,o]}class Cl extends Se{constructor(e){super(),Le(this,e,wl,Il,Pe,{})}}function It(s,e,t){const l=s.slice();return l[4]=e[t],l}function wt(s){let e,t,l,n,i,o,r,h=F(s[0]),_=[];for(let u=0;u<h.length;u+=1)_[u]=Dt(It(s,h,u));return{c(){e=E("article"),t=E("div"),l=E("p"),n=J(s[1]),i=N(),o=E("div"),r=E("ul");for(let u=0;u<_.length;u+=1)_[u].c();this.h()},l(u){e=I(u,"ARTICLE",{class:!0});var f=D(e);t=I(f,"DIV",{class:!0});var d=D(t);l=I(d,"P",{class:!0});var c=D(l);n=H(c,s[1]),c.forEach(m),d.forEach(m),i=j(f),o=I(f,"DIV",{class:!0});var a=D(o);r=I(a,"UL",{});var p=D(r);for(let v=0;v<_.length;v+=1)_[v].l(p);p.forEach(m),a.forEach(m),f.forEach(m),this.h()},h(){k(l,"class","institucion svelte-1a89f82"),k(t,"class","message-header"),k(o,"class","message-body"),k(e,"class","message svelte-1a89f82")},m(u,f){q(u,e,f),g(e,t),g(t,l),g(l,n),g(e,i),g(e,o),g(o,r);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(r,null)},p(u,f){if(f&2&&x(n,u[1]),f&5){h=F(u[0]);let d;for(d=0;d<h.length;d+=1){const c=It(u,h,d);_[d]?_[d].p(c,f):(_[d]=Dt(c),_[d].c(),_[d].m(r,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=h.length}},d(u){u&&m(e),ae(_,u)}}}function Ct(s){let e=s[4].segmento+"",t;return{c(){t=J(e)},l(l){t=H(l,e)},m(l,n){q(l,t,n)},p(l,n){n&1&&e!==(e=l[4].segmento+"")&&x(t,e)},d(l){l&&m(t)}}}function Dt(s){let e,t,l,n=s[4].nombre+"",i,o,r=s[4].marca+"",h,_,u,f,d;function c(){return s[3](s[4])}let a=s[4].segmento.length>0&&Ct(s);return{c(){e=E("li"),t=E("button"),l=N(),i=J(n),o=N(),h=J(r),_=N(),a&&a.c(),u=N(),this.h()},l(p){e=I(p,"LI",{});var v=D(e);t=I(v,"BUTTON",{class:!0,"aria-label":!0}),D(t).forEach(m),l=j(v),i=H(v,n),o=j(v),h=H(v,r),_=j(v),a&&a.l(v),u=j(v),v.forEach(m),this.h()},h(){k(t,"class","delete"),k(t,"aria-label","delete")},m(p,v){q(p,e,v),g(e,t),g(e,l),g(e,i),g(e,o),g(e,h),g(e,_),a&&a.m(e,null),g(e,u),f||(d=Z(t,"click",c),f=!0)},p(p,v){s=p,v&1&&n!==(n=s[4].nombre+"")&&x(i,n),v&1&&r!==(r=s[4].marca+"")&&x(h,r),s[4].segmento.length>0?a?a.p(s,v):(a=Ct(s),a.c(),a.m(e,u)):a&&(a.d(1),a=null)},d(p){p&&m(e),a&&a.d(),f=!1,d()}}}function Dl(s){let e,t=s[0].length>0&&wt(s);return{c(){t&&t.c(),e=De()},l(l){t&&t.l(l),e=De()},m(l,n){t&&t.m(l,n),q(l,e,n)},p(l,[n]){l[0].length>0?t?t.p(l,n):(t=wt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:fe,o:fe,d(l){l&&m(e),t&&t.d(l)}}}function Pl(s,e,t){let l,{productos:n}=e;async function i(r){const h=`${r.institucion} ${r.nombre} ${r.marca} ${r.segmento}`;if(!(await et.fire({icon:"question",title:"¿Eliminar producto?",text:h,confirmButtonText:"Eliminar",confirmButtonColor:"darkred",cancelButtonText:"Cancelar",showCancelButton:!0})).isConfirmed)return;let u=[];try{const f=localStorage.getItem(Ue)??"[]";u=Ae.array().parse(JSON.parse(f))}catch(f){console.error("error al obtener productos guardados",f)}u=u.filter(f=>f.institucion!==r.institucion||f.nombre!==r.nombre||f.marca!==r.marca||f.segmento!==r.segmento||f.categoria!==r.categoria),t(0,n=n.filter(f=>f.institucion!==r.institucion||f.nombre!==r.nombre||f.marca!==r.marca||f.segmento!==r.segmento||f.categoria!==r.categoria)),localStorage.setItem(Ue,JSON.stringify(u)),await et.fire({icon:"success",title:"Producto eliminado",text:h,confirmButtonText:"Aceptar"})}const o=r=>i(r);return s.$$set=r=>{"productos"in r&&t(0,n=r.productos)},s.$$.update=()=>{s.$$.dirty&1&&t(1,l=n.length>0?n[0].institucion:"")},[n,l,i,o]}class Sl extends Se{constructor(e){super(),Le(this,e,Pl,Dl,Pe,{productos:0})}}function Pt(s,e,t){const l=s.slice();return l[3]=e[t],l[4]=e,l[5]=t,l}function St(s){let e,t=pe.sinProductos+"",l;return{c(){e=E("p"),l=J(t),this.h()},l(n){e=I(n,"P",{class:!0});var i=D(e);l=H(i,t),i.forEach(m),this.h()},h(){k(e,"class","mb-4")},m(n,i){q(n,e,i),g(e,l)},d(n){n&&m(e)}}}function Lt(s){let e,t,l;function n(o){s[2](o,s[3],s[4],s[5])}let i={};return s[3]!==void 0&&(i.productos=s[3]),e=new Sl({props:i}),ve.push(()=>ll(e,"productos",n)),{c(){be(e.$$.fragment)},l(o){ke(e.$$.fragment,o)},m(o,r){Ee(e,o,r),l=!0},p(o,r){s=o;const h={};!t&&r&2&&(t=!0,h.productos=s[3],tl(()=>t=!1)),e.$set(h)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){Y(e.$$.fragment,o),l=!1},d(o){Ie(e,o)}}}function Ll(s){let e,t,l,n,i,o=pe.paginaProductos+"",r,h,_,u;document.title=pe.appName;let f=s[0].length===0&&St(),d=F(s[1]),c=[];for(let p=0;p<d.length;p+=1)c[p]=Lt(Pt(s,d,p));const a=p=>Y(c[p],1,1,()=>{c[p]=null});return{c(){e=N(),t=E("section"),l=E("div"),n=E("div"),i=E("div"),r=J(o),h=N(),f&&f.c(),_=N();for(let p=0;p<c.length;p+=1)c[p].c();this.h()},l(p){Qe("svelte-1gtgtlw",document.head).forEach(m),e=j(p),t=I(p,"SECTION",{class:!0});var b=D(t);l=I(b,"DIV",{class:!0});var w=D(l);n=I(w,"DIV",{class:!0});var C=D(n);i=I(C,"DIV",{class:!0});var S=D(i);r=H(S,o),S.forEach(m),C.forEach(m),w.forEach(m),h=j(b),f&&f.l(b),_=j(b);for(let L=0;L<c.length;L+=1)c[L].l(b);b.forEach(m),this.h()},h(){k(i,"class","title is-4 svelte-14q4oge"),k(n,"class","titulo-beneficios"),k(l,"class","mis-beneficios mb-4 svelte-14q4oge"),k(t,"class","inicio")},m(p,v){q(p,e,v),q(p,t,v),g(t,l),g(l,n),g(n,i),g(i,r),g(t,h),f&&f.m(t,null),g(t,_);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(t,null);u=!0},p(p,[v]){if(p[0].length===0?f||(f=St(),f.c(),f.m(t,_)):f&&(f.d(1),f=null),v&2){d=F(p[1]);let b;for(b=0;b<d.length;b+=1){const w=Pt(p,d,b);c[b]?(c[b].p(w,v),R(c[b],1)):(c[b]=Lt(w),c[b].c(),R(c[b],1),c[b].m(t,null))}for(je(),b=d.length;b<c.length;b+=1)a(b);Be()}},i(p){if(!u){for(let v=0;v<d.length;v+=1)R(c[v]);u=!0}},o(p){c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)Y(c[v]);u=!1},d(p){p&&(m(e),m(t)),f&&f.d(),ae(c,p)}}}function Vl(s,e,t){let l=[],n=[];Oe(()=>{try{const o=localStorage.getItem(Ue)??"[]";t(0,l=Ae.array().parse(JSON.parse(o)))}catch(o){console.error("error al obtener productos guardados",o)}t(1,n=[]);for(const o of l){const r=n.find(h=>h.some(_=>_.institucion===o.institucion));if(r==null){n.push([o]);continue}r.push(o)}});function i(o,r,h,_){h[_]=o,t(1,n)}return[l,n,i]}class Ol extends Se{constructor(e){super(),Le(this,e,Vl,Ll,Pe,{})}}function Vt(s,e,t){const l=s.slice();return l[34]=e[t],l}function Ot(s,e,t){const l=s.slice();return l[37]=e[t],l}function Tt(s,e,t){const l=s.slice();return l[40]=e[t],l}function Nt(s,e,t){const l=s.slice();return l[43]=e[t],l}function jt(s){let e,t=s[43]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[43],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&32&&t!==(t=o[43]+"")&&x(l,t),r[0]&32&&i!==(i=o[43])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Bt(s){let e,t,l="Producto",n,i,o,r,h,_=F(s[7]),u=[];for(let f=0;f<_.length;f+=1)u[f]=At(Tt(s,_,f));return{c(){e=E("div"),t=E("label"),t.textContent=l,n=N(),i=E("div"),o=E("select");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=I(f,"DIV",{class:!0});var d=D(e);t=I(d,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(t)!=="svelte-tw3mbh"&&(t.textContent=l),n=j(d),i=I(d,"DIV",{class:!0});var c=D(i);o=I(c,"SELECT",{class:!0});var a=D(o);for(let p=0;p<u.length;p+=1)u[p].l(a);a.forEach(m),c.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","label"),k(t,"for",""),k(o,"class","svelte-dkkcgn"),s[8]===void 0&&Te(()=>s[21].call(o)),k(i,"class","select svelte-dkkcgn"),k(e,"class","field")},m(f,d){q(f,e,d),g(e,t),g(e,n),g(e,i),g(i,o);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(o,null);ce(o,s[8],!0),s[23](e),r||(h=[Z(o,"change",s[21]),Z(o,"change",s[22])],r=!0)},p(f,d){if(d[0]&128){_=F(f[7]);let c;for(c=0;c<_.length;c+=1){const a=Tt(f,_,c);u[c]?u[c].p(a,d):(u[c]=At(a),u[c].c(),u[c].m(o,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=_.length}d[0]&384&&ce(o,f[8])},d(f){f&&m(e),ae(u,f),s[23](null),r=!1,ze(h)}}}function At(s){let e,t=s[40]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[40],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&128&&t!==(t=o[40]+"")&&x(l,t),r[0]&128&&i!==(i=o[40])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function qt(s){let e,t,l="Marca",n,i,o,r,h,_=F(s[9]),u=[];for(let f=0;f<_.length;f+=1)u[f]=yt(Ot(s,_,f));return{c(){e=E("div"),t=E("label"),t.textContent=l,n=N(),i=E("div"),o=E("select");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=I(f,"DIV",{class:!0});var d=D(e);t=I(d,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(t)!=="svelte-12421p1"&&(t.textContent=l),n=j(d),i=I(d,"DIV",{class:!0});var c=D(i);o=I(c,"SELECT",{class:!0});var a=D(o);for(let p=0;p<u.length;p+=1)u[p].l(a);a.forEach(m),c.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","label"),k(t,"for",""),k(o,"class","svelte-dkkcgn"),s[10]===void 0&&Te(()=>s[24].call(o)),k(i,"class","select svelte-dkkcgn"),k(e,"class","field")},m(f,d){q(f,e,d),g(e,t),g(e,n),g(e,i),g(i,o);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(o,null);ce(o,s[10],!0),s[26](e),r||(h=[Z(o,"change",s[24]),Z(o,"change",s[25])],r=!0)},p(f,d){if(d[0]&512){_=F(f[9]);let c;for(c=0;c<_.length;c+=1){const a=Ot(f,_,c);u[c]?u[c].p(a,d):(u[c]=yt(a),u[c].c(),u[c].m(o,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=_.length}d[0]&1536&&ce(o,f[10])},d(f){f&&m(e),ae(u,f),s[26](null),r=!1,ze(h)}}}function yt(s){let e,t=s[37]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[37],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&512&&t!==(t=o[37]+"")&&x(l,t),r[0]&512&&i!==(i=o[37])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Ut(s){let e,t,l="Tarjeta",n,i,o,r,h,_=F(s[11]),u=[];for(let f=0;f<_.length;f+=1)u[f]=zt(Vt(s,_,f));return{c(){e=E("div"),t=E("label"),t.textContent=l,n=N(),i=E("div"),o=E("select");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=I(f,"DIV",{class:!0});var d=D(e);t=I(d,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(t)!=="svelte-13c8l3a"&&(t.textContent=l),n=j(d),i=I(d,"DIV",{class:!0});var c=D(i);o=I(c,"SELECT",{class:!0});var a=D(o);for(let p=0;p<u.length;p+=1)u[p].l(a);a.forEach(m),c.forEach(m),d.forEach(m),this.h()},h(){k(t,"class","label"),k(t,"for",""),k(o,"class","svelte-dkkcgn"),s[12]===void 0&&Te(()=>s[27].call(o)),k(i,"class","select svelte-dkkcgn"),k(e,"class","field")},m(f,d){q(f,e,d),g(e,t),g(e,n),g(e,i),g(i,o);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(o,null);ce(o,s[12],!0),s[29](e),r||(h=[Z(o,"change",s[27]),Z(o,"change",s[28])],r=!0)},p(f,d){if(d[0]&2048){_=F(f[11]);let c;for(c=0;c<_.length;c+=1){const a=Vt(f,_,c);u[c]?u[c].p(a,d):(u[c]=zt(a),u[c].c(),u[c].m(o,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=_.length}d[0]&6144&&ce(o,f[12])},d(f){f&&m(e),ae(u,f),s[29](null),r=!1,ze(h)}}}function zt(s){let e,t=s[34]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[34],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&2048&&t!==(t=o[34]+"")&&x(l,t),r[0]&2048&&i!==(i=o[34])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Mt(s){let e,t="Añadir producto",l,n;return{c(){e=E("button"),e.textContent=t,this.h()},l(i){e=I(i,"BUTTON",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-npq24q"&&(e.textContent=t),this.h()},h(){k(e,"class","button is-success mt-2 svelte-dkkcgn")},m(i,o){q(i,e,o),s[30](e),l||(n=Z(e,"click",s[31]),l=!0)},p:fe,d(i){i&&m(e),s[30](null),l=!1,n()}}}function Tl(s){let e,t,l,n,i,o=pe.paginaAgregarProductos+"",r,h,_,u,f="Institución",d,c,a,p,v,b,w,C,S;document.title=pe.appName;let L=F(s[5]),A=[];for(let B=0;B<L.length;B+=1)A[B]=jt(Nt(s,L,B));let V=s[7].length>0&&Bt(s),z=s[9].length>0&&qt(s),Q=s[11].length>0&&Ut(s),G=s[6].length>0&&s[8].length>0&&s[10].length>0&&s[12].length>0&&Mt(s);return{c(){e=N(),t=E("section"),l=E("div"),n=E("div"),i=E("div"),r=J(o),h=N(),_=E("div"),u=E("label"),u.textContent=f,d=N(),c=E("div"),a=E("select");for(let B=0;B<A.length;B+=1)A[B].c();p=N(),V&&V.c(),v=N(),z&&z.c(),b=N(),Q&&Q.c(),w=N(),G&&G.c(),this.h()},l(B){Qe("svelte-1gtgtlw",document.head).forEach(m),e=j(B),t=I(B,"SECTION",{class:!0});var M=D(t);l=I(M,"DIV",{class:!0});var de=D(l);n=I(de,"DIV",{class:!0});var we=D(n);i=I(we,"DIV",{class:!0});var ie=D(i);r=H(ie,o),ie.forEach(m),we.forEach(m),de.forEach(m),h=j(M),_=I(M,"DIV",{class:!0});var oe=D(_);u=I(oe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(u)!=="svelte-19ukkfe"&&(u.textContent=f),d=j(oe),c=I(oe,"DIV",{class:!0});var Ve=D(c);a=I(Ve,"SELECT",{class:!0});var Ce=D(a);for(let _e=0;_e<A.length;_e+=1)A[_e].l(Ce);Ce.forEach(m),Ve.forEach(m),oe.forEach(m),p=j(M),V&&V.l(M),v=j(M),z&&z.l(M),b=j(M),Q&&Q.l(M),w=j(M),G&&G.l(M),M.forEach(m),this.h()},h(){k(i,"class","title is-4 svelte-dkkcgn"),k(n,"class","titulo-beneficios"),k(l,"class","mis-beneficios mb-4 svelte-dkkcgn"),k(u,"class","label"),k(u,"for",""),k(a,"class","svelte-dkkcgn"),s[6]===void 0&&Te(()=>s[18].call(a)),k(c,"class","select svelte-dkkcgn"),k(_,"class","field"),k(t,"class","inicio")},m(B,K){q(B,e,K),q(B,t,K),g(t,l),g(l,n),g(n,i),g(i,r),g(t,h),g(t,_),g(_,u),g(_,d),g(_,c),g(c,a);for(let M=0;M<A.length;M+=1)A[M]&&A[M].m(a,null);ce(a,s[6],!0),s[20](_),g(t,p),V&&V.m(t,null),g(t,v),z&&z.m(t,null),g(t,b),Q&&Q.m(t,null),g(t,w),G&&G.m(t,null),C||(S=[Z(a,"change",s[18]),Z(a,"change",s[19])],C=!0)},p(B,K){if(K[0]&32){L=F(B[5]);let M;for(M=0;M<L.length;M+=1){const de=Nt(B,L,M);A[M]?A[M].p(de,K):(A[M]=jt(de),A[M].c(),A[M].m(a,null))}for(;M<A.length;M+=1)A[M].d(1);A.length=L.length}K[0]&96&&ce(a,B[6]),B[7].length>0?V?V.p(B,K):(V=Bt(B),V.c(),V.m(t,v)):V&&(V.d(1),V=null),B[9].length>0?z?z.p(B,K):(z=qt(B),z.c(),z.m(t,b)):z&&(z.d(1),z=null),B[11].length>0?Q?Q.p(B,K):(Q=Ut(B),Q.c(),Q.m(t,w)):Q&&(Q.d(1),Q=null),B[6].length>0&&B[8].length>0&&B[10].length>0&&B[12].length>0?G?G.p(B,K):(G=Mt(B),G.c(),G.m(t,null)):G&&(G.d(1),G=null)},i:fe,o:fe,d(B){B&&(m(e),m(t)),ae(A,B),s[20](null),V&&V.d(),z&&z.d(),Q&&Q.d(),G&&G.d(),C=!1,ze(S)}}}function Nl(s,e,t){let l=null,n=null,i=null,o=null,r=null,h=[],_=[],u="",f=[],d="",c=[],a="",p=[],v="";async function b(){t(5,_=[...new Set(h.map(O=>O.institucion))]),t(7,f=[]),t(9,c=[]),t(11,p=[]),t(6,u=""),t(8,d=""),t(10,a=""),t(12,v=""),await ge(),_.sort((O,te)=>O.localeCompare(te)),t(5,_=[..._]),console.log("opcionesInstitucion",_),await ge(),l!=null&&l.scrollIntoView()}async function w(){t(9,c=[]),t(11,p=[]),t(8,d=""),t(10,a=""),t(12,v=""),await ge(),console.log("institucionSeleccionada",u),t(7,f=[...new Set(h.filter(O=>O.institucion===u).map(O=>O.nombre))]),await ge(),f.sort((O,te)=>O.localeCompare(te)),t(7,f=[...f]),console.log("opcionesProducto",f),await ge(),n!=null&&n.scrollIntoView()}async function C(){t(11,p=[]),t(10,a=""),t(12,v=""),t(9,c=[...new Set(h.filter(O=>O.institucion===u&&O.nombre===d).map(O=>O.marca))]),c.sort((O,te)=>O.localeCompare(te)),t(9,c=[...c]),console.log("opcionesMarca",c),await ge(),i!=null&&i.scrollIntoView()}async function S(){t(12,v=""),t(11,p=[...new Set(h.filter(O=>O.institucion===u&&O.nombre===d&&O.marca===a).map(O=>O.segmento))]),p.sort((O,te)=>O.localeCompare(te)),t(11,p=[...p]),console.log("opcionesTarjeta",p),await ge(),o!=null&&o.scrollIntoView()}async function L(){await ge(),r!=null&&r.scrollIntoView()}function A(){let O=[];try{const U=localStorage.getItem(Ue)??"[]";O=Ae.array().parse(JSON.parse(U))}catch(U){console.error("error al obtener productos guardados",U)}const te=O.find(U=>U.institucion===u&&U.nombre===d&&U.marca===a&&U.segmento===v),y=h.find(U=>U.institucion===u&&U.nombre===d&&U.marca===a&&U.segmento===v);if(y==null){console.error("producto no existe",{institucionSeleccionada:u,productoSeleccionado:d,marcaSeleccionada:a});return}te==null&&O.push(y),localStorage.setItem(Ue,JSON.stringify(O)),et.fire({icon:"success",title:"Producto guardado",text:`${u} ${d} ${v} ${a}`,confirmButtonText:"Aceptar"})}Oe(()=>{h=ol(),b()});function V(){u=Ne(this),t(6,u),t(5,_)}const z=()=>w();function Q(O){ve[O?"unshift":"push"](()=>{l=O,t(0,l)})}function G(){d=Ne(this),t(8,d),t(7,f)}const B=()=>C();function K(O){ve[O?"unshift":"push"](()=>{n=O,t(1,n)})}function M(){a=Ne(this),t(10,a),t(9,c)}const de=()=>S();function we(O){ve[O?"unshift":"push"](()=>{i=O,t(2,i)})}function ie(){v=Ne(this),t(12,v),t(11,p)}const oe=()=>L();function Ve(O){ve[O?"unshift":"push"](()=>{o=O,t(3,o)})}function Ce(O){ve[O?"unshift":"push"](()=>{r=O,t(4,r)})}return[l,n,i,o,r,_,u,f,d,c,a,p,v,w,C,S,L,A,V,z,Q,G,B,K,M,de,we,ie,oe,Ve,Ce,()=>A()]}class jl extends Se{constructor(e){super(),Le(this,e,Nl,Tl,Pe,{},null,[-1,-1])}}const{document:Jt}=rl;function Ht(s,e,t){const l=s.slice();return l[37]=e[t],l}function Rt(s,e,t){const l=s.slice();return l[40]=e[t],l}function Ft(s,e,t){const l=s.slice();return l[37]=e[t],l}function $t(s,e,t){const l=s.slice();return l[45]=e[t],l}function Gt(s,e,t){const l=s.slice();return l[48]=e[t],l}function Kt(s){let e,t,l,n="Institución",i,o,r,h,_="Ninguna",u,f,d,c,a="Producto",p,v,b,w,C="Ninguno",S,L,A,V,z="Día de la semana",Q,G,B,K,M="Ninguno",de,we,ie,oe,Ve="Local",Ce,_e,O,te,y="Ninguno",U,me,qe,ye=F(s[6]),W=[];for(let T=0;T<ye.length;T+=1)W[T]=Qt(Gt(s,ye,T));let Me=F(s[7]),ne=[];for(let T=0;T<Me.length;T+=1)ne[T]=Wt($t(s,Me,T));let Je=F(s[8]),se=[];for(let T=0;T<Je.length;T+=1)se[T]=Xt(Ft(s,Je,T));let He=F(s[9]),re=[];for(let T=0;T<He.length;T+=1)re[T]=Yt(Rt(s,He,T));return{c(){e=E("div"),t=E("div"),l=E("label"),l.textContent=n,i=N(),o=E("div"),r=E("select"),h=E("option"),h.textContent=_;for(let T=0;T<W.length;T+=1)W[T].c();f=N(),d=E("div"),c=E("label"),c.textContent=a,p=N(),v=E("div"),b=E("select"),w=E("option"),w.textContent=C;for(let T=0;T<ne.length;T+=1)ne[T].c();L=N(),A=E("div"),V=E("label"),V.textContent=z,Q=N(),G=E("div"),B=E("select"),K=E("option"),K.textContent=M;for(let T=0;T<se.length;T+=1)se[T].c();we=N(),ie=E("div"),oe=E("label"),oe.textContent=Ve,Ce=N(),_e=E("div"),O=E("select"),te=E("option"),te.textContent=y;for(let T=0;T<re.length;T+=1)re[T].c();this.h()},l(T){e=I(T,"DIV",{class:!0});var X=D(e);t=I(X,"DIV",{class:!0});var P=D(t);l=I(P,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(l)!=="svelte-19ukkfe"&&(l.textContent=n),i=j(P),o=I(P,"DIV",{class:!0});var he=D(o);r=I(he,"SELECT",{class:!0});var We=D(r);h=I(We,"OPTION",{"data-svelte-h":!0}),le(h)!=="svelte-56rvmw"&&(h.textContent=_);for(let ue=0;ue<W.length;ue+=1)W[ue].l(We);We.forEach(m),he.forEach(m),P.forEach(m),f=j(X),d=I(X,"DIV",{class:!0});var Fe=D(d);c=I(Fe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(c)!=="svelte-tw3mbh"&&(c.textContent=a),p=j(Fe),v=I(Fe,"DIV",{class:!0});var st=D(v);b=I(st,"SELECT",{class:!0});var Xe=D(b);w=I(Xe,"OPTION",{"data-svelte-h":!0}),le(w)!=="svelte-1p9iu4y"&&(w.textContent=C);for(let ue=0;ue<ne.length;ue+=1)ne[ue].l(Xe);Xe.forEach(m),st.forEach(m),Fe.forEach(m),L=j(X),A=I(X,"DIV",{class:!0});var $e=D(A);V=I($e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(V)!=="svelte-4y0urq"&&(V.textContent=z),Q=j($e),G=I($e,"DIV",{class:!0});var rt=D(G);B=I(rt,"SELECT",{class:!0});var Ye=D(B);K=I(Ye,"OPTION",{"data-svelte-h":!0}),le(K)!=="svelte-1p9iu4y"&&(K.textContent=M);for(let ue=0;ue<se.length;ue+=1)se[ue].l(Ye);Ye.forEach(m),rt.forEach(m),$e.forEach(m),we=j(X),ie=I(X,"DIV",{class:!0});var Ge=D(ie);oe=I(Ge,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),le(oe)!=="svelte-whtky8"&&(oe.textContent=Ve),Ce=j(Ge),_e=I(Ge,"DIV",{class:!0});var it=D(_e);O=I(it,"SELECT",{class:!0});var Ze=D(O);te=I(Ze,"OPTION",{"data-svelte-h":!0}),le(te)!=="svelte-1p9iu4y"&&(te.textContent=y);for(let ue=0;ue<re.length;ue+=1)re[ue].l(Ze);Ze.forEach(m),it.forEach(m),Ge.forEach(m),X.forEach(m),this.h()},h(){k(l,"class","label"),k(l,"for",""),h.__value="",ee(h,h.__value),r.disabled=u=s[6].length===0,k(r,"class","svelte-6p4kcx"),s[10]===void 0&&Te(()=>s[20].call(r)),k(o,"class","select svelte-6p4kcx"),k(t,"class","field"),k(c,"class","label"),k(c,"for",""),w.__value="",ee(w,w.__value),b.disabled=S=s[7].length===0,k(b,"class","svelte-6p4kcx"),s[11]===void 0&&Te(()=>s[23].call(b)),k(v,"class","select svelte-6p4kcx"),k(d,"class","field"),k(V,"class","label"),k(V,"for",""),K.__value="",ee(K,K.__value),B.disabled=de=s[8].length===0,k(B,"class","svelte-6p4kcx"),s[12]===void 0&&Te(()=>s[26].call(B)),k(G,"class","select svelte-6p4kcx"),k(A,"class","field"),k(oe,"class","label"),k(oe,"for",""),te.__value="",ee(te,te.__value),O.disabled=U=s[9].length===0,k(O,"class","svelte-6p4kcx"),s[13]===void 0&&Te(()=>s[29].call(O)),k(_e,"class","select svelte-6p4kcx"),k(ie,"class","field"),k(e,"class","filtros mt-2 svelte-6p4kcx")},m(T,X){q(T,e,X),g(e,t),g(t,l),g(t,i),g(t,o),g(o,r),g(r,h);for(let P=0;P<W.length;P+=1)W[P]&&W[P].m(r,null);ce(r,s[10],!0),s[22](t),g(e,f),g(e,d),g(d,c),g(d,p),g(d,v),g(v,b),g(b,w);for(let P=0;P<ne.length;P+=1)ne[P]&&ne[P].m(b,null);ce(b,s[11],!0),s[25](d),g(e,L),g(e,A),g(A,V),g(A,Q),g(A,G),g(G,B),g(B,K);for(let P=0;P<se.length;P+=1)se[P]&&se[P].m(B,null);ce(B,s[12],!0),s[28](A),g(e,we),g(e,ie),g(ie,oe),g(ie,Ce),g(ie,_e),g(_e,O),g(O,te);for(let P=0;P<re.length;P+=1)re[P]&&re[P].m(O,null);ce(O,s[13],!0),s[31](ie),me||(qe=[Z(r,"change",s[20]),Z(r,"change",s[21]),Z(b,"change",s[23]),Z(b,"change",s[24]),Z(B,"change",s[26]),Z(B,"change",s[27]),Z(O,"change",s[29]),Z(O,"change",s[30])],me=!0)},p(T,X){if(X[0]&64){ye=F(T[6]);let P;for(P=0;P<ye.length;P+=1){const he=Gt(T,ye,P);W[P]?W[P].p(he,X):(W[P]=Qt(he),W[P].c(),W[P].m(r,null))}for(;P<W.length;P+=1)W[P].d(1);W.length=ye.length}if(X[0]&64&&u!==(u=T[6].length===0)&&(r.disabled=u),X[0]&1088&&ce(r,T[10]),X[0]&128){Me=F(T[7]);let P;for(P=0;P<Me.length;P+=1){const he=$t(T,Me,P);ne[P]?ne[P].p(he,X):(ne[P]=Wt(he),ne[P].c(),ne[P].m(b,null))}for(;P<ne.length;P+=1)ne[P].d(1);ne.length=Me.length}if(X[0]&128&&S!==(S=T[7].length===0)&&(b.disabled=S),X[0]&2176&&ce(b,T[11]),X[0]&256){Je=F(T[8]);let P;for(P=0;P<Je.length;P+=1){const he=Ft(T,Je,P);se[P]?se[P].p(he,X):(se[P]=Xt(he),se[P].c(),se[P].m(B,null))}for(;P<se.length;P+=1)se[P].d(1);se.length=Je.length}if(X[0]&256&&de!==(de=T[8].length===0)&&(B.disabled=de),X[0]&4352&&ce(B,T[12]),X[0]&512){He=F(T[9]);let P;for(P=0;P<He.length;P+=1){const he=Rt(T,He,P);re[P]?re[P].p(he,X):(re[P]=Yt(he),re[P].c(),re[P].m(O,null))}for(;P<re.length;P+=1)re[P].d(1);re.length=He.length}X[0]&512&&U!==(U=T[9].length===0)&&(O.disabled=U),X[0]&8704&&ce(O,T[13])},d(T){T&&m(e),ae(W,T),s[22](null),ae(ne,T),s[25](null),ae(se,T),s[28](null),ae(re,T),s[31](null),me=!1,ze(qe)}}}function Qt(s){let e,t=s[48]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[48],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&64&&t!==(t=o[48]+"")&&x(l,t),r[0]&64&&i!==(i=o[48])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Wt(s){let e,t=s[45]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[45],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&128&&t!==(t=o[45]+"")&&x(l,t),r[0]&128&&i!==(i=o[45])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Xt(s){let e,t=s[37]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[37],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&256&&t!==(t=o[37]+"")&&x(l,t),r[0]&256&&i!==(i=o[37])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Yt(s){let e,t=s[40]+"",l,n,i;return{c(){e=E("option"),l=J(t),n=N(),this.h()},l(o){e=I(o,"OPTION",{});var r=D(e);l=H(r,t),n=j(r),r.forEach(m),this.h()},h(){e.__value=i=s[40],ee(e,e.__value)},m(o,r){q(o,e,r),g(e,l),g(e,n)},p(o,r){r[0]&512&&t!==(t=o[40]+"")&&x(l,t),r[0]&512&&i!==(i=o[40])&&(e.__value=i,ee(e,e.__value))},d(o){o&&m(e)}}}function Zt(s){let e,t,l,n,i;return n=new nt({props:{dia:s[37]}}),{c(){e=E("span"),l=N(),be(n.$$.fragment),this.h()},l(o){e=I(o,"SPAN",{id:!0}),D(e).forEach(m),l=j(o),ke(n.$$.fragment,o),this.h()},h(){k(e,"id",t=`explorar-dia-${s[37].dia.toLowerCase()}`)},m(o,r){q(o,e,r),q(o,l,r),Ee(n,o,r),i=!0},p(o,r){(!i||r[0]&32&&t!==(t=`explorar-dia-${o[37].dia.toLowerCase()}`))&&k(e,"id",t);const h={};r[0]&32&&(h.dia=o[37]),n.$set(h)},i(o){i||(R(n.$$.fragment,o),i=!0)},o(o){Y(n.$$.fragment,o),i=!1},d(o){o&&(m(e),m(l)),Ie(n,o)}}}function Bl(s){let e,t,l,n,i,o=pe.paginaExplorar+"",r,h,_,u="Filtrar beneficios",f,d,c,a,p,v;Jt.title=pe.appName;let b=s[14]&&Kt(s),w=F(s[5]),C=[];for(let L=0;L<w.length;L+=1)C[L]=Zt(Ht(s,w,L));const S=L=>Y(C[L],1,1,()=>{C[L]=null});return{c(){e=N(),t=E("section"),l=E("div"),n=E("div"),i=E("div"),r=J(o),h=N(),_=E("button"),_.textContent=u,f=N(),b&&b.c(),d=N(),c=E("div");for(let L=0;L<C.length;L+=1)C[L].c();this.h()},l(L){Qe("svelte-1gtgtlw",Jt.head).forEach(m),e=j(L),t=I(L,"SECTION",{class:!0});var V=D(t);l=I(V,"DIV",{class:!0});var z=D(l);n=I(z,"DIV",{class:!0});var Q=D(n);i=I(Q,"DIV",{class:!0});var G=D(i);r=H(G,o),G.forEach(m),Q.forEach(m),z.forEach(m),h=j(V),_=I(V,"BUTTON",{class:!0,"data-svelte-h":!0}),le(_)!=="svelte-1l6ekyo"&&(_.textContent=u),f=j(V),b&&b.l(V),d=j(V),c=I(V,"DIV",{class:!0});var B=D(c);for(let K=0;K<C.length;K+=1)C[K].l(B);B.forEach(m),V.forEach(m),this.h()},h(){k(i,"class","title is-4 svelte-6p4kcx"),k(n,"class","titulo-beneficios"),k(l,"class","mis-beneficios mb-4 svelte-6p4kcx"),k(_,"class","button is-link svelte-6p4kcx"),k(c,"class","descuentos mt-4"),k(t,"class","inicio")},m(L,A){q(L,e,A),q(L,t,A),g(t,l),g(l,n),g(n,i),g(i,r),g(t,h),g(t,_),g(t,f),b&&b.m(t,null),g(t,d),g(t,c);for(let V=0;V<C.length;V+=1)C[V]&&C[V].m(c,null);s[32](c),a=!0,p||(v=Z(_,"click",s[19]),p=!0)},p(L,A){if(L[14]?b?b.p(L,A):(b=Kt(L),b.c(),b.m(t,d)):b&&(b.d(1),b=null),A[0]&32){w=F(L[5]);let V;for(V=0;V<w.length;V+=1){const z=Ht(L,w,V);C[V]?(C[V].p(z,A),R(C[V],1)):(C[V]=Zt(z),C[V].c(),R(C[V],1),C[V].m(c,null))}for(je(),V=w.length;V<C.length;V+=1)S(V);Be()}},i(L){if(!a){for(let A=0;A<w.length;A+=1)R(C[A]);a=!0}},o(L){C=C.filter(Boolean);for(let A=0;A<C.length;A+=1)Y(C[A]);a=!1},d(L){L&&(m(e),m(t)),b&&b.d(),ae(C,L),s[32](null),p=!1,v()}}}function Al(s,e,t){let l=null,n=null,i=null,o=null,r,h=[],_=[],u=[],f=[],d=[],c=[],a="",p="",v="",b="",w=!1;const C=Ae.extend({ofertas:lt.array()});$.object({dia:$.string(),orden:$.number(),productos:C.array()});function S(){t(6,u=[]),t(7,f=[]),t(8,d=[]),t(9,c=[]),t(10,a=""),t(11,p=""),t(12,v=""),t(13,b="");for(const y of h)u.includes(y.producto.institucion)||u.push(y.producto.institucion);u.sort((y,U)=>y.localeCompare(U)),t(6,u=[...u])}function L(){t(12,v=""),t(13,b=""),t(7,f=[]),t(8,d=[]),t(9,c=[]);for(const y of h)a.length>0&&y.producto.institucion!==a||f.includes(y.producto.nombre)||f.push(y.producto.nombre);f.sort((y,U)=>y.localeCompare(U)),t(7,f=[...f])}function A(){t(13,b=""),t(8,d=[]),t(9,c=[]);for(const y of h)y.dia.split(" ").length>1||a.length>0&&y.producto.institucion!==a||p.length>0&&y.producto.nombre!==p||d.includes(y.dia)||d.push(y.dia);t(8,d=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"].filter(y=>d.map(U=>U.toLowerCase()).includes(y)).map(y=>Re(y))),t(8,d=[...d])}function V(){t(9,c=[]);for(const y of h)a.length>0&&y.producto.institucion!==a||p.length>0&&y.producto.nombre!==p||v.length>0&&y.dia!==v||c.includes(y.local)||c.push(y.local);c.sort((y,U)=>y.localeCompare(U)),t(9,c=[...c])}function z(){t(5,_=[]);const y=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const U of h){if(U.dia.split(" ").length>1||a.length>0&&U.producto.institucion!==a||p.length>0&&U.producto.nombre!==p||v.length>0&&U.dia!==v||b.length>0&&U.local!==b)continue;let me=_.findIndex(W=>W.dia===U.dia);me<0&&(_.push({dia:U.dia,productos:[],orden:y.indexOf(U.dia.toLowerCase())}),me=_.length-1);let qe=_[me].productos.findIndex(W=>W.institucion===U.producto.institucion&&W.nombre===U.producto.nombre&&W.marca===U.producto.marca&&W.segmento===U.producto.segmento&&W.categoria===U.producto.categoria);qe<0&&(_[me].productos.push({nombre:U.producto.nombre,institucion:U.producto.institucion,marca:U.producto.marca,segmento:U.producto.segmento,categoria:U.producto.categoria,ofertas:[]}),qe=_[me].productos.length-1),_[me].productos[qe].ofertas.findIndex(W=>W.local===U.local)<0&&_[me].productos[qe].ofertas.push({local:U.local,descuento:U.descuento})}ot(_),t(5,_=[..._]),t(6,u=[...u])}Oe(async()=>{h=tt(),z(),S(),L(),A(),V(),await ge();const y=Re(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase(),U=document.querySelector(`#explorar-dia-${y}`);U!=null&&U.scrollIntoView()});const Q=()=>t(14,w=!w);function G(){a=Ne(this),t(10,a),t(6,u)}const B=async()=>{L(),z(),await ge(),n!=null&&n.scrollIntoView()};function K(y){ve[y?"unshift":"push"](()=>{l=y,t(0,l)})}function M(){p=Ne(this),t(11,p),t(7,f)}const de=async()=>{A(),z(),await ge(),i!=null&&i.scrollIntoView()};function we(y){ve[y?"unshift":"push"](()=>{n=y,t(1,n)})}function ie(){v=Ne(this),t(12,v),t(8,d)}const oe=async()=>{V(),z(),await ge(),o!=null&&o.scrollIntoView()};function Ve(y){ve[y?"unshift":"push"](()=>{i=y,t(2,i)})}function Ce(){b=Ne(this),t(13,b),t(9,c)}const _e=()=>{z(),r.scrollIntoView()};function O(y){ve[y?"unshift":"push"](()=>{o=y,t(3,o)})}function te(y){ve[y?"unshift":"push"](()=>{r=y,t(4,r)})}return[l,n,i,o,r,_,u,f,d,c,a,p,v,b,w,L,A,V,z,Q,G,B,K,M,de,we,ie,oe,Ve,Ce,_e,O,te]}class ql extends Se{constructor(e){super(),Le(this,e,Al,Bl,Pe,{},null,[-1,-1])}}function yl(s){let e,t;return e=new jl({}),{c(){be(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,n){Ee(e,l,n),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function Ul(s){let e,t;return e=new ql({}),{c(){be(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,n){Ee(e,l,n),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function zl(s){let e,t;return e=new Ol({}),{c(){be(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,n){Ee(e,l,n),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function Ml(s){let e,t;return e=new Cl({}),{c(){be(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,n){Ee(e,l,n),t=!0},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){Y(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function Jl(s){let e,t,l,n;const i=[Ml,zl,Ul,yl],o=[];function r(h,_){return h[0]=="inicio"?0:h[0]=="mis-productos"?1:h[0]=="explorar-beneficios"?2:h[0]=="agregar-productos"?3:-1}return~(e=r(s))&&(t=o[e]=i[e](s)),{c(){t&&t.c(),l=De()},l(h){t&&t.l(h),l=De()},m(h,_){~e&&o[e].m(h,_),q(h,l,_),n=!0},p(h,[_]){let u=e;e=r(h),e!==u&&(t&&(je(),Y(o[u],1,1,()=>{o[u]=null}),Be()),~e?(t=o[e],t||(t=o[e]=i[e](h),t.c()),R(t,1),t.m(l.parentNode,l)):t=null)},i(h){n||(R(t),n=!0)},o(h){Y(t),n=!1},d(h){h&&m(l),~e&&o[e].d(h)}}}function Hl(s,e,t){let l;return Oe(()=>{Ke.subscribe(r=>{r!=null&&t(0,l=r)});const i=new URLSearchParams(location.search).get("pagina")??"",o=nl(i)?i:"inicio";Ke.set(o)}),[l]}class Rl extends Se{constructor(e){super(),Le(this,e,Hl,Jl,Pe,{})}}function xt(s){let e,t,l,n,i=s[0].email+"",o,r,h,_,u,f,d,c,a,p,v,b,w;e=new pl({});let C=s[1].length>0&&el(s);return c=new Rl({}),b=new vl({}),{c(){be(e.$$.fragment),t=N(),l=E("p"),n=J("¡Hola, "),o=J(i),r=J("!"),h=N(),C&&C.c(),_=N(),u=E("hr"),f=N(),d=E("div"),be(c.$$.fragment),a=N(),p=E("hr"),v=N(),be(b.$$.fragment),this.h()},l(S){ke(e.$$.fragment,S),t=j(S),l=I(S,"P",{class:!0});var L=D(l);n=H(L,"¡Hola, "),o=H(L,i),r=H(L,"!"),L.forEach(m),h=j(S),C&&C.l(S),_=j(S),u=I(S,"HR",{class:!0}),f=j(S),d=I(S,"DIV",{class:!0});var A=D(d);ke(c.$$.fragment,A),A.forEach(m),a=j(S),p=I(S,"HR",{class:!0}),v=j(S),ke(b.$$.fragment,S),this.h()},h(){k(l,"class","usuario svelte-4c6daz"),k(u,"class","svelte-4c6daz"),k(d,"class","router svelte-4c6daz"),k(p,"class","svelte-4c6daz")},m(S,L){Ee(e,S,L),q(S,t,L),q(S,l,L),g(l,n),g(l,o),g(l,r),q(S,h,L),C&&C.m(S,L),q(S,_,L),q(S,u,L),q(S,f,L),q(S,d,L),Ee(c,d,null),q(S,a,L),q(S,p,L),q(S,v,L),Ee(b,S,L),w=!0},p(S,L){(!w||L&1)&&i!==(i=S[0].email+"")&&x(o,i),S[1].length>0?C?C.p(S,L):(C=el(S),C.c(),C.m(_.parentNode,_)):C&&(C.d(1),C=null)},i(S){w||(R(e.$$.fragment,S),R(c.$$.fragment,S),R(b.$$.fragment,S),w=!0)},o(S){Y(e.$$.fragment,S),Y(c.$$.fragment,S),Y(b.$$.fragment,S),w=!1},d(S){S&&(m(t),m(l),m(h),m(_),m(u),m(f),m(d),m(a),m(p),m(v)),Ie(e,S),C&&C.d(S),Ie(c),Ie(b,S)}}}function el(s){let e,t,l;return{c(){e=E("p"),t=J("Actualizado el "),l=J(s[1]),this.h()},l(n){e=I(n,"P",{class:!0});var i=D(e);t=H(i,"Actualizado el "),l=H(i,s[1]),i.forEach(m),this.h()},h(){k(e,"class","actualizacion svelte-4c6daz")},m(n,i){q(n,e,i),g(e,t),g(e,l)},p(n,i){i&2&&x(l,n[1])},d(n){n&&m(e)}}}function Fl(s){let e,t,l=s[0]!=null&&xt(s);return{c(){l&&l.c(),e=De()},l(n){l&&l.l(n),e=De()},m(n,i){l&&l.m(n,i),q(n,e,i),t=!0},p(n,[i]){n[0]!=null?l?(l.p(n,i),i&1&&R(l,1)):(l=xt(n),l.c(),R(l,1),l.m(e.parentNode,e)):l&&(je(),Y(l,1,1,()=>{l=null}),Be())},i(n){t||(R(l),t=!0)},o(n){Y(l),t=!1},d(n){n&&m(e),l&&l.d(n)}}}function $l(s,e,t){const l=$.object({time:$.number().default(0)});let n=null,i="";async function o(){var u;const r=await fetch("build-info.json");if(!((u=r.headers.get("content-type"))!=null&&u.includes("application/json"))){console.error("fetch build info",r.status,await r.text());return}const h=l.parse(await r.json());if(h.time<=0)return;const _=new Date(h.time*1e3);t(1,i=_.toLocaleDateString("es-ES",{year:"numeric",day:"numeric",month:"long",weekday:"long"}).replaceAll(",",""))}return Oe(async()=>{await o(),sl.subscribe(r=>t(0,n=r))}),[n,i]}class Yl extends Se{constructor(e){super(),Le(this,e,$l,Fl,Pe,{})}}export{Yl as component,Xl as universal};
