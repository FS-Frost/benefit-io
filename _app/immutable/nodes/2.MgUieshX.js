import{s as Ee,n as ue,o as Oe,x as ye,b as Lt,y as Ot,g as Ve,r as Vt}from"../chunks/scheduler.DPANX2Ry.js";import{S as Ie,i as ke,e as _,c as g,a as I,d as v,o as b,g as O,A as se,s as B,t as U,f as M,b as z,h as p,y as oe,B as $e,z as re,j as ee,k as Ce,n as de,q as Bt,m as Mt,l as ve,C as Nt,u as Se,v as je,w as De,x as Pe,D as pe,E as ae,F as Be}from"../chunks/index.zdfC7bpQ.js";import{a as Ae,t as ce,z as G,c as Ze,i as At}from"../chunks/text.B-edVkdl.js";function y(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}const $t=!0,go=Object.freeze(Object.defineProperty({__proto__:null,prerender:$t},Symbol.toStringTag,{value:"Module"}));function Qe(a,e,t){const o=a.slice();return o[3]=e[t],o}function We(a){let e,t,o,l,c=a[3].text+"",r,s,h,u,n;function i(){return a[2](a[3])}return{c(){e=_("a"),t=_("i"),o=B(),l=_("span"),r=U(c),s=B(),this.h()},l(f){e=g(f,"A",{class:!0,href:!0});var d=I(e);t=g(d,"I",{class:!0}),I(t).forEach(v),o=M(d),l=g(d,"SPAN",{class:!0});var m=I(l);r=z(m,c),m.forEach(v),s=M(d),d.forEach(v),this.h()},h(){b(t,"class",ye(`fa-solid ${a[3].icon}`)+" svelte-18ubc0e"),b(l,"class","svelte-18ubc0e"),b(e,"class",h=ye(`opcion ${a[0]===a[3].page?"active":""}`)+" svelte-18ubc0e"),b(e,"href",`?pagina=${a[3].page}`)},m(f,d){O(f,e,d),p(e,t),p(e,o),p(e,l),p(l,r),p(e,s),u||(n=oe(e,"click",i),u=!0)},p(f,d){a=f,d&1&&h!==(h=ye(`opcion ${a[0]===a[3].page?"active":""}`)+" svelte-18ubc0e")&&b(e,"class",h)},d(f){f&&v(e),u=!1,n()}}}function wt(a){let e,t=y(a[1]),o=[];for(let l=0;l<t.length;l+=1)o[l]=We(Qe(a,t,l));return{c(){e=_("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=g(l,"DIV",{class:!0});var c=I(e);for(let r=0;r<o.length;r+=1)o[r].l(c);c.forEach(v),this.h()},h(){b(e,"class","opciones svelte-18ubc0e")},m(l,c){O(l,e,c);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(e,null)},p(l,[c]){if(c&3){t=y(l[1]);let r;for(r=0;r<t.length;r+=1){const s=Qe(l,t,r);o[r]?o[r].p(s,c):(o[r]=We(s),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=t.length}},i:ue,o:ue,d(l){l&&v(e),se(o,l)}}}function Rt(a,e,t){const o=[{icon:"fa-percent",page:"inicio",text:ce.paginaBeneficios},{icon:"fa-credit-card",page:"mis-productos",text:ce.paginaProductos},{icon:"fa-compass",page:"explorar-beneficios",text:ce.paginaExplorar},{icon:"fa-plus",page:"agregar-productos",text:ce.paginaAgregarProductos}];let l="inicio";return Oe(()=>{Ae.subscribe(r=>{t(0,l=r)})}),[l,o,r=>Ae.set(r.page)]}class Ut extends Ie{constructor(e){super(),ke(this,e,Rt,wt,Ee,{})}}function zt(a){let e,t,o,l,c;return document.title=e=a[0],{c(){t=B(),o=_("div"),l=_("h1"),c=U(a[0]),this.h()},l(r){$e("svelte-1uo06u1",document.head).forEach(v),t=M(r),o=g(r,"DIV",{class:!0});var h=I(o);l=g(h,"H1",{});var u=I(l);c=z(u,a[0]),u.forEach(v),h.forEach(v),this.h()},h(){b(o,"class","text-column")},m(r,s){O(r,t,s),O(r,o,s),p(o,l),p(l,c)},p(r,[s]){s&1&&e!==(e=r[0])&&(document.title=e)},i:ue,o:ue,d(r){r&&(v(t),v(o))}}}function Jt(a){return[ce.acercaDe]}class qt extends Ie{constructor(e){super(),ke(this,e,Jt,zt,Ee,{})}}G.object({nombre:G.string(),productos:G.string().array()});const Me=G.object({nombre:G.string(),proveedor:G.string()}),Fe=G.object({tienda:G.string(),descuento:G.number()});G.object({proveedor:G.string(),producto:G.string(),ofertas:Fe.array()});G.object({ciudad:G.string(),dia:G.string(),proveedor:G.string(),producto:G.string(),tienda:G.string(),descuento:G.number()});const he=[{ciudad:"Antofagasta",dia:"Martes",proveedor:"Banco Itaú",tienda:"FOGO",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"CLIB de Yates",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Steakhouse",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Jueves",proveedor:"Banco Bice",tienda:"BRUNNIT",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Jueves",proveedor:"Banco Ripley",tienda:"De Rock & Burger",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Viernes",proveedor:"BCI",tienda:"Ámbar Restobar",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Banco de Chile",tienda:"Tuto Beach",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Banco Ripley",tienda:"Bar de Lobos",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Security",tienda:"La Pasta de la Nonna",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Miércoles",proveedor:"CMR",tienda:"G14",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Terramola",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Jueves",proveedor:"Banco Bice",tienda:"La Pasta de la Nonna",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Viernes",proveedor:"BCI",tienda:"Rosa Amelia",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Concón",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"Los Hornitos",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Curacaví",dia:"Miércoles",proveedor:"Santander",tienda:"Raymi",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Frutillar",dia:"Miércoles",proveedor:"CMR",tienda:"Fugas del Mar",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Martes",proveedor:"Banco Itaú",tienda:"Yado by Asia",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Martes",proveedor:"Santander (sin límite)",tienda:"Piso 21",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Dominga Bistró",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Jueves",proveedor:"BCI",tienda:"La Mulata",descuento:40,producto:"Tarjeta de débito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Banco Itaú",tienda:"Terrazza",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Santander (sin límite)",tienda:"Tollo Beach",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Security",tienda:"Hotel Costa Real",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Jueves",proveedor:"Santander",tienda:"Zona Zero",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Los Ángeles",dia:"Martes",proveedor:"Banco Itaú",tienda:"Bife Sureño",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Machalí",dia:"Martes",proveedor:"Banco Itaú",tienda:"La Hacienda Machalí",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Matencillo",dia:"Miércoles",proveedor:"Santander Amex",tienda:"La Pesca",descuento:50,producto:"Tarjeta de crédito"},{ciudad:"Osorno",dia:"Martes",proveedor:"Banco Itaú",tienda:"El Galpón",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Osorno",dia:"Jueves",proveedor:"Banco Bice",tienda:"Greed",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Pichilemu",dia:"Viernes",proveedor:"BCI",tienda:"Bocas del Mar",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Pichilemu",dia:"Martes",proveedor:"Security",tienda:"Camalache",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Varas",dia:"Martes",proveedor:"Santander",tienda:"Hotel Awa",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Montt",dia:"Jueves",proveedor:"Banco Bice",tienda:"Hotel Bellavista",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Montt",dia:"Viernes",proveedor:"BCI",tienda:"Da Alessandro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Rancagua/Machalí",dia:"Jueves",proveedor:"Banco Itaú",tienda:"Da Alessandro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Rancagua/Machalí",dia:"Jueves",proveedor:"Banco Bice",tienda:"Don Teo",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Reñaca",dia:"Miércoles",proveedor:"Santander Amex",tienda:"SUMOKU",descuento:50,producto:"Tarjeta de crédito"},{ciudad:"Reñaca/Viña",dia:"Jueves",proveedor:"BCI",tienda:"INSOMNIO",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Fernando",dia:"Jueves",proveedor:"Scotiabank",tienda:"Sarzones",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Pedro de la Paz",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"Augusta Bar",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Pedro de la Paz",dia:"Viernes",proveedor:"Scotiabank",tienda:"La Barra Restobar",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Domingo",proveedor:"Banco de Chile",tienda:"Noi Blend",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Martes",proveedor:"Santander",tienda:"Casa Albergue",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Miércoles",proveedor:"Security",tienda:"La Fábrica",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Carnes Domo",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Martes",proveedor:"Banco Itaú",tienda:"La Fuente Italiana",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"Sushi House",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Viernes",proveedor:"Santander (sin límite)",tienda:"Radho",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Miércoles",proveedor:"Santander",tienda:"León de San Martin",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Jueves",proveedor:"BCI",tienda:"Hashigo",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Secret Garden",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Tomé",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Icaro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valdivia",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Riviera Poke",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valdivia",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"La Parrilla de Thor",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valparaíso",dia:"Lunes",proveedor:"Banco Itaú",tienda:"Sazón Peruano",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valparaíso",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Puerto Claro",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Martes",proveedor:"Banco Ripley",tienda:"Lima 51",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"Hotel Sheraton",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Viernes",proveedor:"BCI",tienda:"Valentini's",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Mall Marina",dia:"Lunes a Viernes",proveedor:"CMR",tienda:"Luna Vieja",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña/Coquimbo",dia:"Miércoles",proveedor:"Santander",tienda:"Sibarac",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Mall Marina",dia:"Lunes a Viernes",proveedor:"CMR",tienda:"Sanguchería del B.",descuento:20,producto:"Tarjeta de crédito"}],Le="benefit.productos";function Xe(a,e,t){const o=a.slice();return o[8]=e[t],o}function xe(a,e,t){const o=a.slice();return o[11]=e[t],o}function et(a,e,t){const o=a.slice();return o[14]=e[t],o}function tt(a){let e,t=`No tienes beneficios para hoy. ¿Tienes alguna tarjeta?
                ¡Agrégala!`,o,l,c="Agregar mis productos",r,s;return{c(){e=_("p"),e.textContent=t,o=B(),l=_("button"),l.textContent=c,this.h()},l(h){e=g(h,"P",{class:!0,"data-svelte-h":!0}),re(e)!=="svelte-1kyegrk"&&(e.textContent=t),o=M(h),l=g(h,"BUTTON",{class:!0,"data-svelte-h":!0}),re(l)!=="svelte-8qm8l7"&&(l.textContent=c),this.h()},h(){b(e,"class","mb-4"),b(l,"class","button is-success is-fullwidth svelte-lldgm9")},m(h,u){O(h,e,u),O(h,o,u),O(h,l,u),r||(s=oe(l,"click",a[3]),r=!0)},d(h){h&&(v(e),v(o),v(l)),r=!1,s()}}}function ot(a){let e,t,o=a[14].tienda+"",l,c,r,s=a[14].descuento+"",h,u;return{c(){e=_("div"),t=_("span"),l=U(o),c=B(),r=_("span"),h=U(s),u=U(" %"),this.h()},l(n){e=g(n,"DIV",{class:!0});var i=I(e);t=g(i,"SPAN",{});var f=I(t);l=z(f,o),f.forEach(v),c=M(i),r=g(i,"SPAN",{});var d=I(r);h=z(d,s),u=z(d," %"),d.forEach(v),i.forEach(v),this.h()},h(){b(e,"class","oferta svelte-lldgm9")},m(n,i){O(n,e,i),p(e,t),p(t,l),p(e,c),p(e,r),p(r,h),p(r,u)},p(n,i){i&1&&o!==(o=n[14].tienda+"")&&ee(l,o),i&1&&s!==(s=n[14].descuento+"")&&ee(h,s)},d(n){n&&v(e)}}}function rt(a){let e,t=a[11].proveedor+"",o,l,c=a[11].nombre+"",r,s,h,u=y(a[11].ofertas),n=[];for(let i=0;i<u.length;i+=1)n[i]=ot(et(a,u,i));return{c(){e=_("div"),o=U(t),l=U(" - "),r=U(c),s=B();for(let i=0;i<n.length;i+=1)n[i].c();h=Ce()},l(i){e=g(i,"DIV",{});var f=I(e);o=z(f,t),l=z(f," - "),r=z(f,c),f.forEach(v),s=M(i);for(let d=0;d<n.length;d+=1)n[d].l(i);h=Ce()},m(i,f){O(i,e,f),p(e,o),p(e,l),p(e,r),O(i,s,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(i,f);O(i,h,f)},p(i,f){if(f&1&&t!==(t=i[11].proveedor+"")&&ee(o,t),f&1&&c!==(c=i[11].nombre+"")&&ee(r,c),f&1){u=y(i[11].ofertas);let d;for(d=0;d<u.length;d+=1){const m=et(i,u,d);n[d]?n[d].p(m,f):(n[d]=ot(m),n[d].c(),n[d].m(h.parentNode,h))}for(;d<n.length;d+=1)n[d].d(1);n.length=u.length}},d(i){i&&(v(e),v(s),v(h)),se(n,i)}}}function at(a){let e,t,o,l=a[8].dia+"",c,r,s,h=y(a[8].productos),u=[];for(let n=0;n<h.length;n+=1)u[n]=rt(xe(a,h,n));return{c(){e=_("div"),t=_("div"),o=U("Septiembre: "),c=U(l),r=B();for(let n=0;n<u.length;n+=1)u[n].c();s=B(),this.h()},l(n){e=g(n,"DIV",{class:!0});var i=I(e);t=g(i,"DIV",{class:!0});var f=I(t);o=z(f,"Septiembre: "),c=z(f,l),f.forEach(v),r=M(i);for(let d=0;d<u.length;d+=1)u[d].l(i);s=M(i),i.forEach(v),this.h()},h(){b(t,"class","subtitulo svelte-lldgm9"),b(e,"class","dia svelte-lldgm9")},m(n,i){O(n,e,i),p(e,t),p(t,o),p(t,c),p(e,r);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(e,null);p(e,s)},p(n,i){if(i&1&&l!==(l=n[8].dia+"")&&ee(c,l),i&1){h=y(n[8].productos);let f;for(f=0;f<h.length;f+=1){const d=xe(n,h,f);u[f]?u[f].p(d,i):(u[f]=rt(d),u[f].c(),u[f].m(e,s))}for(;f<u.length;f+=1)u[f].d(1);u.length=h.length}},d(n){n&&v(e),se(u,n)}}}function Ht(a){let e,t,o,l,c,r="Mis beneficios",s,h,u,n,i,f,d='<i class="fa-solid fa-sliders"></i>',m,k,C,T,V;document.title=ce.appName;let D=a[0].length==0&&tt(a),R=y(a[0]),S=[];for(let A=0;A<R.length;A+=1)S[A]=at(Xe(a,R,A));return{c(){e=B(),t=_("section"),o=_("div"),l=_("div"),c=_("div"),c.textContent=r,s=B(),h=_("div"),u=U(a[1]),n=B(),i=_("div"),f=_("button"),f.innerHTML=d,m=B(),k=_("div"),D&&D.c(),C=B();for(let A=0;A<S.length;A+=1)S[A].c();this.h()},l(A){$e("svelte-1gtgtlw",document.head).forEach(v),e=M(A),t=g(A,"SECTION",{class:!0});var N=I(t);o=g(N,"DIV",{class:!0});var w=I(o);l=g(w,"DIV",{class:!0});var Y=I(l);c=g(Y,"DIV",{class:!0,"data-svelte-h":!0}),re(c)!=="svelte-1j2i0gn"&&(c.textContent=r),s=M(Y),h=g(Y,"DIV",{class:!0});var _e=I(h);u=z(_e,a[1]),_e.forEach(v),Y.forEach(v),n=M(w),i=g(w,"DIV",{class:!0});var H=I(i);f=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),re(f)!=="svelte-1rjd7b6"&&(f.innerHTML=d),H.forEach(v),w.forEach(v),m=M(N),k=g(N,"DIV",{class:!0});var te=I(k);D&&D.l(te),C=M(te);for(let $=0;$<S.length;$+=1)S[$].l(te);te.forEach(v),N.forEach(v),this.h()},h(){b(c,"class","title is-3 svelte-lldgm9"),b(h,"class","title subtitle mt-2 is-6 svelte-lldgm9"),b(l,"class","titulo-beneficios"),b(f,"class","button button-opciones svelte-lldgm9"),b(i,"class","opciones svelte-lldgm9"),b(o,"class","mis-beneficios mb-4 svelte-lldgm9"),b(k,"class","descuentos mt-4"),b(t,"class","inicio")},m(A,Q){O(A,e,Q),O(A,t,Q),p(t,o),p(o,l),p(l,c),p(l,s),p(l,h),p(h,u),p(o,n),p(o,i),p(i,f),p(t,m),p(t,k),D&&D.m(k,null),p(k,C);for(let N=0;N<S.length;N+=1)S[N]&&S[N].m(k,null);T||(V=oe(f,"click",a[2]),T=!0)},p(A,[Q]){if(Q&2&&ee(u,A[1]),A[0].length==0?D||(D=tt(A),D.c(),D.m(k,C)):D&&(D.d(1),D=null),Q&1){R=y(A[0]);let N;for(N=0;N<R.length;N+=1){const w=Xe(A,R,N);S[N]?S[N].p(w,Q):(S[N]=at(w),S[N].c(),S[N].m(k,null))}for(;N<S.length;N+=1)S[N].d(1);S.length=R.length}},i:ue,o:ue,d(A){A&&(v(e),v(t)),D&&D.d(),se(S,A),T=!1,V()}}}function yt(a,e,t){let o=[],l="",c=[];const r=Me.extend({ofertas:Fe.array()});G.object({dia:G.string(),orden:G.number(),productos:r.array()});function s(n){console.log("filtrarDescuentos"),t(0,o=[]);const i=Ze(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase(),f=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const d of n){if(d.dia.split(" ").length>1||d.dia.toLowerCase()!==i||!c.some(T=>T.proveedor===d.proveedor&&T.nombre===d.producto))continue;let m=o.findIndex(T=>T.dia===d.dia);m<0&&(o.push({dia:d.dia,productos:[],orden:f.indexOf(d.dia.toLowerCase())}),m=o.length-1);let k=o[m].productos.findIndex(T=>T.nombre===d.producto);k<0&&(o[m].productos.push({nombre:d.producto,proveedor:d.proveedor,ofertas:[]}),k=o[m].productos.length-1),o[m].productos[k].ofertas.findIndex(T=>T.tienda===d.tienda)<0&&o[m].productos[k].ofertas.push({tienda:d.tienda,descuento:d.descuento})}o.sort((d,m)=>d.orden>m.orden?1:d.orden<m.orden?-1:0),t(0,o=[...o]),console.log(o)}return Oe(()=>{t(1,l=Ze(new Date().toLocaleDateString("es-ES",{year:"numeric",day:"numeric",month:"long",weekday:"long"})));try{const n=localStorage.getItem(Le)??"[]";c=Me.array().parse(JSON.parse(n))}catch(n){console.error("error al obtener productos guardados",n)}c=[...c],s(he)}),[o,l,()=>alert("No implementado."),()=>Ae.set("agregar-productos")]}class Ft extends Ie{constructor(e){super(),ke(this,e,yt,Ht,Ee,{})}}function lt(a,e,t){const o=a.slice();return o[4]=e[t],o}function nt(a){let e,t,o,l,c,r,s,h=y(a[0]),u=[];for(let n=0;n<h.length;n+=1)u[n]=st(lt(a,h,n));return{c(){e=_("article"),t=_("div"),o=_("p"),l=U(a[1]),c=B(),r=_("div"),s=_("ul");for(let n=0;n<u.length;n+=1)u[n].c();this.h()},l(n){e=g(n,"ARTICLE",{class:!0});var i=I(e);t=g(i,"DIV",{class:!0});var f=I(t);o=g(f,"P",{class:!0});var d=I(o);l=z(d,a[1]),d.forEach(v),f.forEach(v),c=M(i),r=g(i,"DIV",{class:!0});var m=I(r);s=g(m,"UL",{});var k=I(s);for(let C=0;C<u.length;C+=1)u[C].l(k);k.forEach(v),m.forEach(v),i.forEach(v),this.h()},h(){b(o,"class","proveedor svelte-cg3cdp"),b(t,"class","message-header"),b(r,"class","message-body"),b(e,"class","message svelte-cg3cdp")},m(n,i){O(n,e,i),p(e,t),p(t,o),p(o,l),p(e,c),p(e,r),p(r,s);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(s,null)},p(n,i){if(i&2&&ee(l,n[1]),i&5){h=y(n[0]);let f;for(f=0;f<h.length;f+=1){const d=lt(n,h,f);u[f]?u[f].p(d,i):(u[f]=st(d),u[f].c(),u[f].m(s,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=h.length}},d(n){n&&v(e),se(u,n)}}}function st(a){let e,t,o,l=a[4].nombre+"",c,r,s,h;function u(){return a[3](a[4])}return{c(){e=_("li"),t=_("button"),o=B(),c=U(l),r=B(),this.h()},l(n){e=g(n,"LI",{});var i=I(e);t=g(i,"BUTTON",{class:!0,"aria-label":!0}),I(t).forEach(v),o=M(i),c=z(i,l),r=M(i),i.forEach(v),this.h()},h(){b(t,"class","delete"),b(t,"aria-label","delete")},m(n,i){O(n,e,i),p(e,t),p(e,o),p(e,c),p(e,r),s||(h=oe(t,"click",u),s=!0)},p(n,i){a=n,i&1&&l!==(l=a[4].nombre+"")&&ee(c,l)},d(n){n&&v(e),s=!1,h()}}}function Gt(a){let e,t=a[0].length>0&&nt(a);return{c(){t&&t.c(),e=Ce()},l(o){t&&t.l(o),e=Ce()},m(o,l){t&&t.m(o,l),O(o,e,l)},p(o,[l]){o[0].length>0?t?t.p(o,l):(t=nt(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ue,o:ue,d(o){o&&v(e),t&&t.d(o)}}}function Yt(a,e,t){let o,{productos:l}=e;function c(s){if(!confirm(`¿Eliminar ${s.nombre} de ${s.proveedor}?`))return;let u=[];try{const n=localStorage.getItem(Le)??"[]";u=Me.array().parse(JSON.parse(n))}catch(n){console.error("error al obtener productos guardados",n)}u=u.filter(n=>n.proveedor!==s.proveedor&&n.nombre!==s.nombre),t(0,l=l.filter(n=>n.proveedor!==s.proveedor&&n.nombre!==s.nombre)),localStorage.setItem(Le,JSON.stringify(u))}const r=s=>c(s);return a.$$set=s=>{"productos"in s&&t(0,l=s.productos)},a.$$.update=()=>{a.$$.dirty&1&&t(1,o=l.length>0?l[0].proveedor:"")},[l,o,c,r]}class Kt extends Ie{constructor(e){super(),ke(this,e,Yt,Gt,Ee,{productos:0})}}function it(a,e,t){const o=a.slice();return o[2]=e[t],o[3]=e,o[4]=t,o}function ct(a){let e,t,o;function l(r){a[1](r,a[2],a[3],a[4])}let c={};return a[2]!==void 0&&(c.productos=a[2]),e=new Kt({props:c}),Lt.push(()=>Nt(e,"productos",l)),{c(){Se(e.$$.fragment)},l(r){je(e.$$.fragment,r)},m(r,s){De(e,r,s),o=!0},p(r,s){a=r;const h={};!t&&s&1&&(t=!0,h.productos=a[2],Ot(()=>t=!1)),e.$set(h)},i(r){o||(de(e.$$.fragment,r),o=!0)},o(r){ve(e.$$.fragment,r),o=!1},d(r){Pe(e,r)}}}function Zt(a){let e,t,o,l,c,r=ce.paginaProductos+"",s,h,u;document.title=ce.appName;let n=y(a[0]),i=[];for(let d=0;d<n.length;d+=1)i[d]=ct(it(a,n,d));const f=d=>ve(i[d],1,1,()=>{i[d]=null});return{c(){e=B(),t=_("section"),o=_("div"),l=_("div"),c=_("div"),s=U(r),h=B();for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){$e("svelte-1gtgtlw",document.head).forEach(v),e=M(d),t=g(d,"SECTION",{class:!0});var k=I(t);o=g(k,"DIV",{class:!0});var C=I(o);l=g(C,"DIV",{class:!0});var T=I(l);c=g(T,"DIV",{class:!0});var V=I(c);s=z(V,r),V.forEach(v),T.forEach(v),C.forEach(v),h=M(k);for(let D=0;D<i.length;D+=1)i[D].l(k);k.forEach(v),this.h()},h(){b(c,"class","title is-3 svelte-14q4oge"),b(l,"class","titulo-beneficios"),b(o,"class","mis-beneficios mb-4 svelte-14q4oge"),b(t,"class","inicio")},m(d,m){O(d,e,m),O(d,t,m),p(t,o),p(o,l),p(l,c),p(c,s),p(t,h);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(t,null);u=!0},p(d,[m]){if(m&1){n=y(d[0]);let k;for(k=0;k<n.length;k+=1){const C=it(d,n,k);i[k]?(i[k].p(C,m),de(i[k],1)):(i[k]=ct(C),i[k].c(),de(i[k],1),i[k].m(t,null))}for(Bt(),k=n.length;k<i.length;k+=1)f(k);Mt()}},i(d){if(!u){for(let m=0;m<n.length;m+=1)de(i[m]);u=!0}},o(d){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)ve(i[m]);u=!1},d(d){d&&(v(e),v(t)),se(i,d)}}}function Qt(a,e,t){let o=[];Oe(()=>{let c=[];try{const r=localStorage.getItem(Le)??"[]";c=Me.array().parse(JSON.parse(r))}catch(r){console.error("error al obtener productos guardados",r)}t(0,o=[]);for(const r of c){const s=o.find(h=>h.some(u=>u.proveedor===r.proveedor));if(s==null){o.push([r]);continue}s.push(r)}});function l(c,r,s,h){s[h]=c,t(0,o)}return[o,l]}class Wt extends Ie{constructor(e){super(),ke(this,e,Qt,Zt,Ee,{})}}function dt(a,e,t){const o=a.slice();return o[11]=e[t],o}function ut(a,e,t){const o=a.slice();return o[14]=e[t],o}function ft(a){let e,t=a[14]+"",o,l,c;return{c(){e=_("option"),o=U(t),l=B(),this.h()},l(r){e=g(r,"OPTION",{});var s=I(e);o=z(s,t),l=M(s),s.forEach(v),this.h()},h(){e.__value=c=a[14],ae(e,e.__value)},m(r,s){O(r,e,s),p(e,o),p(e,l)},p(r,s){s&1&&t!==(t=r[14]+"")&&ee(o,t),s&1&&c!==(c=r[14])&&(e.__value=c,ae(e,e.__value))},d(r){r&&v(e)}}}function ht(a){let e,t=a[11]+"",o,l,c;return{c(){e=_("option"),o=U(t),l=B(),this.h()},l(r){e=g(r,"OPTION",{});var s=I(e);o=z(s,t),l=M(s),s.forEach(v),this.h()},h(){e.__value=c=a[11],ae(e,e.__value)},m(r,s){O(r,e,s),p(e,o),p(e,l)},p(r,s){s&2&&t!==(t=r[11]+"")&&ee(o,t),s&2&&c!==(c=r[11])&&(e.__value=c,ae(e,e.__value))},d(r){r&&v(e)}}}function Xt(a){let e,t,o,l,c,r=ce.paginaAgregarProductos+"",s,h,u,n,i="Institución",f,d,m,k,C,T,V="Producto",D,R,S,A,Q,N,w,Y,_e,H,te;document.title=ce.appName;let $=y(a[0]),J=[];for(let P=0;P<$.length;P+=1)J[P]=ft(ut(a,$,P));let le=y(a[1]),F=[];for(let P=0;P<le.length;P+=1)F[P]=ht(dt(a,le,P));return{c(){e=B(),t=_("section"),o=_("div"),l=_("div"),c=_("div"),s=U(r),h=B(),u=_("div"),n=_("label"),n.textContent=i,f=B(),d=_("div"),m=_("select");for(let P=0;P<J.length;P+=1)J[P].c();k=B(),C=_("div"),T=_("label"),T.textContent=V,D=B(),R=_("div"),S=_("select");for(let P=0;P<F.length;P+=1)F[P].c();Q=B(),N=_("div"),w=_("button"),Y=U("Añadir producto"),this.h()},l(P){$e("svelte-1gtgtlw",document.head).forEach(v),e=M(P),t=g(P,"SECTION",{class:!0});var L=I(t);o=g(L,"DIV",{class:!0});var fe=I(o);l=g(fe,"DIV",{class:!0});var Ne=I(l);c=g(Ne,"DIV",{class:!0});var me=I(c);s=z(me,r),me.forEach(v),Ne.forEach(v),fe.forEach(v),h=M(L),u=g(L,"DIV",{class:!0});var Z=I(u);n=g(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),re(n)!=="svelte-19ukkfe"&&(n.textContent=i),f=M(Z),d=g(Z,"DIV",{class:!0});var be=I(d);m=g(be,"SELECT",{class:!0});var W=I(m);for(let q=0;q<J.length;q+=1)J[q].l(W);W.forEach(v),be.forEach(v),Z.forEach(v),k=M(L),C=g(L,"DIV",{class:!0});var ge=I(C);T=g(ge,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),re(T)!=="svelte-tw3mbh"&&(T.textContent=V),D=M(ge),R=g(ge,"DIV",{class:!0});var X=I(R);S=g(X,"SELECT",{class:!0});var Te=I(S);for(let q=0;q<F.length;q+=1)F[q].l(Te);Te.forEach(v),X.forEach(v),ge.forEach(v),Q=M(L),N=g(L,"DIV",{class:!0});var x=I(N);w=g(x,"BUTTON",{class:!0});var j=I(w);Y=z(j,"Añadir producto"),j.forEach(v),x.forEach(v),L.forEach(v),this.h()},h(){b(c,"class","title is-3 svelte-dkkcgn"),b(l,"class","titulo-beneficios"),b(o,"class","mis-beneficios mb-4 svelte-dkkcgn"),b(n,"class","label"),b(n,"for",""),b(m,"class","svelte-dkkcgn"),a[2]===void 0&&Ve(()=>a[6].call(m)),b(d,"class","select svelte-dkkcgn"),b(u,"class","field"),b(T,"class","label"),b(T,"for",""),S.disabled=A=a[1].length===0,b(S,"class","svelte-dkkcgn"),a[3]===void 0&&Ve(()=>a[8].call(S)),b(R,"class","select svelte-dkkcgn"),b(C,"class","field"),b(w,"class","button is-success svelte-dkkcgn"),w.disabled=_e=a[3].length==0,b(N,"class","buttons"),b(t,"class","inicio")},m(P,K){O(P,e,K),O(P,t,K),p(t,o),p(o,l),p(l,c),p(c,s),p(t,h),p(t,u),p(u,n),p(u,f),p(u,d),p(d,m);for(let L=0;L<J.length;L+=1)J[L]&&J[L].m(m,null);pe(m,a[2],!0),p(t,k),p(t,C),p(C,T),p(C,D),p(C,R),p(R,S);for(let L=0;L<F.length;L+=1)F[L]&&F[L].m(S,null);pe(S,a[3],!0),p(t,Q),p(t,N),p(N,w),p(w,Y),H||(te=[oe(m,"change",a[6]),oe(m,"click",a[7]),oe(S,"change",a[8]),oe(w,"click",a[9])],H=!0)},p(P,[K]){if(K&1){$=y(P[0]);let L;for(L=0;L<$.length;L+=1){const fe=ut(P,$,L);J[L]?J[L].p(fe,K):(J[L]=ft(fe),J[L].c(),J[L].m(m,null))}for(;L<J.length;L+=1)J[L].d(1);J.length=$.length}if(K&5&&pe(m,P[2]),K&2){le=y(P[1]);let L;for(L=0;L<le.length;L+=1){const fe=dt(P,le,L);F[L]?F[L].p(fe,K):(F[L]=ht(fe),F[L].c(),F[L].m(S,null))}for(;L<F.length;L+=1)F[L].d(1);F.length=le.length}K&2&&A!==(A=P[1].length===0)&&(S.disabled=A),K&10&&pe(S,P[3]),K&10&&_e!==(_e=P[3].length==0)&&(w.disabled=_e)},i:ue,o:ue,d(P){P&&(v(e),v(t)),se(J,P),se(F,P),H=!1,Vt(te)}}}function xt(a,e,t){let o=[],l=[],c="",r="";function s(){console.log("filtrarProveedores"),t(0,o=[]),t(1,l=[]),t(2,c=""),t(3,r="");for(const m of he)o.includes(m.proveedor)||o.push(m.proveedor);t(0,o=[...o])}function h(){console.log("filtrarProductos"),t(1,l=[]);for(const m of he)c.length>0&&m.proveedor!==c||l.includes(m.producto)||l.push(m.producto);t(1,l=[...l])}function u(){let m=[];try{const C=localStorage.getItem(Le)??"[]";m=Me.array().parse(JSON.parse(C))}catch(C){console.error("error al obtener productos guardados",C)}m.find(C=>C.proveedor===c&&C.nombre===r)==null&&m.push({nombre:r,proveedor:c}),localStorage.setItem(Le,JSON.stringify(m)),alert("Producto guardado.")}Oe(()=>{s()});function n(){c=Be(this),t(2,c),t(0,o)}const i=()=>h();function f(){r=Be(this),t(3,r),t(1,l)}return[o,l,c,r,h,u,n,i,f,()=>u()]}class eo extends Ie{constructor(e){super(),ke(this,e,xt,Xt,Ee,{})}}function pt(a,e,t){const o=a.slice();return o[26]=e[t],o}function vt(a,e,t){const o=a.slice();return o[29]=e[t],o}function _t(a,e,t){const o=a.slice();return o[32]=e[t],o}function gt(a,e,t){const o=a.slice();return o[35]=e[t],o}function mt(a,e,t){const o=a.slice();return o[26]=e[t],o}function bt(a,e,t){const o=a.slice();return o[29]=e[t],o}function Tt(a,e,t){const o=a.slice();return o[42]=e[t],o}function Et(a){let e,t,o,l="Institución",c,r,s,h,u="Ninguna",n,i,f,d="Producto",m,k,C,T,V="Ninguno",D,R,S,A="Día de la semana",Q,N,w,Y,_e="Ninguno",H,te,$,J="Local",le,F,P,K,L="Ninguno",fe,Ne,me=y(a[1]),Z=[];for(let j=0;j<me.length;j+=1)Z[j]=It(Tt(a,me,j));let be=y(a[2]),W=[];for(let j=0;j<be.length;j+=1)W[j]=kt(bt(a,be,j));let ge=y(a[3]),X=[];for(let j=0;j<ge.length;j+=1)X[j]=Ct(mt(a,ge,j));let Te=y(a[4]),x=[];for(let j=0;j<Te.length;j+=1)x[j]=St(gt(a,Te,j));return{c(){e=_("div"),t=_("div"),o=_("label"),o.textContent=l,c=B(),r=_("div"),s=_("select"),h=_("option"),h.textContent=u;for(let j=0;j<Z.length;j+=1)Z[j].c();n=B(),i=_("div"),f=_("label"),f.textContent=d,m=B(),k=_("div"),C=_("select"),T=_("option"),T.textContent=V;for(let j=0;j<W.length;j+=1)W[j].c();D=B(),R=_("div"),S=_("label"),S.textContent=A,Q=B(),N=_("div"),w=_("select"),Y=_("option"),Y.textContent=_e;for(let j=0;j<X.length;j+=1)X[j].c();H=B(),te=_("div"),$=_("label"),$.textContent=J,le=B(),F=_("div"),P=_("select"),K=_("option"),K.textContent=L;for(let j=0;j<x.length;j+=1)x[j].c();this.h()},l(j){e=g(j,"DIV",{class:!0});var q=I(e);t=g(q,"DIV",{class:!0});var E=I(t);o=g(E,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),re(o)!=="svelte-19ukkfe"&&(o.textContent=l),c=M(E),r=g(E,"DIV",{class:!0});var ie=I(r);s=g(ie,"SELECT",{class:!0});var ze=I(s);h=g(ze,"OPTION",{"data-svelte-h":!0}),re(h)!=="svelte-56rvmw"&&(h.textContent=u);for(let ne=0;ne<Z.length;ne+=1)Z[ne].l(ze);ze.forEach(v),ie.forEach(v),E.forEach(v),n=M(q),i=g(q,"DIV",{class:!0});var we=I(i);f=g(we,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),re(f)!=="svelte-tw3mbh"&&(f.textContent=d),m=M(we),k=g(we,"DIV",{class:!0});var Ge=I(k);C=g(Ge,"SELECT",{class:!0});var Je=I(C);T=g(Je,"OPTION",{"data-svelte-h":!0}),re(T)!=="svelte-1p9iu4y"&&(T.textContent=V);for(let ne=0;ne<W.length;ne+=1)W[ne].l(Je);Je.forEach(v),Ge.forEach(v),we.forEach(v),D=M(q),R=g(q,"DIV",{class:!0});var Re=I(R);S=g(Re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),re(S)!=="svelte-4y0urq"&&(S.textContent=A),Q=M(Re),N=g(Re,"DIV",{class:!0});var Ye=I(N);w=g(Ye,"SELECT",{class:!0});var qe=I(w);Y=g(qe,"OPTION",{"data-svelte-h":!0}),re(Y)!=="svelte-1p9iu4y"&&(Y.textContent=_e);for(let ne=0;ne<X.length;ne+=1)X[ne].l(qe);qe.forEach(v),Ye.forEach(v),Re.forEach(v),H=M(q),te=g(q,"DIV",{class:!0});var Ue=I(te);$=g(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),re($)!=="svelte-whtky8"&&($.textContent=J),le=M(Ue),F=g(Ue,"DIV",{class:!0});var Ke=I(F);P=g(Ke,"SELECT",{class:!0});var He=I(P);K=g(He,"OPTION",{"data-svelte-h":!0}),re(K)!=="svelte-1p9iu4y"&&(K.textContent=L);for(let ne=0;ne<x.length;ne+=1)x[ne].l(He);He.forEach(v),Ke.forEach(v),Ue.forEach(v),q.forEach(v),this.h()},h(){b(o,"class","label"),b(o,"for",""),h.__value="",ae(h,h.__value),b(s,"class","svelte-10ln7mc"),a[5]===void 0&&Ve(()=>a[15].call(s)),b(r,"class","select svelte-10ln7mc"),b(t,"class","field"),b(f,"class","label"),b(f,"for",""),T.__value="",ae(T,T.__value),b(C,"class","svelte-10ln7mc"),a[6]===void 0&&Ve(()=>a[17].call(C)),b(k,"class","select svelte-10ln7mc"),b(i,"class","field"),b(S,"class","label"),b(S,"for",""),Y.__value="",ae(Y,Y.__value),b(w,"class","svelte-10ln7mc"),a[7]===void 0&&Ve(()=>a[19].call(w)),b(N,"class","select svelte-10ln7mc"),b(R,"class","field"),b($,"class","label"),b($,"for",""),K.__value="",ae(K,K.__value),b(P,"class","svelte-10ln7mc"),a[8]===void 0&&Ve(()=>a[21].call(P)),b(F,"class","select svelte-10ln7mc"),b(te,"class","field"),b(e,"class","filtros mt-2 svelte-10ln7mc")},m(j,q){O(j,e,q),p(e,t),p(t,o),p(t,c),p(t,r),p(r,s),p(s,h);for(let E=0;E<Z.length;E+=1)Z[E]&&Z[E].m(s,null);pe(s,a[5],!0),p(e,n),p(e,i),p(i,f),p(i,m),p(i,k),p(k,C),p(C,T);for(let E=0;E<W.length;E+=1)W[E]&&W[E].m(C,null);pe(C,a[6],!0),p(e,D),p(e,R),p(R,S),p(R,Q),p(R,N),p(N,w),p(w,Y);for(let E=0;E<X.length;E+=1)X[E]&&X[E].m(w,null);pe(w,a[7],!0),p(e,H),p(e,te),p(te,$),p(te,le),p(te,F),p(F,P),p(P,K);for(let E=0;E<x.length;E+=1)x[E]&&x[E].m(P,null);pe(P,a[8],!0),fe||(Ne=[oe(s,"change",a[15]),oe(s,"change",a[16]),oe(C,"change",a[17]),oe(C,"change",a[18]),oe(w,"change",a[19]),oe(w,"change",a[20]),oe(P,"change",a[21]),oe(P,"change",a[22])],fe=!0)},p(j,q){if(q[0]&2){me=y(j[1]);let E;for(E=0;E<me.length;E+=1){const ie=Tt(j,me,E);Z[E]?Z[E].p(ie,q):(Z[E]=It(ie),Z[E].c(),Z[E].m(s,null))}for(;E<Z.length;E+=1)Z[E].d(1);Z.length=me.length}if(q[0]&34&&pe(s,j[5]),q[0]&4){be=y(j[2]);let E;for(E=0;E<be.length;E+=1){const ie=bt(j,be,E);W[E]?W[E].p(ie,q):(W[E]=kt(ie),W[E].c(),W[E].m(C,null))}for(;E<W.length;E+=1)W[E].d(1);W.length=be.length}if(q[0]&68&&pe(C,j[6]),q[0]&8){ge=y(j[3]);let E;for(E=0;E<ge.length;E+=1){const ie=mt(j,ge,E);X[E]?X[E].p(ie,q):(X[E]=Ct(ie),X[E].c(),X[E].m(w,null))}for(;E<X.length;E+=1)X[E].d(1);X.length=ge.length}if(q[0]&136&&pe(w,j[7]),q[0]&16){Te=y(j[4]);let E;for(E=0;E<Te.length;E+=1){const ie=gt(j,Te,E);x[E]?x[E].p(ie,q):(x[E]=St(ie),x[E].c(),x[E].m(P,null))}for(;E<x.length;E+=1)x[E].d(1);x.length=Te.length}q[0]&272&&pe(P,j[8])},d(j){j&&v(e),se(Z,j),se(W,j),se(X,j),se(x,j),fe=!1,Vt(Ne)}}}function It(a){let e,t=a[42]+"",o,l,c;return{c(){e=_("option"),o=U(t),l=B(),this.h()},l(r){e=g(r,"OPTION",{});var s=I(e);o=z(s,t),l=M(s),s.forEach(v),this.h()},h(){e.__value=c=a[42],ae(e,e.__value)},m(r,s){O(r,e,s),p(e,o),p(e,l)},p(r,s){s[0]&2&&t!==(t=r[42]+"")&&ee(o,t),s[0]&2&&c!==(c=r[42])&&(e.__value=c,ae(e,e.__value))},d(r){r&&v(e)}}}function kt(a){let e,t=a[29]+"",o,l,c;return{c(){e=_("option"),o=U(t),l=B(),this.h()},l(r){e=g(r,"OPTION",{});var s=I(e);o=z(s,t),l=M(s),s.forEach(v),this.h()},h(){e.__value=c=a[29],ae(e,e.__value)},m(r,s){O(r,e,s),p(e,o),p(e,l)},p(r,s){s[0]&4&&t!==(t=r[29]+"")&&ee(o,t),s[0]&4&&c!==(c=r[29])&&(e.__value=c,ae(e,e.__value))},d(r){r&&v(e)}}}function Ct(a){let e,t=a[26]+"",o,l,c;return{c(){e=_("option"),o=U(t),l=B(),this.h()},l(r){e=g(r,"OPTION",{});var s=I(e);o=z(s,t),l=M(s),s.forEach(v),this.h()},h(){e.__value=c=a[26],ae(e,e.__value)},m(r,s){O(r,e,s),p(e,o),p(e,l)},p(r,s){s[0]&8&&t!==(t=r[26]+"")&&ee(o,t),s[0]&8&&c!==(c=r[26])&&(e.__value=c,ae(e,e.__value))},d(r){r&&v(e)}}}function St(a){let e,t=a[35]+"",o,l,c;return{c(){e=_("option"),o=U(t),l=B(),this.h()},l(r){e=g(r,"OPTION",{});var s=I(e);o=z(s,t),l=M(s),s.forEach(v),this.h()},h(){e.__value=c=a[35],ae(e,e.__value)},m(r,s){O(r,e,s),p(e,o),p(e,l)},p(r,s){s[0]&16&&t!==(t=r[35]+"")&&ee(o,t),s[0]&16&&c!==(c=r[35])&&(e.__value=c,ae(e,e.__value))},d(r){r&&v(e)}}}function jt(a){let e,t,o=a[32].tienda+"",l,c,r,s=a[32].descuento+"",h,u;return{c(){e=_("div"),t=_("span"),l=U(o),c=B(),r=_("span"),h=U(s),u=U(" %"),this.h()},l(n){e=g(n,"DIV",{class:!0});var i=I(e);t=g(i,"SPAN",{});var f=I(t);l=z(f,o),f.forEach(v),c=M(i),r=g(i,"SPAN",{});var d=I(r);h=z(d,s),u=z(d," %"),d.forEach(v),i.forEach(v),this.h()},h(){b(e,"class","oferta svelte-10ln7mc")},m(n,i){O(n,e,i),p(e,t),p(t,l),p(e,c),p(e,r),p(r,h),p(r,u)},p(n,i){i[0]&1&&o!==(o=n[32].tienda+"")&&ee(l,o),i[0]&1&&s!==(s=n[32].descuento+"")&&ee(h,s)},d(n){n&&v(e)}}}function Dt(a){let e,t=a[29].proveedor+"",o,l,c=a[29].nombre+"",r,s,h,u=y(a[29].ofertas),n=[];for(let i=0;i<u.length;i+=1)n[i]=jt(_t(a,u,i));return{c(){e=_("div"),o=U(t),l=U(" - "),r=U(c),s=B();for(let i=0;i<n.length;i+=1)n[i].c();h=Ce()},l(i){e=g(i,"DIV",{});var f=I(e);o=z(f,t),l=z(f," - "),r=z(f,c),f.forEach(v),s=M(i);for(let d=0;d<n.length;d+=1)n[d].l(i);h=Ce()},m(i,f){O(i,e,f),p(e,o),p(e,l),p(e,r),O(i,s,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(i,f);O(i,h,f)},p(i,f){if(f[0]&1&&t!==(t=i[29].proveedor+"")&&ee(o,t),f[0]&1&&c!==(c=i[29].nombre+"")&&ee(r,c),f[0]&1){u=y(i[29].ofertas);let d;for(d=0;d<u.length;d+=1){const m=_t(i,u,d);n[d]?n[d].p(m,f):(n[d]=jt(m),n[d].c(),n[d].m(h.parentNode,h))}for(;d<n.length;d+=1)n[d].d(1);n.length=u.length}},d(i){i&&(v(e),v(s),v(h)),se(n,i)}}}function Pt(a){let e,t,o,l=a[26].dia+"",c,r,s,h=y(a[26].productos),u=[];for(let n=0;n<h.length;n+=1)u[n]=Dt(vt(a,h,n));return{c(){e=_("div"),t=_("div"),o=U("Septiembre: "),c=U(l),r=B();for(let n=0;n<u.length;n+=1)u[n].c();s=B(),this.h()},l(n){e=g(n,"DIV",{class:!0});var i=I(e);t=g(i,"DIV",{class:!0});var f=I(t);o=z(f,"Septiembre: "),c=z(f,l),f.forEach(v),r=M(i);for(let d=0;d<u.length;d+=1)u[d].l(i);s=M(i),i.forEach(v),this.h()},h(){b(t,"class","subtitulo svelte-10ln7mc"),b(e,"class","dia svelte-10ln7mc")},m(n,i){O(n,e,i),p(e,t),p(t,o),p(t,c),p(e,r);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(e,null);p(e,s)},p(n,i){if(i[0]&1&&l!==(l=n[26].dia+"")&&ee(c,l),i[0]&1){h=y(n[26].productos);let f;for(f=0;f<h.length;f+=1){const d=vt(n,h,f);u[f]?u[f].p(d,i):(u[f]=Dt(d),u[f].c(),u[f].m(e,s))}for(;f<u.length;f+=1)u[f].d(1);u.length=h.length}},d(n){n&&v(e),se(u,n)}}}function to(a){let e,t,o,l,c,r=ce.paginaExplorar+"",s,h,u,n="Filtrar beneficios",i,f,d,m,k;document.title=ce.appName;let C=a[9]&&Et(a),T=y(a[0]),V=[];for(let D=0;D<T.length;D+=1)V[D]=Pt(pt(a,T,D));return{c(){e=B(),t=_("section"),o=_("div"),l=_("div"),c=_("div"),s=U(r),h=B(),u=_("button"),u.textContent=n,i=B(),C&&C.c(),f=B(),d=_("div");for(let D=0;D<V.length;D+=1)V[D].c();this.h()},l(D){$e("svelte-1gtgtlw",document.head).forEach(v),e=M(D),t=g(D,"SECTION",{class:!0});var S=I(t);o=g(S,"DIV",{class:!0});var A=I(o);l=g(A,"DIV",{class:!0});var Q=I(l);c=g(Q,"DIV",{class:!0});var N=I(c);s=z(N,r),N.forEach(v),Q.forEach(v),A.forEach(v),h=M(S),u=g(S,"BUTTON",{class:!0,"data-svelte-h":!0}),re(u)!=="svelte-1l6ekyo"&&(u.textContent=n),i=M(S),C&&C.l(S),f=M(S),d=g(S,"DIV",{class:!0});var w=I(d);for(let Y=0;Y<V.length;Y+=1)V[Y].l(w);w.forEach(v),S.forEach(v),this.h()},h(){b(c,"class","title is-3 svelte-10ln7mc"),b(l,"class","titulo-beneficios"),b(o,"class","mis-beneficios mb-4 svelte-10ln7mc"),b(u,"class","button is-link svelte-10ln7mc"),b(d,"class","descuentos mt-4"),b(t,"class","inicio")},m(D,R){O(D,e,R),O(D,t,R),p(t,o),p(o,l),p(l,c),p(c,s),p(t,h),p(t,u),p(t,i),C&&C.m(t,null),p(t,f),p(t,d);for(let S=0;S<V.length;S+=1)V[S]&&V[S].m(d,null);m||(k=oe(u,"click",a[14]),m=!0)},p(D,R){if(D[9]?C?C.p(D,R):(C=Et(D),C.c(),C.m(t,f)):C&&(C.d(1),C=null),R[0]&1){T=y(D[0]);let S;for(S=0;S<T.length;S+=1){const A=pt(D,T,S);V[S]?V[S].p(A,R):(V[S]=Pt(A),V[S].c(),V[S].m(d,null))}for(;S<V.length;S+=1)V[S].d(1);V.length=T.length}},i:ue,o:ue,d(D){D&&(v(e),v(t)),C&&C.d(),se(V,D),m=!1,k()}}}function oo(a,e,t){let o=[],l=[],c=[],r=[],s=[],h="",u="",n="",i="",f=!1;const d=Me.extend({ofertas:Fe.array()});G.object({dia:G.string(),orden:G.number(),productos:d.array()});function m(){console.log("filtrarProveedores"),t(1,l=[]),t(2,c=[]),t(3,r=[]),t(4,s=[]),t(5,h=""),t(6,u=""),t(7,n=""),t(8,i="");for(const H of he)l.includes(H.proveedor)||l.push(H.proveedor);t(1,l=[...l])}function k(){console.log("filtrarProductos"),t(7,n=""),t(8,i=""),t(2,c=[]),t(3,r=[]),t(4,s=[]);for(const H of he)h.length>0&&H.proveedor!==h||c.includes(H.producto)||c.push(H.producto);t(2,c=[...c])}function C(){console.log("filtrarDias"),t(8,i=""),t(3,r=[]),t(4,s=[]);for(const H of he)h.length>0&&H.proveedor!==h||u.length>0&&H.producto!==u||r.includes(H.dia)||r.push(H.dia);t(3,r=[...r])}function T(){console.log("filtrarTiendas"),t(4,s=[]);for(const H of he)h.length>0&&H.proveedor!==h||u.length>0&&H.producto!==u||n.length>0&&H.dia!==n||s.includes(H.tienda)||s.push(H.tienda);t(4,s=[...s])}function V(H){console.log("filtrarDescuentos"),t(0,o=[]);const te=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const $ of H){if($.dia.split(" ").length>1||h.length>0&&$.proveedor!==h||u.length>0&&$.producto!==u||n.length>0&&$.dia!==n||i.length>0&&$.tienda!==i)continue;let J=o.findIndex(P=>P.dia===$.dia);J<0&&(o.push({dia:$.dia,productos:[],orden:te.indexOf($.dia.toLowerCase())}),J=o.length-1);let le=o[J].productos.findIndex(P=>P.nombre===$.producto);le<0&&(o[J].productos.push({nombre:$.producto,proveedor:$.proveedor,ofertas:[]}),le=o[J].productos.length-1),o[J].productos[le].ofertas.findIndex(P=>P.tienda===$.tienda)<0&&o[J].productos[le].ofertas.push({tienda:$.tienda,descuento:$.descuento})}t(1,l=[...l]),o.sort(($,J)=>$.orden>J.orden?1:$.orden<J.orden?-1:0),t(0,o=[...o]),console.log(o)}Oe(()=>{V(he),m(),k(),C(),T()});const D=()=>t(9,f=!f);function R(){h=Be(this),t(5,h),t(1,l)}const S=()=>{k(),V(he)};function A(){u=Be(this),t(6,u),t(2,c)}const Q=()=>{C(),V(he)};function N(){n=Be(this),t(7,n),t(3,r)}const w=()=>{T(),V(he)};function Y(){i=Be(this),t(8,i),t(4,s)}return[o,l,c,r,s,h,u,n,i,f,k,C,T,V,D,R,S,A,Q,N,w,Y,()=>{V(he)}]}class ro extends Ie{constructor(e){super(),ke(this,e,oo,to,Ee,{},null,[-1,-1])}}function ao(a){let e,t;return e=new qt({}),{c(){Se(e.$$.fragment)},l(o){je(e.$$.fragment,o)},m(o,l){De(e,o,l),t=!0},i(o){t||(de(e.$$.fragment,o),t=!0)},o(o){ve(e.$$.fragment,o),t=!1},d(o){Pe(e,o)}}}function lo(a){let e,t;return e=new eo({}),{c(){Se(e.$$.fragment)},l(o){je(e.$$.fragment,o)},m(o,l){De(e,o,l),t=!0},i(o){t||(de(e.$$.fragment,o),t=!0)},o(o){ve(e.$$.fragment,o),t=!1},d(o){Pe(e,o)}}}function no(a){let e,t;return e=new ro({}),{c(){Se(e.$$.fragment)},l(o){je(e.$$.fragment,o)},m(o,l){De(e,o,l),t=!0},i(o){t||(de(e.$$.fragment,o),t=!0)},o(o){ve(e.$$.fragment,o),t=!1},d(o){Pe(e,o)}}}function so(a){let e,t;return e=new Wt({}),{c(){Se(e.$$.fragment)},l(o){je(e.$$.fragment,o)},m(o,l){De(e,o,l),t=!0},i(o){t||(de(e.$$.fragment,o),t=!0)},o(o){ve(e.$$.fragment,o),t=!1},d(o){Pe(e,o)}}}function io(a){let e,t;return e=new Ft({}),{c(){Se(e.$$.fragment)},l(o){je(e.$$.fragment,o)},m(o,l){De(e,o,l),t=!0},i(o){t||(de(e.$$.fragment,o),t=!0)},o(o){ve(e.$$.fragment,o),t=!1},d(o){Pe(e,o)}}}function co(a){let e,t,o,l;const c=[io,so,no,lo,ao],r=[];function s(h,u){return h[0]=="inicio"?0:h[0]=="mis-productos"?1:h[0]=="explorar-beneficios"?2:h[0]=="agregar-productos"?3:h[0]=="acercaDe"?4:-1}return~(e=s(a))&&(t=r[e]=c[e](a)),{c(){t&&t.c(),o=Ce()},l(h){t&&t.l(h),o=Ce()},m(h,u){~e&&r[e].m(h,u),O(h,o,u),l=!0},p(h,[u]){let n=e;e=s(h),e!==n&&(t&&(Bt(),ve(r[n],1,1,()=>{r[n]=null}),Mt()),~e?(t=r[e],t||(t=r[e]=c[e](h),t.c()),de(t,1),t.m(o.parentNode,o)):t=null)},i(h){l||(de(t),l=!0)},o(h){ve(t),l=!1},d(h){h&&v(o),~e&&r[e].d(h)}}}function uo(a,e,t){let o;return Oe(()=>{Ae.subscribe(s=>{s!=null&&t(0,o=s)});const c=new URLSearchParams(location.search).get("pagina")??"",r=At(c)?c:"inicio";Ae.set(r)}),[o]}class fo extends Ie{constructor(e){super(),ke(this,e,uo,co,Ee,{})}}function ho(a){let e,t='<div class="control has-icons-left has-icons-right"><input class="input" type="search" placeholder="Buscar beneficios"/> <span class="icon is-small is-left"><i class="fas fa-magnifying-glass"></i></span></div>',o,l,c=ce.appName+"",r,s,h,u,n,i,f,d,m,k,C;return i=new fo({}),k=new Ut({}),{c(){e=_("div"),e.innerHTML=t,o=B(),l=_("div"),r=U(c),s=B(),h=_("hr"),u=B(),n=_("div"),Se(i.$$.fragment),f=B(),d=_("hr"),m=B(),Se(k.$$.fragment),this.h()},l(T){e=g(T,"DIV",{class:!0,"data-svelte-h":!0}),re(e)!=="svelte-15m1jog"&&(e.innerHTML=t),o=M(T),l=g(T,"DIV",{class:!0});var V=I(l);r=z(V,c),V.forEach(v),s=M(T),h=g(T,"HR",{class:!0}),u=M(T),n=g(T,"DIV",{class:!0});var D=I(n);je(i.$$.fragment,D),D.forEach(v),f=M(T),d=g(T,"HR",{class:!0}),m=M(T),je(k.$$.fragment,T),this.h()},h(){b(e,"class","field"),b(l,"class","title is-3 svelte-7wzyb4"),b(h,"class","svelte-7wzyb4"),b(n,"class","router svelte-7wzyb4"),b(d,"class","svelte-7wzyb4")},m(T,V){O(T,e,V),O(T,o,V),O(T,l,V),p(l,r),O(T,s,V),O(T,h,V),O(T,u,V),O(T,n,V),De(i,n,null),O(T,f,V),O(T,d,V),O(T,m,V),De(k,T,V),C=!0},p:ue,i(T){C||(de(i.$$.fragment,T),de(k.$$.fragment,T),C=!0)},o(T){ve(i.$$.fragment,T),ve(k.$$.fragment,T),C=!1},d(T){T&&(v(e),v(o),v(l),v(s),v(h),v(u),v(n),v(f),v(d),v(m)),Pe(i),Pe(k,T)}}}class mo extends Ie{constructor(e){super(),ke(this,e,null,ho,Ee,{})}}export{mo as component,go as universal};
