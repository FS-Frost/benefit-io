import{s as Ee,n as Te,r as Ye,o as $e,x as Fe,b as Lt,y as Ot,g as Be}from"../chunks/scheduler.DPANX2Ry.js";import{S as Ie,i as Ce,e as m,t as Y,s as P,c as b,a as I,b as K,d as v,f as V,o as k,g as N,h as p,j as ue,A as de,k as Ve,z as ie,B as ne,y as ae,n as y,q as Le,l as Z,m as Oe,u as _e,v as ge,w as me,x as be,C as qe,D as Nt,E as ve,F as Pe}from"../chunks/index.CW4Xy8cd.js";import{z as G,c as Ge,q as et,a as Ae,t as he,i as wt}from"../chunks/text.D20ycFBS.js";function H(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const At=!0,Co=Object.freeze(Object.defineProperty({__proto__:null,prerender:At},Symbol.toStringTag,{value:"Module"}));G.object({nombre:G.string(),productos:G.string().array()});const Ne=G.object({nombre:G.string(),proveedor:G.string()}),Ke=G.object({tienda:G.string(),descuento:G.number()});G.object({proveedor:G.string(),producto:G.string(),ofertas:Ke.array()});G.object({ciudad:G.string(),dia:G.string(),proveedor:G.string(),producto:G.string(),tienda:G.string(),descuento:G.number()});const qt=Ne.extend({ofertas:Ke.array()});G.object({dia:G.string(),orden:G.number(),productos:qt.array()});const fe=[{ciudad:"Antofagasta",dia:"Martes",proveedor:"Banco Itaú",tienda:"FOGO",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"CLIB de Yates",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Steakhouse",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Jueves",proveedor:"Banco Bice",tienda:"BRUNNIT",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Jueves",proveedor:"Banco Ripley",tienda:"De Rock & Burger",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Viernes",proveedor:"BCI",tienda:"Ámbar Restobar",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Banco de Chile",tienda:"Tuto Beach",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Banco Ripley",tienda:"Bar de Lobos",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Security",tienda:"La Pasta de la Nonna",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Miércoles",proveedor:"CMR",tienda:"G14",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Terramola",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Jueves",proveedor:"Banco Bice",tienda:"La Pasta de la Nonna",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Viernes",proveedor:"BCI",tienda:"Rosa Amelia",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Concón",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"Los Hornitos",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Curacaví",dia:"Miércoles",proveedor:"Santander",tienda:"Raymi",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Frutillar",dia:"Miércoles",proveedor:"CMR",tienda:"Fugas del Mar",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Martes",proveedor:"Banco Itaú",tienda:"Yado by Asia",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Martes",proveedor:"Santander (sin límite)",tienda:"Piso 21",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Dominga Bistró",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Jueves",proveedor:"BCI",tienda:"La Mulata",descuento:40,producto:"Tarjeta de débito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Banco Itaú",tienda:"Terrazza",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Santander (sin límite)",tienda:"Tollo Beach",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Security",tienda:"Hotel Costa Real",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Jueves",proveedor:"Santander",tienda:"Zona Zero",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Los Ángeles",dia:"Martes",proveedor:"Banco Itaú",tienda:"Bife Sureño",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Machalí",dia:"Martes",proveedor:"Banco Itaú",tienda:"La Hacienda Machalí",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Matencillo",dia:"Miércoles",proveedor:"Santander Amex",tienda:"La Pesca",descuento:50,producto:"Tarjeta de crédito"},{ciudad:"Osorno",dia:"Martes",proveedor:"Banco Itaú",tienda:"El Galpón",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Osorno",dia:"Jueves",proveedor:"Banco Bice",tienda:"Greed",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Pichilemu",dia:"Viernes",proveedor:"BCI",tienda:"Bocas del Mar",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Pichilemu",dia:"Martes",proveedor:"Security",tienda:"Camalache",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Varas",dia:"Martes",proveedor:"Santander",tienda:"Hotel Awa",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Montt",dia:"Jueves",proveedor:"Banco Bice",tienda:"Hotel Bellavista",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Montt",dia:"Viernes",proveedor:"BCI",tienda:"Da Alessandro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Rancagua/Machalí",dia:"Jueves",proveedor:"Banco Itaú",tienda:"Da Alessandro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Rancagua/Machalí",dia:"Jueves",proveedor:"Banco Bice",tienda:"Don Teo",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Reñaca",dia:"Miércoles",proveedor:"Santander Amex",tienda:"SUMOKU",descuento:50,producto:"Tarjeta de crédito"},{ciudad:"Reñaca/Viña",dia:"Jueves",proveedor:"BCI",tienda:"INSOMNIO",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Fernando",dia:"Jueves",proveedor:"Scotiabank",tienda:"Sarzones",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Pedro de la Paz",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"Augusta Bar",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Pedro de la Paz",dia:"Viernes",proveedor:"Scotiabank",tienda:"La Barra Restobar",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Domingo",proveedor:"Banco de Chile",tienda:"Noi Blend",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Sábado",proveedor:"Banco de Chile",tienda:"Noi Blend",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Martes",proveedor:"Santander",tienda:"Casa Albergue",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Miércoles",proveedor:"Security",tienda:"La Fábrica",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Carnes Domo",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Martes",proveedor:"Banco Itaú",tienda:"La Fuente Italiana",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"Sushi House",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Viernes",proveedor:"Santander (sin límite)",tienda:"Radho",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Miércoles",proveedor:"Santander",tienda:"León de San Martin",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Jueves",proveedor:"BCI",tienda:"Hashigo",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Secret Garden",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Tomé",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Icaro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valdivia",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Riviera Poke",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valdivia",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"La Parrilla de Thor",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valparaíso",dia:"Lunes",proveedor:"Banco Itaú",tienda:"Sazón Peruano",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valparaíso",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Puerto Claro",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Martes",proveedor:"Banco Ripley",tienda:"Lima 51",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"Hotel Sheraton",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Viernes",proveedor:"BCI",tienda:"Valentini's",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Mall Marina",dia:"Lunes a Viernes",proveedor:"CMR",tienda:"Luna Vieja",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña/Coquimbo",dia:"Miércoles",proveedor:"Santander",tienda:"Sibarac",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Mall Marina",dia:"Lunes a Viernes",proveedor:"CMR",tienda:"Sanguchería del B.",descuento:20,producto:"Tarjeta de crédito"}];function tt(n,e,o){const t=n.slice();return t[1]=e[o],t}function ot(n,e,o){const t=n.slice();return t[4]=e[o],t}function rt(n){let e,o,t=n[4].tienda+"",r,i,a,l=n[4].descuento+"",c,d,h;return{c(){e=m("div"),o=m("span"),r=Y(t),i=P(),a=m("span"),c=Y(l),d=Y(" %"),h=P(),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=I(e);o=b(u,"SPAN",{});var f=I(o);r=K(f,t),f.forEach(v),i=V(u),a=b(u,"SPAN",{});var g=I(a);c=K(g,l),d=K(g," %"),g.forEach(v),h=V(u),u.forEach(v),this.h()},h(){k(e,"class","oferta svelte-1kbdpq8")},m(s,u){N(s,e,u),p(e,o),p(o,r),p(e,i),p(e,a),p(a,c),p(a,d),p(e,h)},p(s,u){u&1&&t!==(t=s[4].tienda+"")&&ue(r,t),u&1&&l!==(l=s[4].descuento+"")&&ue(c,l)},d(s){s&&v(e)}}}function at(n){let e,o=n[1].proveedor+"",t,r,i=n[1].nombre+"",a,l,c,d=H(n[1].ofertas),h=[];for(let s=0;s<d.length;s+=1)h[s]=rt(ot(n,d,s));return{c(){e=m("div"),t=Y(o),r=Y(" - "),a=Y(i),l=P();for(let s=0;s<h.length;s+=1)h[s].c();c=Ve()},l(s){e=b(s,"DIV",{});var u=I(e);t=K(u,o),r=K(u," - "),a=K(u,i),u.forEach(v),l=V(s);for(let f=0;f<h.length;f+=1)h[f].l(s);c=Ve()},m(s,u){N(s,e,u),p(e,t),p(e,r),p(e,a),N(s,l,u);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(s,u);N(s,c,u)},p(s,u){if(u&1&&o!==(o=s[1].proveedor+"")&&ue(t,o),u&1&&i!==(i=s[1].nombre+"")&&ue(a,i),u&1){d=H(s[1].ofertas);let f;for(f=0;f<d.length;f+=1){const g=ot(s,d,f);h[f]?h[f].p(g,u):(h[f]=rt(g),h[f].c(),h[f].m(c.parentNode,c))}for(;f<h.length;f+=1)h[f].d(1);h.length=d.length}},d(s){s&&(v(e),v(l),v(c)),de(h,s)}}}function Rt(n){let e,o,t,r=n[0].dia+"",i,a,l=H(n[0].productos),c=[];for(let d=0;d<l.length;d+=1)c[d]=at(tt(n,l,d));return{c(){e=m("div"),o=m("div"),t=Y("Septiembre: "),i=Y(r),a=P();for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=b(d,"DIV",{class:!0});var h=I(e);o=b(h,"DIV",{class:!0});var s=I(o);t=K(s,"Septiembre: "),i=K(s,r),s.forEach(v),a=V(h);for(let u=0;u<c.length;u+=1)c[u].l(h);h.forEach(v),this.h()},h(){k(o,"class","subtitulo svelte-1kbdpq8"),k(e,"class","dia svelte-1kbdpq8")},m(d,h){N(d,e,h),p(e,o),p(o,t),p(o,i),p(e,a);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(e,null)},p(d,[h]){if(h&1&&r!==(r=d[0].dia+"")&&ue(i,r),h&1){l=H(d[0].productos);let s;for(s=0;s<l.length;s+=1){const u=tt(d,l,s);c[s]?c[s].p(u,h):(c[s]=at(u),c[s].c(),c[s].m(e,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}},i:Te,o:Te,d(d){d&&v(e),de(c,d)}}}function zt(n,e,o){let{dia:t}=e;return n.$$set=r=>{"dia"in r&&o(0,t=r.dia)},[t]}class Ze extends Ie{constructor(e){super(),Ce(this,e,zt,Rt,Ee,{dia:0})}}function nt(n,e,o){const t=n.slice();return t[8]=e[o],t}function lt(n){let e,o,t=H(n[2]),r=[];for(let a=0;a<t.length;a+=1)r[a]=it(nt(n,t,a));const i=a=>Z(r[a],1,1,()=>{r[a]=null});return{c(){e=m("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var l=I(e);for(let c=0;c<r.length;c+=1)r[c].l(l);l.forEach(v),this.h()},h(){k(e,"class","mt-3")},m(a,l){N(a,e,l);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);o=!0},p(a,l){if(l&4){t=H(a[2]);let c;for(c=0;c<t.length;c+=1){const d=nt(a,t,c);r[c]?(r[c].p(d,l),y(r[c],1)):(r[c]=it(d),r[c].c(),y(r[c],1),r[c].m(e,null))}for(Le(),c=t.length;c<r.length;c+=1)i(c);Oe()}},i(a){if(!o){for(let l=0;l<t.length;l+=1)y(r[l]);o=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)Z(r[l]);o=!1},d(a){a&&v(e),de(r,a)}}}function it(n){let e,o;return e=new Ze({props:{dia:n[8]}}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},p(t,r){const i={};r&4&&(i.dia=t[8]),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function Ut(n){let e,o,t,r,i,a='<i class="fas fa-magnifying-glass"></i>',l,c,d,h,s=n[2].length>0&&lt(n);return{c(){e=m("div"),o=m("div"),t=m("input"),r=P(),i=m("span"),i.innerHTML=a,l=P(),s&&s.c(),this.h()},l(u){e=b(u,"DIV",{class:!0});var f=I(e);o=b(f,"DIV",{class:!0});var g=I(o);t=b(g,"INPUT",{class:!0,type:!0,placeholder:!0}),r=V(g),i=b(g,"SPAN",{class:!0,"data-svelte-h":!0}),ie(i)!=="svelte-1e43632"&&(i.innerHTML=a),g.forEach(v),l=V(f),s&&s.l(f),f.forEach(v),this.h()},h(){k(t,"class","input"),k(t,"type","search"),k(t,"placeholder",n[1]),k(i,"class","icon is-small is-left"),k(o,"class","control has-icons-left has-icons-right"),k(e,"class","field")},m(u,f){N(u,e,f),p(e,o),p(o,t),ne(t,n[0]),p(o,r),p(o,i),p(e,l),s&&s.m(e,null),c=!0,d||(h=[ae(t,"input",n[4]),ae(t,"input",n[5])],d=!0)},p(u,[f]){(!c||f&2)&&k(t,"placeholder",u[1]),f&1&&t.value!==u[0]&&ne(t,u[0]),u[2].length>0?s?(s.p(u,f),f&4&&y(s,1)):(s=lt(u),s.c(),y(s,1),s.m(e,null)):s&&(Le(),Z(s,1,1,()=>{s=null}),Oe())},i(u){c||(y(s),c=!0)},o(u){Z(s),c=!1},d(u){u&&v(e),s&&s.d(),d=!1,Ye(h)}}}function Jt(n,e,o){let t="",r=[],i="";function a(s){r=[];const u=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const f of s){if(f.dia.split(" ").length>1)continue;let g=r.findIndex(C=>C.dia===f.dia);g<0&&(r.push({dia:f.dia,productos:[],orden:u.indexOf(f.dia.toLowerCase())}),g=r.length-1);let E=r[g].productos.findIndex(C=>C.nombre===f.producto);E<0&&(r[g].productos.push({nombre:f.producto,proveedor:f.proveedor,ofertas:[]}),E=r[g].productos.length-1),r[g].productos[E].ofertas.findIndex(C=>C.tienda===f.tienda)<0&&r[g].productos[E].ofertas.push({tienda:f.tienda,descuento:f.descuento})}r.sort((f,g)=>f.orden>g.orden?1:f.orden<g.orden?-1:0),r=[...r],console.log("infoDias",r)}let l=[];function c(){if(t.length==0){o(2,l=[]);return}const s=et(t.toLowerCase());o(2,l=r.filter(u=>et(JSON.stringify(u).toLowerCase()).includes(s)))}$e(()=>{o(1,i=Ge(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase()),a(fe)});function d(){t=this.value,o(0,t)}return[t,i,l,c,d,()=>c()]}class xt extends Ie{constructor(e){super(),Ce(this,e,Jt,Ut,Ee,{})}}function st(n,e,o){const t=n.slice();return t[3]=e[o],t}function ct(n){let e,o,t,r,i=n[3].text+"",a,l,c,d,h;function s(){return n[2](n[3])}return{c(){e=m("a"),o=m("i"),t=P(),r=m("span"),a=Y(i),l=P(),this.h()},l(u){e=b(u,"A",{class:!0,href:!0});var f=I(e);o=b(f,"I",{class:!0}),I(o).forEach(v),t=V(f),r=b(f,"SPAN",{class:!0});var g=I(r);a=K(g,i),g.forEach(v),l=V(f),f.forEach(v),this.h()},h(){k(o,"class",Fe(`fa-solid ${n[3].icon}`)+" svelte-18ubc0e"),k(r,"class","svelte-18ubc0e"),k(e,"class",c=Fe(`opcion ${n[0]===n[3].page?"active":""}`)+" svelte-18ubc0e"),k(e,"href",`?pagina=${n[3].page}`)},m(u,f){N(u,e,f),p(e,o),p(e,t),p(e,r),p(r,a),p(e,l),d||(h=ae(e,"click",s),d=!0)},p(u,f){n=u,f&1&&c!==(c=Fe(`opcion ${n[0]===n[3].page?"active":""}`)+" svelte-18ubc0e")&&k(e,"class",c)},d(u){u&&v(e),d=!1,h()}}}function yt(n){let e,o=H(n[1]),t=[];for(let r=0;r<o.length;r+=1)t[r]=ct(st(n,o,r));return{c(){e=m("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<t.length;a+=1)t[a].l(i);i.forEach(v),this.h()},h(){k(e,"class","opciones svelte-18ubc0e")},m(r,i){N(r,e,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,[i]){if(i&3){o=H(r[1]);let a;for(a=0;a<o.length;a+=1){const l=st(r,o,a);t[a]?t[a].p(l,i):(t[a]=ct(l),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=o.length}},i:Te,o:Te,d(r){r&&v(e),de(t,r)}}}function Ht(n,e,o){const t=[{icon:"fa-percent",page:"inicio",text:he.paginaBeneficios},{icon:"fa-credit-card",page:"mis-productos",text:he.paginaProductos},{icon:"fa-compass",page:"explorar-beneficios",text:he.paginaExplorar},{icon:"fa-plus",page:"agregar-productos",text:he.paginaAgregarProductos}];let r="inicio";return $e(()=>{Ae.subscribe(a=>{o(0,r=a)})}),[r,t,a=>Ae.set(a.page)]}class Ft extends Ie{constructor(e){super(),Ce(this,e,Ht,yt,Ee,{})}}function Gt(n){let e,o,t,r,i;return document.title=e=n[0],{c(){o=P(),t=m("div"),r=m("h1"),i=Y(n[0]),this.h()},l(a){qe("svelte-1uo06u1",document.head).forEach(v),o=V(a),t=b(a,"DIV",{class:!0});var c=I(t);r=b(c,"H1",{});var d=I(r);i=K(d,n[0]),d.forEach(v),c.forEach(v),this.h()},h(){k(t,"class","text-column")},m(a,l){N(a,o,l),N(a,t,l),p(t,r),p(r,i)},p(a,[l]){l&1&&e!==(e=a[0])&&(document.title=e)},i:Te,o:Te,d(a){a&&(v(o),v(t))}}}function Yt(n){return[he.acercaDe]}class Kt extends Ie{constructor(e){super(),Ce(this,e,Yt,Gt,Ee,{})}}const Me="benefit.productos";function dt(n,e,o){const t=n.slice();return t[6]=e[o],t}function ut(n){let e,o=`No tienes beneficios para hoy. ¿Tienes alguna tarjeta?
                ¡Agrégala!`,t,r,i="Agregar mis productos",a,l;return{c(){e=m("p"),e.textContent=o,t=P(),r=m("button"),r.textContent=i,this.h()},l(c){e=b(c,"P",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1kyegrk"&&(e.textContent=o),t=V(c),r=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-8qm8l7"&&(r.textContent=i),this.h()},h(){k(e,"class","mb-4"),k(r,"class","button is-success is-fullwidth svelte-1d3zxiq")},m(c,d){N(c,e,d),N(c,t,d),N(c,r,d),a||(l=ae(r,"click",n[3]),a=!0)},d(c){c&&(v(e),v(t),v(r)),a=!1,l()}}}function ft(n){let e,o;return e=new Ze({props:{dia:n[6]}}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},p(t,r){const i={};r&1&&(i.dia=t[6]),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function Zt(n){let e,o,t,r,i,a="Mis beneficios",l,c,d,h,s,u,f='<i class="fa-solid fa-sliders"></i>',g,E,_,C,x,w;document.title=he.appName;let U=n[0].length==0&&ut(n),S=H(n[0]),$=[];for(let B=0;B<S.length;B+=1)$[B]=ft(dt(n,S,B));const A=B=>Z($[B],1,1,()=>{$[B]=null});return{c(){e=P(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),i.textContent=a,l=P(),c=m("div"),d=Y(n[1]),h=P(),s=m("div"),u=m("button"),u.innerHTML=f,g=P(),E=m("div"),U&&U.c(),_=P();for(let B=0;B<$.length;B+=1)$[B].c();this.h()},l(B){qe("svelte-1gtgtlw",document.head).forEach(v),e=V(B),o=b(B,"SECTION",{class:!0});var O=I(o);t=b(O,"DIV",{class:!0});var oe=I(t);r=b(oe,"DIV",{class:!0});var q=I(r);i=b(q,"DIV",{class:!0,"data-svelte-h":!0}),ie(i)!=="svelte-1j2i0gn"&&(i.textContent=a),l=V(q),c=b(q,"DIV",{class:!0});var le=I(c);d=K(le,n[1]),le.forEach(v),q.forEach(v),h=V(oe),s=b(oe,"DIV",{class:!0});var R=I(s);u=b(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-1rjd7b6"&&(u.innerHTML=f),R.forEach(v),oe.forEach(v),g=V(O),E=b(O,"DIV",{class:!0});var z=I(E);U&&U.l(z),_=V(z);for(let re=0;re<$.length;re+=1)$[re].l(z);z.forEach(v),O.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-1d3zxiq"),k(c,"class","title subtitle mt-2 is-6 svelte-1d3zxiq"),k(r,"class","titulo-beneficios"),k(u,"class","button button-opciones svelte-1d3zxiq"),k(s,"class","opciones svelte-1d3zxiq"),k(t,"class","mis-beneficios mb-4 svelte-1d3zxiq"),k(E,"class","descuentos mt-4"),k(o,"class","inicio")},m(B,L){N(B,e,L),N(B,o,L),p(o,t),p(t,r),p(r,i),p(r,l),p(r,c),p(c,d),p(t,h),p(t,s),p(s,u),p(o,g),p(o,E),U&&U.m(E,null),p(E,_);for(let O=0;O<$.length;O+=1)$[O]&&$[O].m(E,null);C=!0,x||(w=ae(u,"click",n[2]),x=!0)},p(B,[L]){if((!C||L&2)&&ue(d,B[1]),B[0].length==0?U||(U=ut(B),U.c(),U.m(E,_)):U&&(U.d(1),U=null),L&1){S=H(B[0]);let O;for(O=0;O<S.length;O+=1){const oe=dt(B,S,O);$[O]?($[O].p(oe,L),y($[O],1)):($[O]=ft(oe),$[O].c(),y($[O],1),$[O].m(E,null))}for(Le(),O=S.length;O<$.length;O+=1)A(O);Oe()}},i(B){if(!C){for(let L=0;L<S.length;L+=1)y($[L]);C=!0}},o(B){$=$.filter(Boolean);for(let L=0;L<$.length;L+=1)Z($[L]);C=!1},d(B){B&&(v(e),v(o)),U&&U.d(),de($,B),x=!1,w()}}}function Qt(n,e,o){let t=[],r="",i=[];function a(d){console.log("filtrarDescuentos"),o(0,t=[]);const h=Ge(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase(),s=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const u of d){if(u.dia.split(" ").length>1||u.dia.toLowerCase()!==h||!i.some(_=>_.proveedor===u.proveedor&&_.nombre===u.producto))continue;let f=t.findIndex(_=>_.dia===u.dia);f<0&&(t.push({dia:u.dia,productos:[],orden:s.indexOf(u.dia.toLowerCase())}),f=t.length-1);let g=t[f].productos.findIndex(_=>_.nombre===u.producto);g<0&&(t[f].productos.push({nombre:u.producto,proveedor:u.proveedor,ofertas:[]}),g=t[f].productos.length-1),t[f].productos[g].ofertas.findIndex(_=>_.tienda===u.tienda)<0&&t[f].productos[g].ofertas.push({tienda:u.tienda,descuento:u.descuento})}t.sort((u,f)=>u.orden>f.orden?1:u.orden<f.orden?-1:0),o(0,t=[...t]),console.log(t)}return $e(()=>{o(1,r=Ge(new Date().toLocaleDateString("es-ES",{year:"numeric",day:"numeric",month:"long",weekday:"long"})));try{const d=localStorage.getItem(Me)??"[]";i=Ne.array().parse(JSON.parse(d))}catch(d){console.error("error al obtener productos guardados",d)}i=[...i],a(fe)}),[t,r,()=>alert("No implementado."),()=>Ae.set("agregar-productos")]}class Wt extends Ie{constructor(e){super(),Ce(this,e,Qt,Zt,Ee,{})}}function ht(n,e,o){const t=n.slice();return t[4]=e[o],t}function pt(n){let e,o,t,r,i,a,l,c=H(n[0]),d=[];for(let h=0;h<c.length;h+=1)d[h]=vt(ht(n,c,h));return{c(){e=m("article"),o=m("div"),t=m("p"),r=Y(n[1]),i=P(),a=m("div"),l=m("ul");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=b(h,"ARTICLE",{class:!0});var s=I(e);o=b(s,"DIV",{class:!0});var u=I(o);t=b(u,"P",{class:!0});var f=I(t);r=K(f,n[1]),f.forEach(v),u.forEach(v),i=V(s),a=b(s,"DIV",{class:!0});var g=I(a);l=b(g,"UL",{});var E=I(l);for(let _=0;_<d.length;_+=1)d[_].l(E);E.forEach(v),g.forEach(v),s.forEach(v),this.h()},h(){k(t,"class","proveedor svelte-cg3cdp"),k(o,"class","message-header"),k(a,"class","message-body"),k(e,"class","message svelte-cg3cdp")},m(h,s){N(h,e,s),p(e,o),p(o,t),p(t,r),p(e,i),p(e,a),p(a,l);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(l,null)},p(h,s){if(s&2&&ue(r,h[1]),s&5){c=H(h[0]);let u;for(u=0;u<c.length;u+=1){const f=ht(h,c,u);d[u]?d[u].p(f,s):(d[u]=vt(f),d[u].c(),d[u].m(l,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=c.length}},d(h){h&&v(e),de(d,h)}}}function vt(n){let e,o,t,r=n[4].nombre+"",i,a,l,c;function d(){return n[3](n[4])}return{c(){e=m("li"),o=m("button"),t=P(),i=Y(r),a=P(),this.h()},l(h){e=b(h,"LI",{});var s=I(e);o=b(s,"BUTTON",{class:!0,"aria-label":!0}),I(o).forEach(v),t=V(s),i=K(s,r),a=V(s),s.forEach(v),this.h()},h(){k(o,"class","delete"),k(o,"aria-label","delete")},m(h,s){N(h,e,s),p(e,o),p(e,t),p(e,i),p(e,a),l||(c=ae(o,"click",d),l=!0)},p(h,s){n=h,s&1&&r!==(r=n[4].nombre+"")&&ue(i,r)},d(h){h&&v(e),l=!1,c()}}}function Xt(n){let e,o=n[0].length>0&&pt(n);return{c(){o&&o.c(),e=Ve()},l(t){o&&o.l(t),e=Ve()},m(t,r){o&&o.m(t,r),N(t,e,r)},p(t,[r]){t[0].length>0?o?o.p(t,r):(o=pt(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:Te,o:Te,d(t){t&&v(e),o&&o.d(t)}}}function eo(n,e,o){let t,{productos:r}=e;function i(l){if(!confirm(`¿Eliminar ${l.nombre} de ${l.proveedor}?`))return;let d=[];try{const h=localStorage.getItem(Me)??"[]";d=Ne.array().parse(JSON.parse(h))}catch(h){console.error("error al obtener productos guardados",h)}d=d.filter(h=>h.proveedor!==l.proveedor&&h.nombre!==l.nombre),o(0,r=r.filter(h=>h.proveedor!==l.proveedor&&h.nombre!==l.nombre)),localStorage.setItem(Me,JSON.stringify(d))}const a=l=>i(l);return n.$$set=l=>{"productos"in l&&o(0,r=l.productos)},n.$$.update=()=>{n.$$.dirty&1&&o(1,t=r.length>0?r[0].proveedor:"")},[r,t,i,a]}class to extends Ie{constructor(e){super(),Ce(this,e,eo,Xt,Ee,{productos:0})}}function _t(n,e,o){const t=n.slice();return t[2]=e[o],t[3]=e,t[4]=o,t}function gt(n){let e,o,t;function r(a){n[1](a,n[2],n[3],n[4])}let i={};return n[2]!==void 0&&(i.productos=n[2]),e=new to({props:i}),Lt.push(()=>Nt(e,"productos",r)),{c(){_e(e.$$.fragment)},l(a){ge(e.$$.fragment,a)},m(a,l){me(e,a,l),t=!0},p(a,l){n=a;const c={};!o&&l&1&&(o=!0,c.productos=n[2],Ot(()=>o=!1)),e.$set(c)},i(a){t||(y(e.$$.fragment,a),t=!0)},o(a){Z(e.$$.fragment,a),t=!1},d(a){be(e,a)}}}function oo(n){let e,o,t,r,i,a=he.paginaProductos+"",l,c,d;document.title=he.appName;let h=H(n[0]),s=[];for(let f=0;f<h.length;f+=1)s[f]=gt(_t(n,h,f));const u=f=>Z(s[f],1,1,()=>{s[f]=null});return{c(){e=P(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),l=Y(a),c=P();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){qe("svelte-1gtgtlw",document.head).forEach(v),e=V(f),o=b(f,"SECTION",{class:!0});var E=I(o);t=b(E,"DIV",{class:!0});var _=I(t);r=b(_,"DIV",{class:!0});var C=I(r);i=b(C,"DIV",{class:!0});var x=I(i);l=K(x,a),x.forEach(v),C.forEach(v),_.forEach(v),c=V(E);for(let w=0;w<s.length;w+=1)s[w].l(E);E.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-14q4oge"),k(r,"class","titulo-beneficios"),k(t,"class","mis-beneficios mb-4 svelte-14q4oge"),k(o,"class","inicio")},m(f,g){N(f,e,g),N(f,o,g),p(o,t),p(t,r),p(r,i),p(i,l),p(o,c);for(let E=0;E<s.length;E+=1)s[E]&&s[E].m(o,null);d=!0},p(f,[g]){if(g&1){h=H(f[0]);let E;for(E=0;E<h.length;E+=1){const _=_t(f,h,E);s[E]?(s[E].p(_,g),y(s[E],1)):(s[E]=gt(_),s[E].c(),y(s[E],1),s[E].m(o,null))}for(Le(),E=h.length;E<s.length;E+=1)u(E);Oe()}},i(f){if(!d){for(let g=0;g<h.length;g+=1)y(s[g]);d=!0}},o(f){s=s.filter(Boolean);for(let g=0;g<s.length;g+=1)Z(s[g]);d=!1},d(f){f&&(v(e),v(o)),de(s,f)}}}function ro(n,e,o){let t=[];$e(()=>{let i=[];try{const a=localStorage.getItem(Me)??"[]";i=Ne.array().parse(JSON.parse(a))}catch(a){console.error("error al obtener productos guardados",a)}o(0,t=[]);for(const a of i){const l=t.find(c=>c.some(d=>d.proveedor===a.proveedor));if(l==null){t.push([a]);continue}l.push(a)}});function r(i,a,l,c){l[c]=i,o(0,t)}return[t,r]}class ao extends Ie{constructor(e){super(),Ce(this,e,ro,oo,Ee,{})}}function mt(n,e,o){const t=n.slice();return t[11]=e[o],t}function bt(n,e,o){const t=n.slice();return t[14]=e[o],t}function kt(n){let e,o=n[14]+"",t,r,i;return{c(){e=m("option"),t=Y(o),r=P(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=K(l,o),r=V(l),l.forEach(v),this.h()},h(){e.__value=i=n[14],ne(e,e.__value)},m(a,l){N(a,e,l),p(e,t),p(e,r)},p(a,l){l&1&&o!==(o=a[14]+"")&&ue(t,o),l&1&&i!==(i=a[14])&&(e.__value=i,ne(e,e.__value))},d(a){a&&v(e)}}}function Tt(n){let e,o=n[11]+"",t,r,i;return{c(){e=m("option"),t=Y(o),r=P(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=K(l,o),r=V(l),l.forEach(v),this.h()},h(){e.__value=i=n[11],ne(e,e.__value)},m(a,l){N(a,e,l),p(e,t),p(e,r)},p(a,l){l&2&&o!==(o=a[11]+"")&&ue(t,o),l&2&&i!==(i=a[11])&&(e.__value=i,ne(e,e.__value))},d(a){a&&v(e)}}}function no(n){let e,o,t,r,i,a=he.paginaAgregarProductos+"",l,c,d,h,s="Institución",u,f,g,E,_,C,x="Producto",w,U,S,$,A,B,L,O,oe,q,le;document.title=he.appName;let R=H(n[0]),z=[];for(let j=0;j<R.length;j+=1)z[j]=kt(bt(n,R,j));let re=H(n[1]),F=[];for(let j=0;j<re.length;j+=1)F[j]=Tt(mt(n,re,j));return{c(){e=P(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),l=Y(a),c=P(),d=m("div"),h=m("label"),h.textContent=s,u=P(),f=m("div"),g=m("select");for(let j=0;j<z.length;j+=1)z[j].c();E=P(),_=m("div"),C=m("label"),C.textContent=x,w=P(),U=m("div"),S=m("select");for(let j=0;j<F.length;j+=1)F[j].c();A=P(),B=m("div"),L=m("button"),O=Y("Añadir producto"),this.h()},l(j){qe("svelte-1gtgtlw",document.head).forEach(v),e=V(j),o=b(j,"SECTION",{class:!0});var M=I(o);t=b(M,"DIV",{class:!0});var pe=I(t);r=b(pe,"DIV",{class:!0});var we=I(r);i=b(we,"DIV",{class:!0});var Se=I(i);l=K(Se,a),Se.forEach(v),we.forEach(v),pe.forEach(v),c=V(M),d=b(M,"DIV",{class:!0});var W=I(d);h=b(W,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(h)!=="svelte-19ukkfe"&&(h.textContent=s),u=V(W),f=b(W,"DIV",{class:!0});var De=I(f);g=b(De,"SELECT",{class:!0});var X=I(g);for(let J=0;J<z.length;J+=1)z[J].l(X);X.forEach(v),De.forEach(v),W.forEach(v),E=V(M),_=b(M,"DIV",{class:!0});var ke=I(_);C=b(ke,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(C)!=="svelte-tw3mbh"&&(C.textContent=x),w=V(ke),U=b(ke,"DIV",{class:!0});var ee=I(U);S=b(ee,"SELECT",{class:!0});var je=I(S);for(let J=0;J<F.length;J+=1)F[J].l(je);je.forEach(v),ee.forEach(v),ke.forEach(v),A=V(M),B=b(M,"DIV",{class:!0});var te=I(B);L=b(te,"BUTTON",{class:!0});var D=I(L);O=K(D,"Añadir producto"),D.forEach(v),te.forEach(v),M.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-dkkcgn"),k(r,"class","titulo-beneficios"),k(t,"class","mis-beneficios mb-4 svelte-dkkcgn"),k(h,"class","label"),k(h,"for",""),k(g,"class","svelte-dkkcgn"),n[2]===void 0&&Be(()=>n[6].call(g)),k(f,"class","select svelte-dkkcgn"),k(d,"class","field"),k(C,"class","label"),k(C,"for",""),S.disabled=$=n[1].length===0,k(S,"class","svelte-dkkcgn"),n[3]===void 0&&Be(()=>n[8].call(S)),k(U,"class","select svelte-dkkcgn"),k(_,"class","field"),k(L,"class","button is-success svelte-dkkcgn"),L.disabled=oe=n[3].length==0,k(B,"class","buttons"),k(o,"class","inicio")},m(j,Q){N(j,e,Q),N(j,o,Q),p(o,t),p(t,r),p(r,i),p(i,l),p(o,c),p(o,d),p(d,h),p(d,u),p(d,f),p(f,g);for(let M=0;M<z.length;M+=1)z[M]&&z[M].m(g,null);ve(g,n[2],!0),p(o,E),p(o,_),p(_,C),p(_,w),p(_,U),p(U,S);for(let M=0;M<F.length;M+=1)F[M]&&F[M].m(S,null);ve(S,n[3],!0),p(o,A),p(o,B),p(B,L),p(L,O),q||(le=[ae(g,"change",n[6]),ae(g,"click",n[7]),ae(S,"change",n[8]),ae(L,"click",n[9])],q=!0)},p(j,[Q]){if(Q&1){R=H(j[0]);let M;for(M=0;M<R.length;M+=1){const pe=bt(j,R,M);z[M]?z[M].p(pe,Q):(z[M]=kt(pe),z[M].c(),z[M].m(g,null))}for(;M<z.length;M+=1)z[M].d(1);z.length=R.length}if(Q&5&&ve(g,j[2]),Q&2){re=H(j[1]);let M;for(M=0;M<re.length;M+=1){const pe=mt(j,re,M);F[M]?F[M].p(pe,Q):(F[M]=Tt(pe),F[M].c(),F[M].m(S,null))}for(;M<F.length;M+=1)F[M].d(1);F.length=re.length}Q&2&&$!==($=j[1].length===0)&&(S.disabled=$),Q&10&&ve(S,j[3]),Q&10&&oe!==(oe=j[3].length==0)&&(L.disabled=oe)},i:Te,o:Te,d(j){j&&(v(e),v(o)),de(z,j),de(F,j),q=!1,Ye(le)}}}function lo(n,e,o){let t=[],r=[],i="",a="";function l(){console.log("filtrarProveedores"),o(0,t=[]),o(1,r=[]),o(2,i=""),o(3,a="");for(const g of fe)t.includes(g.proveedor)||t.push(g.proveedor);o(0,t=[...t])}function c(){console.log("filtrarProductos"),o(1,r=[]);for(const g of fe)i.length>0&&g.proveedor!==i||r.includes(g.producto)||r.push(g.producto);o(1,r=[...r])}function d(){let g=[];try{const _=localStorage.getItem(Me)??"[]";g=Ne.array().parse(JSON.parse(_))}catch(_){console.error("error al obtener productos guardados",_)}g.find(_=>_.proveedor===i&&_.nombre===a)==null&&g.push({nombre:a,proveedor:i}),localStorage.setItem(Me,JSON.stringify(g)),alert("Producto guardado.")}$e(()=>{l()});function h(){i=Pe(this),o(2,i),o(0,t)}const s=()=>c();function u(){a=Pe(this),o(3,a),o(1,r)}return[t,r,i,a,c,d,h,s,u,()=>d()]}class io extends Ie{constructor(e){super(),Ce(this,e,lo,no,Ee,{})}}function Et(n,e,o){const t=n.slice();return t[26]=e[o],t}function It(n,e,o){const t=n.slice();return t[29]=e[o],t}function Ct(n,e,o){const t=n.slice();return t[26]=e[o],t}function St(n,e,o){const t=n.slice();return t[34]=e[o],t}function Dt(n,e,o){const t=n.slice();return t[37]=e[o],t}function jt(n){let e,o,t,r="Institución",i,a,l,c,d="Ninguna",h,s,u,f="Producto",g,E,_,C,x="Ninguno",w,U,S,$="Día de la semana",A,B,L,O,oe="Ninguno",q,le,R,z="Local",re,F,j,Q,M="Ninguno",pe,we,Se=H(n[1]),W=[];for(let D=0;D<Se.length;D+=1)W[D]=$t(Dt(n,Se,D));let De=H(n[2]),X=[];for(let D=0;D<De.length;D+=1)X[D]=Bt(St(n,De,D));let ke=H(n[3]),ee=[];for(let D=0;D<ke.length;D+=1)ee[D]=Pt(Ct(n,ke,D));let je=H(n[4]),te=[];for(let D=0;D<je.length;D+=1)te[D]=Vt(It(n,je,D));return{c(){e=m("div"),o=m("div"),t=m("label"),t.textContent=r,i=P(),a=m("div"),l=m("select"),c=m("option"),c.textContent=d;for(let D=0;D<W.length;D+=1)W[D].c();h=P(),s=m("div"),u=m("label"),u.textContent=f,g=P(),E=m("div"),_=m("select"),C=m("option"),C.textContent=x;for(let D=0;D<X.length;D+=1)X[D].c();w=P(),U=m("div"),S=m("label"),S.textContent=$,A=P(),B=m("div"),L=m("select"),O=m("option"),O.textContent=oe;for(let D=0;D<ee.length;D+=1)ee[D].c();q=P(),le=m("div"),R=m("label"),R.textContent=z,re=P(),F=m("div"),j=m("select"),Q=m("option"),Q.textContent=M;for(let D=0;D<te.length;D+=1)te[D].c();this.h()},l(D){e=b(D,"DIV",{class:!0});var J=I(e);o=b(J,"DIV",{class:!0});var T=I(o);t=b(T,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(t)!=="svelte-19ukkfe"&&(t.textContent=r),i=V(T),a=b(T,"DIV",{class:!0});var ce=I(a);l=b(ce,"SELECT",{class:!0});var Je=I(l);c=b(Je,"OPTION",{"data-svelte-h":!0}),ie(c)!=="svelte-56rvmw"&&(c.textContent=d);for(let se=0;se<W.length;se+=1)W[se].l(Je);Je.forEach(v),ce.forEach(v),T.forEach(v),h=V(J),s=b(J,"DIV",{class:!0});var Re=I(s);u=b(Re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(u)!=="svelte-tw3mbh"&&(u.textContent=f),g=V(Re),E=b(Re,"DIV",{class:!0});var Qe=I(E);_=b(Qe,"SELECT",{class:!0});var xe=I(_);C=b(xe,"OPTION",{"data-svelte-h":!0}),ie(C)!=="svelte-1p9iu4y"&&(C.textContent=x);for(let se=0;se<X.length;se+=1)X[se].l(xe);xe.forEach(v),Qe.forEach(v),Re.forEach(v),w=V(J),U=b(J,"DIV",{class:!0});var ze=I(U);S=b(ze,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(S)!=="svelte-4y0urq"&&(S.textContent=$),A=V(ze),B=b(ze,"DIV",{class:!0});var We=I(B);L=b(We,"SELECT",{class:!0});var ye=I(L);O=b(ye,"OPTION",{"data-svelte-h":!0}),ie(O)!=="svelte-1p9iu4y"&&(O.textContent=oe);for(let se=0;se<ee.length;se+=1)ee[se].l(ye);ye.forEach(v),We.forEach(v),ze.forEach(v),q=V(J),le=b(J,"DIV",{class:!0});var Ue=I(le);R=b(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(R)!=="svelte-whtky8"&&(R.textContent=z),re=V(Ue),F=b(Ue,"DIV",{class:!0});var Xe=I(F);j=b(Xe,"SELECT",{class:!0});var He=I(j);Q=b(He,"OPTION",{"data-svelte-h":!0}),ie(Q)!=="svelte-1p9iu4y"&&(Q.textContent=M);for(let se=0;se<te.length;se+=1)te[se].l(He);He.forEach(v),Xe.forEach(v),Ue.forEach(v),J.forEach(v),this.h()},h(){k(t,"class","label"),k(t,"for",""),c.__value="",ne(c,c.__value),k(l,"class","svelte-6p4kcx"),n[5]===void 0&&Be(()=>n[15].call(l)),k(a,"class","select svelte-6p4kcx"),k(o,"class","field"),k(u,"class","label"),k(u,"for",""),C.__value="",ne(C,C.__value),k(_,"class","svelte-6p4kcx"),n[6]===void 0&&Be(()=>n[17].call(_)),k(E,"class","select svelte-6p4kcx"),k(s,"class","field"),k(S,"class","label"),k(S,"for",""),O.__value="",ne(O,O.__value),k(L,"class","svelte-6p4kcx"),n[7]===void 0&&Be(()=>n[19].call(L)),k(B,"class","select svelte-6p4kcx"),k(U,"class","field"),k(R,"class","label"),k(R,"for",""),Q.__value="",ne(Q,Q.__value),k(j,"class","svelte-6p4kcx"),n[8]===void 0&&Be(()=>n[21].call(j)),k(F,"class","select svelte-6p4kcx"),k(le,"class","field"),k(e,"class","filtros mt-2 svelte-6p4kcx")},m(D,J){N(D,e,J),p(e,o),p(o,t),p(o,i),p(o,a),p(a,l),p(l,c);for(let T=0;T<W.length;T+=1)W[T]&&W[T].m(l,null);ve(l,n[5],!0),p(e,h),p(e,s),p(s,u),p(s,g),p(s,E),p(E,_),p(_,C);for(let T=0;T<X.length;T+=1)X[T]&&X[T].m(_,null);ve(_,n[6],!0),p(e,w),p(e,U),p(U,S),p(U,A),p(U,B),p(B,L),p(L,O);for(let T=0;T<ee.length;T+=1)ee[T]&&ee[T].m(L,null);ve(L,n[7],!0),p(e,q),p(e,le),p(le,R),p(le,re),p(le,F),p(F,j),p(j,Q);for(let T=0;T<te.length;T+=1)te[T]&&te[T].m(j,null);ve(j,n[8],!0),pe||(we=[ae(l,"change",n[15]),ae(l,"change",n[16]),ae(_,"change",n[17]),ae(_,"change",n[18]),ae(L,"change",n[19]),ae(L,"change",n[20]),ae(j,"change",n[21]),ae(j,"change",n[22])],pe=!0)},p(D,J){if(J[0]&2){Se=H(D[1]);let T;for(T=0;T<Se.length;T+=1){const ce=Dt(D,Se,T);W[T]?W[T].p(ce,J):(W[T]=$t(ce),W[T].c(),W[T].m(l,null))}for(;T<W.length;T+=1)W[T].d(1);W.length=Se.length}if(J[0]&34&&ve(l,D[5]),J[0]&4){De=H(D[2]);let T;for(T=0;T<De.length;T+=1){const ce=St(D,De,T);X[T]?X[T].p(ce,J):(X[T]=Bt(ce),X[T].c(),X[T].m(_,null))}for(;T<X.length;T+=1)X[T].d(1);X.length=De.length}if(J[0]&68&&ve(_,D[6]),J[0]&8){ke=H(D[3]);let T;for(T=0;T<ke.length;T+=1){const ce=Ct(D,ke,T);ee[T]?ee[T].p(ce,J):(ee[T]=Pt(ce),ee[T].c(),ee[T].m(L,null))}for(;T<ee.length;T+=1)ee[T].d(1);ee.length=ke.length}if(J[0]&136&&ve(L,D[7]),J[0]&16){je=H(D[4]);let T;for(T=0;T<je.length;T+=1){const ce=It(D,je,T);te[T]?te[T].p(ce,J):(te[T]=Vt(ce),te[T].c(),te[T].m(j,null))}for(;T<te.length;T+=1)te[T].d(1);te.length=je.length}J[0]&272&&ve(j,D[8])},d(D){D&&v(e),de(W,D),de(X,D),de(ee,D),de(te,D),pe=!1,Ye(we)}}}function $t(n){let e,o=n[37]+"",t,r,i;return{c(){e=m("option"),t=Y(o),r=P(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=K(l,o),r=V(l),l.forEach(v),this.h()},h(){e.__value=i=n[37],ne(e,e.__value)},m(a,l){N(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&2&&o!==(o=a[37]+"")&&ue(t,o),l[0]&2&&i!==(i=a[37])&&(e.__value=i,ne(e,e.__value))},d(a){a&&v(e)}}}function Bt(n){let e,o=n[34]+"",t,r,i;return{c(){e=m("option"),t=Y(o),r=P(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=K(l,o),r=V(l),l.forEach(v),this.h()},h(){e.__value=i=n[34],ne(e,e.__value)},m(a,l){N(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&4&&o!==(o=a[34]+"")&&ue(t,o),l[0]&4&&i!==(i=a[34])&&(e.__value=i,ne(e,e.__value))},d(a){a&&v(e)}}}function Pt(n){let e,o=n[26]+"",t,r,i;return{c(){e=m("option"),t=Y(o),r=P(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=K(l,o),r=V(l),l.forEach(v),this.h()},h(){e.__value=i=n[26],ne(e,e.__value)},m(a,l){N(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&8&&o!==(o=a[26]+"")&&ue(t,o),l[0]&8&&i!==(i=a[26])&&(e.__value=i,ne(e,e.__value))},d(a){a&&v(e)}}}function Vt(n){let e,o=n[29]+"",t,r,i;return{c(){e=m("option"),t=Y(o),r=P(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=K(l,o),r=V(l),l.forEach(v),this.h()},h(){e.__value=i=n[29],ne(e,e.__value)},m(a,l){N(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&16&&o!==(o=a[29]+"")&&ue(t,o),l[0]&16&&i!==(i=a[29])&&(e.__value=i,ne(e,e.__value))},d(a){a&&v(e)}}}function Mt(n){let e,o;return e=new Ze({props:{dia:n[26]}}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},p(t,r){const i={};r[0]&1&&(i.dia=t[26]),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function so(n){let e,o,t,r,i,a=he.paginaExplorar+"",l,c,d,h="Filtrar beneficios",s,u,f,g,E,_;document.title=he.appName;let C=n[9]&&jt(n),x=H(n[0]),w=[];for(let S=0;S<x.length;S+=1)w[S]=Mt(Et(n,x,S));const U=S=>Z(w[S],1,1,()=>{w[S]=null});return{c(){e=P(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),l=Y(a),c=P(),d=m("button"),d.textContent=h,s=P(),C&&C.c(),u=P(),f=m("div");for(let S=0;S<w.length;S+=1)w[S].c();this.h()},l(S){qe("svelte-1gtgtlw",document.head).forEach(v),e=V(S),o=b(S,"SECTION",{class:!0});var A=I(o);t=b(A,"DIV",{class:!0});var B=I(t);r=b(B,"DIV",{class:!0});var L=I(r);i=b(L,"DIV",{class:!0});var O=I(i);l=K(O,a),O.forEach(v),L.forEach(v),B.forEach(v),c=V(A),d=b(A,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-1l6ekyo"&&(d.textContent=h),s=V(A),C&&C.l(A),u=V(A),f=b(A,"DIV",{class:!0});var oe=I(f);for(let q=0;q<w.length;q+=1)w[q].l(oe);oe.forEach(v),A.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-6p4kcx"),k(r,"class","titulo-beneficios"),k(t,"class","mis-beneficios mb-4 svelte-6p4kcx"),k(d,"class","button is-link svelte-6p4kcx"),k(f,"class","descuentos mt-4"),k(o,"class","inicio")},m(S,$){N(S,e,$),N(S,o,$),p(o,t),p(t,r),p(r,i),p(i,l),p(o,c),p(o,d),p(o,s),C&&C.m(o,null),p(o,u),p(o,f);for(let A=0;A<w.length;A+=1)w[A]&&w[A].m(f,null);g=!0,E||(_=ae(d,"click",n[14]),E=!0)},p(S,$){if(S[9]?C?C.p(S,$):(C=jt(S),C.c(),C.m(o,u)):C&&(C.d(1),C=null),$[0]&1){x=H(S[0]);let A;for(A=0;A<x.length;A+=1){const B=Et(S,x,A);w[A]?(w[A].p(B,$),y(w[A],1)):(w[A]=Mt(B),w[A].c(),y(w[A],1),w[A].m(f,null))}for(Le(),A=x.length;A<w.length;A+=1)U(A);Oe()}},i(S){if(!g){for(let $=0;$<x.length;$+=1)y(w[$]);g=!0}},o(S){w=w.filter(Boolean);for(let $=0;$<w.length;$+=1)Z(w[$]);g=!1},d(S){S&&(v(e),v(o)),C&&C.d(),de(w,S),E=!1,_()}}}function co(n,e,o){let t=[],r=[],i=[],a=[],l=[],c="",d="",h="",s="",u=!1;const f=Ne.extend({ofertas:Ke.array()});G.object({dia:G.string(),orden:G.number(),productos:f.array()});function g(){console.log("filtrarProveedores"),o(1,r=[]),o(2,i=[]),o(3,a=[]),o(4,l=[]),o(5,c=""),o(6,d=""),o(7,h=""),o(8,s="");for(const q of fe)r.includes(q.proveedor)||r.push(q.proveedor);o(1,r=[...r])}function E(){console.log("filtrarProductos"),o(7,h=""),o(8,s=""),o(2,i=[]),o(3,a=[]),o(4,l=[]);for(const q of fe)c.length>0&&q.proveedor!==c||i.includes(q.producto)||i.push(q.producto);o(2,i=[...i])}function _(){console.log("filtrarDias"),o(8,s=""),o(3,a=[]),o(4,l=[]);for(const q of fe)c.length>0&&q.proveedor!==c||d.length>0&&q.producto!==d||a.includes(q.dia)||a.push(q.dia);o(3,a=[...a])}function C(){console.log("filtrarTiendas"),o(4,l=[]);for(const q of fe)c.length>0&&q.proveedor!==c||d.length>0&&q.producto!==d||h.length>0&&q.dia!==h||l.includes(q.tienda)||l.push(q.tienda);o(4,l=[...l])}function x(q){console.log("filtrarDescuentos"),o(0,t=[]);const le=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const R of q){if(R.dia.split(" ").length>1||c.length>0&&R.proveedor!==c||d.length>0&&R.producto!==d||h.length>0&&R.dia!==h||s.length>0&&R.tienda!==s)continue;let z=t.findIndex(j=>j.dia===R.dia);z<0&&(t.push({dia:R.dia,productos:[],orden:le.indexOf(R.dia.toLowerCase())}),z=t.length-1);let re=t[z].productos.findIndex(j=>j.nombre===R.producto);re<0&&(t[z].productos.push({nombre:R.producto,proveedor:R.proveedor,ofertas:[]}),re=t[z].productos.length-1),t[z].productos[re].ofertas.findIndex(j=>j.tienda===R.tienda)<0&&t[z].productos[re].ofertas.push({tienda:R.tienda,descuento:R.descuento})}o(1,r=[...r]),t.sort((R,z)=>R.orden>z.orden?1:R.orden<z.orden?-1:0),o(0,t=[...t]),console.log(t)}$e(()=>{x(fe),g(),E(),_(),C()});const w=()=>o(9,u=!u);function U(){c=Pe(this),o(5,c),o(1,r)}const S=()=>{E(),x(fe)};function $(){d=Pe(this),o(6,d),o(2,i)}const A=()=>{_(),x(fe)};function B(){h=Pe(this),o(7,h),o(3,a)}const L=()=>{C(),x(fe)};function O(){s=Pe(this),o(8,s),o(4,l)}return[t,r,i,a,l,c,d,h,s,u,E,_,C,x,w,U,S,$,A,B,L,O,()=>{x(fe)}]}class uo extends Ie{constructor(e){super(),Ce(this,e,co,so,Ee,{},null,[-1,-1])}}function fo(n){let e,o;return e=new Kt({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function ho(n){let e,o;return e=new io({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function po(n){let e,o;return e=new uo({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function vo(n){let e,o;return e=new ao({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function _o(n){let e,o;return e=new Wt({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Z(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function go(n){let e,o,t,r;const i=[_o,vo,po,ho,fo],a=[];function l(c,d){return c[0]=="inicio"?0:c[0]=="mis-productos"?1:c[0]=="explorar-beneficios"?2:c[0]=="agregar-productos"?3:c[0]=="acercaDe"?4:-1}return~(e=l(n))&&(o=a[e]=i[e](n)),{c(){o&&o.c(),t=Ve()},l(c){o&&o.l(c),t=Ve()},m(c,d){~e&&a[e].m(c,d),N(c,t,d),r=!0},p(c,[d]){let h=e;e=l(c),e!==h&&(o&&(Le(),Z(a[h],1,1,()=>{a[h]=null}),Oe()),~e?(o=a[e],o||(o=a[e]=i[e](c),o.c()),y(o,1),o.m(t.parentNode,t)):o=null)},i(c){r||(y(o),r=!0)},o(c){Z(o),r=!1},d(c){c&&v(t),~e&&a[e].d(c)}}}function mo(n,e,o){let t;return $e(()=>{Ae.subscribe(l=>{l!=null&&o(0,t=l)});const i=new URLSearchParams(location.search).get("pagina")??"",a=wt(i)?i:"inicio";Ae.set(a)}),[t]}class bo extends Ie{constructor(e){super(),Ce(this,e,mo,go,Ee,{})}}function ko(n){let e,o,t,r=he.appName+"",i,a,l,c,d,h,s,u,f,g,E;return e=new xt({}),h=new bo({}),g=new Ft({}),{c(){_e(e.$$.fragment),o=P(),t=m("div"),i=Y(r),a=P(),l=m("hr"),c=P(),d=m("div"),_e(h.$$.fragment),s=P(),u=m("hr"),f=P(),_e(g.$$.fragment),this.h()},l(_){ge(e.$$.fragment,_),o=V(_),t=b(_,"DIV",{class:!0});var C=I(t);i=K(C,r),C.forEach(v),a=V(_),l=b(_,"HR",{class:!0}),c=V(_),d=b(_,"DIV",{class:!0});var x=I(d);ge(h.$$.fragment,x),x.forEach(v),s=V(_),u=b(_,"HR",{class:!0}),f=V(_),ge(g.$$.fragment,_),this.h()},h(){k(t,"class","title is-3 svelte-7wzyb4"),k(l,"class","svelte-7wzyb4"),k(d,"class","router svelte-7wzyb4"),k(u,"class","svelte-7wzyb4")},m(_,C){me(e,_,C),N(_,o,C),N(_,t,C),p(t,i),N(_,a,C),N(_,l,C),N(_,c,C),N(_,d,C),me(h,d,null),N(_,s,C),N(_,u,C),N(_,f,C),me(g,_,C),E=!0},p:Te,i(_){E||(y(e.$$.fragment,_),y(h.$$.fragment,_),y(g.$$.fragment,_),E=!0)},o(_){Z(e.$$.fragment,_),Z(h.$$.fragment,_),Z(g.$$.fragment,_),E=!1},d(_){_&&(v(o),v(t),v(a),v(l),v(c),v(d),v(s),v(u),v(f)),be(e,_),be(h),be(g,_)}}}class So extends Ie{constructor(e){super(),Ce(this,e,null,ko,Ee,{})}}export{So as component,Co as universal};
