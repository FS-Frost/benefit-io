import{s as Ee,n as Te,r as Ye,o as Be,x as Ge,b as Lt,y as Ot,g as $e}from"../chunks/scheduler.DPANX2Ry.js";import{S as Ie,i as Ce,e as m,t as K,s as V,c as b,a as I,b as Z,d as v,f as M,o as k,g as w,h as p,j as ue,A as de,k as Ve,z as ie,B as le,y as ne,n as y,q as Le,l as Q,m as Oe,u as _e,v as ge,w as me,x as be,C as qe,D as Nt,E as ve,F as Pe}from"../chunks/index.CW4Xy8cd.js";import{z as Y,c as xe,q as et,a as Ae,t as he,i as wt}from"../chunks/text.D20ycFBS.js";function H(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const At=!0,Co=Object.freeze(Object.defineProperty({__proto__:null,prerender:At},Symbol.toStringTag,{value:"Module"}));Y.object({nombre:Y.string(),productos:Y.string().array()});const Ne=Y.object({nombre:Y.string(),proveedor:Y.string()}),Ke=Y.object({tienda:Y.string(),descuento:Y.number()});Y.object({proveedor:Y.string(),producto:Y.string(),ofertas:Ke.array()});Y.object({ciudad:Y.string(),dia:Y.string(),proveedor:Y.string(),producto:Y.string(),tienda:Y.string(),descuento:Y.number()});const qt=Ne.extend({ofertas:Ke.array()});Y.object({dia:Y.string(),orden:Y.number(),productos:qt.array()});const fe=[{ciudad:"Antofagasta",dia:"Martes",proveedor:"Banco Itaú",tienda:"FOGO",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"CLIB de Yates",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Steakhouse",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Jueves",proveedor:"Banco Bice",tienda:"BRUNNIT",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Jueves",proveedor:"Banco Ripley",tienda:"De Rock & Burger",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Antofagasta",dia:"Viernes",proveedor:"BCI",tienda:"Ámbar Restobar",descuento:20,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Banco de Chile",tienda:"Tuto Beach",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Banco Ripley",tienda:"Bar de Lobos",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Martes",proveedor:"Security",tienda:"La Pasta de la Nonna",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Miércoles",proveedor:"CMR",tienda:"G14",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Terramola",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Jueves",proveedor:"Banco Bice",tienda:"La Pasta de la Nonna",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Arica",dia:"Viernes",proveedor:"BCI",tienda:"Rosa Amelia",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Concón",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"Los Hornitos",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Curacaví",dia:"Miércoles",proveedor:"Santander",tienda:"Raymi",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Frutillar",dia:"Miércoles",proveedor:"CMR",tienda:"Fugas del Mar",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Martes",proveedor:"Banco Itaú",tienda:"Yado by Asia",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Martes",proveedor:"Santander (sin límite)",tienda:"Piso 21",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Dominga Bistró",descuento:40,producto:"Tarjeta de débito"},{ciudad:"Iquique",dia:"Jueves",proveedor:"BCI",tienda:"La Mulata",descuento:40,producto:"Tarjeta de débito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Banco Itaú",tienda:"Terrazza",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Santander (sin límite)",tienda:"Tollo Beach",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Martes",proveedor:"Security",tienda:"Hotel Costa Real",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"La Serena",dia:"Jueves",proveedor:"Santander",tienda:"Zona Zero",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Los Ángeles",dia:"Martes",proveedor:"Banco Itaú",tienda:"Bife Sureño",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Machalí",dia:"Martes",proveedor:"Banco Itaú",tienda:"La Hacienda Machalí",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Matencillo",dia:"Miércoles",proveedor:"Santander Amex",tienda:"La Pesca",descuento:50,producto:"Tarjeta de crédito"},{ciudad:"Osorno",dia:"Martes",proveedor:"Banco Itaú",tienda:"El Galpón",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Osorno",dia:"Jueves",proveedor:"Banco Bice",tienda:"Greed",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Pichilemu",dia:"Viernes",proveedor:"BCI",tienda:"Bocas del Mar",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Pichilemu",dia:"Martes",proveedor:"Security",tienda:"Camalache",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Varas",dia:"Martes",proveedor:"Santander",tienda:"Hotel Awa",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Montt",dia:"Jueves",proveedor:"Banco Bice",tienda:"Hotel Bellavista",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Puerto Montt",dia:"Viernes",proveedor:"BCI",tienda:"Da Alessandro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Rancagua/Machalí",dia:"Jueves",proveedor:"Banco Itaú",tienda:"Da Alessandro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Rancagua/Machalí",dia:"Jueves",proveedor:"Banco Bice",tienda:"Don Teo",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Reñaca",dia:"Miércoles",proveedor:"Santander Amex",tienda:"SUMOKU",descuento:50,producto:"Tarjeta de crédito"},{ciudad:"Reñaca/Viña",dia:"Jueves",proveedor:"BCI",tienda:"INSOMNIO",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Fernando",dia:"Jueves",proveedor:"Scotiabank",tienda:"Sarzones",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Pedro de la Paz",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"Augusta Bar",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"San Pedro de la Paz",dia:"Viernes",proveedor:"Scotiabank",tienda:"La Barra Restobar",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Domingo",proveedor:"Banco de Chile",tienda:"Noi Blend",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Sábado",proveedor:"Banco de Chile",tienda:"Noi Blend",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Martes",proveedor:"Santander",tienda:"Casa Albergue",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Miércoles",proveedor:"Security",tienda:"La Fábrica",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Santa Cruz",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Carnes Domo",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Martes",proveedor:"Banco Itaú",tienda:"La Fuente Italiana",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"Sushi House",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Talca",dia:"Viernes",proveedor:"Santander (sin límite)",tienda:"Radho",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Miércoles",proveedor:"Santander",tienda:"León de San Martin",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Jueves",proveedor:"BCI",tienda:"Hashigo",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Temuco",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Secret Garden",descuento:60,producto:"Tarjeta de crédito"},{ciudad:"Tomé",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Icaro",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valdivia",dia:"Viernes",proveedor:"Banco de Chile",tienda:"Riviera Poke",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valdivia",dia:"Miércoles",proveedor:"Banco de Chile",tienda:"La Parrilla de Thor",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valparaíso",dia:"Lunes",proveedor:"Banco Itaú",tienda:"Sazón Peruano",descuento:40,producto:"Tarjeta de crédito"},{ciudad:"Valparaíso",dia:"Miércoles",proveedor:"Scotiabank",tienda:"Puerto Claro",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Martes",proveedor:"Banco Ripley",tienda:"Lima 51",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Miércoles",proveedor:"Santander (sin límite)",tienda:"Hotel Sheraton",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña del Mar",dia:"Viernes",proveedor:"BCI",tienda:"Valentini's",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Mall Marina",dia:"Lunes a Viernes",proveedor:"CMR",tienda:"Luna Vieja",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Viña/Coquimbo",dia:"Miércoles",proveedor:"Santander",tienda:"Sibarac",descuento:20,producto:"Tarjeta de crédito"},{ciudad:"Mall Marina",dia:"Lunes a Viernes",proveedor:"CMR",tienda:"Sanguchería del B.",descuento:20,producto:"Tarjeta de crédito"}];function tt(n,e,o){const t=n.slice();return t[1]=e[o],t}function ot(n,e,o){const t=n.slice();return t[4]=e[o],t}function rt(n){let e,o,t=n[4].tienda+"",r,i,a,l=n[4].descuento+"",c,d,h;return{c(){e=m("div"),o=m("span"),r=K(t),i=V(),a=m("span"),c=K(l),d=K(" %"),h=V(),this.h()},l(s){e=b(s,"DIV",{class:!0});var u=I(e);o=b(u,"SPAN",{});var f=I(o);r=Z(f,t),f.forEach(v),i=M(u),a=b(u,"SPAN",{});var _=I(a);c=Z(_,l),d=Z(_," %"),_.forEach(v),h=M(u),u.forEach(v),this.h()},h(){k(e,"class","oferta svelte-1kbdpq8")},m(s,u){w(s,e,u),p(e,o),p(o,r),p(e,i),p(e,a),p(a,c),p(a,d),p(e,h)},p(s,u){u&1&&t!==(t=s[4].tienda+"")&&ue(r,t),u&1&&l!==(l=s[4].descuento+"")&&ue(c,l)},d(s){s&&v(e)}}}function at(n){let e,o=n[1].proveedor+"",t,r,i=n[1].nombre+"",a,l,c,d=H(n[1].ofertas),h=[];for(let s=0;s<d.length;s+=1)h[s]=rt(ot(n,d,s));return{c(){e=m("div"),t=K(o),r=K(" - "),a=K(i),l=V();for(let s=0;s<h.length;s+=1)h[s].c();c=Ve()},l(s){e=b(s,"DIV",{});var u=I(e);t=Z(u,o),r=Z(u," - "),a=Z(u,i),u.forEach(v),l=M(s);for(let f=0;f<h.length;f+=1)h[f].l(s);c=Ve()},m(s,u){w(s,e,u),p(e,t),p(e,r),p(e,a),w(s,l,u);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(s,u);w(s,c,u)},p(s,u){if(u&1&&o!==(o=s[1].proveedor+"")&&ue(t,o),u&1&&i!==(i=s[1].nombre+"")&&ue(a,i),u&1){d=H(s[1].ofertas);let f;for(f=0;f<d.length;f+=1){const _=ot(s,d,f);h[f]?h[f].p(_,u):(h[f]=rt(_),h[f].c(),h[f].m(c.parentNode,c))}for(;f<h.length;f+=1)h[f].d(1);h.length=d.length}},d(s){s&&(v(e),v(l),v(c)),de(h,s)}}}function Rt(n){let e,o,t,r=n[0].dia+"",i,a,l=H(n[0].productos),c=[];for(let d=0;d<l.length;d+=1)c[d]=at(tt(n,l,d));return{c(){e=m("div"),o=m("div"),t=K("Septiembre: "),i=K(r),a=V();for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=b(d,"DIV",{class:!0});var h=I(e);o=b(h,"DIV",{class:!0});var s=I(o);t=Z(s,"Septiembre: "),i=Z(s,r),s.forEach(v),a=M(h);for(let u=0;u<c.length;u+=1)c[u].l(h);h.forEach(v),this.h()},h(){k(o,"class","subtitulo svelte-1kbdpq8"),k(e,"class","dia svelte-1kbdpq8")},m(d,h){w(d,e,h),p(e,o),p(o,t),p(o,i),p(e,a);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(e,null)},p(d,[h]){if(h&1&&r!==(r=d[0].dia+"")&&ue(i,r),h&1){l=H(d[0].productos);let s;for(s=0;s<l.length;s+=1){const u=tt(d,l,s);c[s]?c[s].p(u,h):(c[s]=at(u),c[s].c(),c[s].m(e,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}},i:Te,o:Te,d(d){d&&v(e),de(c,d)}}}function zt(n,e,o){let{dia:t}=e;return n.$$set=r=>{"dia"in r&&o(0,t=r.dia)},[t]}class Ze extends Ie{constructor(e){super(),Ce(this,e,zt,Rt,Ee,{dia:0})}}function nt(n,e,o){const t=n.slice();return t[8]=e[o],t}function lt(n){let e,o,t=H(n[2]),r=[];for(let a=0;a<t.length;a+=1)r[a]=it(nt(n,t,a));const i=a=>Q(r[a],1,1,()=>{r[a]=null});return{c(){e=m("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var l=I(e);for(let c=0;c<r.length;c+=1)r[c].l(l);l.forEach(v),this.h()},h(){k(e,"class","mt-3")},m(a,l){w(a,e,l);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);o=!0},p(a,l){if(l&4){t=H(a[2]);let c;for(c=0;c<t.length;c+=1){const d=nt(a,t,c);r[c]?(r[c].p(d,l),y(r[c],1)):(r[c]=it(d),r[c].c(),y(r[c],1),r[c].m(e,null))}for(Le(),c=t.length;c<r.length;c+=1)i(c);Oe()}},i(a){if(!o){for(let l=0;l<t.length;l+=1)y(r[l]);o=!0}},o(a){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)Q(r[l]);o=!1},d(a){a&&v(e),de(r,a)}}}function it(n){let e,o;return e=new Ze({props:{dia:n[8]}}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},p(t,r){const i={};r&4&&(i.dia=t[8]),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function Ut(n){let e,o,t,r,i,a='<i class="fas fa-magnifying-glass"></i>',l,c,d,h,s=n[2].length>0&&lt(n);return{c(){e=m("div"),o=m("div"),t=m("input"),r=V(),i=m("span"),i.innerHTML=a,l=V(),s&&s.c(),this.h()},l(u){e=b(u,"DIV",{class:!0});var f=I(e);o=b(f,"DIV",{class:!0});var _=I(o);t=b(_,"INPUT",{class:!0,type:!0,placeholder:!0}),r=M(_),i=b(_,"SPAN",{class:!0,"data-svelte-h":!0}),ie(i)!=="svelte-1e43632"&&(i.innerHTML=a),_.forEach(v),l=M(f),s&&s.l(f),f.forEach(v),this.h()},h(){k(t,"class","input"),k(t,"type","search"),k(t,"placeholder",n[1]),k(i,"class","icon is-small is-left"),k(o,"class","control has-icons-left has-icons-right"),k(e,"class","field")},m(u,f){w(u,e,f),p(e,o),p(o,t),le(t,n[0]),p(o,r),p(o,i),p(e,l),s&&s.m(e,null),c=!0,d||(h=[ne(t,"input",n[4]),ne(t,"input",n[5])],d=!0)},p(u,[f]){(!c||f&2)&&k(t,"placeholder",u[1]),f&1&&t.value!==u[0]&&le(t,u[0]),u[2].length>0?s?(s.p(u,f),f&4&&y(s,1)):(s=lt(u),s.c(),y(s,1),s.m(e,null)):s&&(Le(),Q(s,1,1,()=>{s=null}),Oe())},i(u){c||(y(s),c=!0)},o(u){Q(s),c=!1},d(u){u&&v(e),s&&s.d(),d=!1,Ye(h)}}}function xt(n,e,o){let t="",r=[],i="";function a(s){r=[];const u=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const f of s){if(f.dia.split(" ").length>1)continue;let _=r.findIndex(C=>C.dia===f.dia);_<0&&(r.push({dia:f.dia,productos:[],orden:u.indexOf(f.dia.toLowerCase())}),_=r.length-1);let T=r[_].productos.findIndex(C=>C.nombre===f.producto);T<0&&(r[_].productos.push({nombre:f.producto,proveedor:f.proveedor,ofertas:[]}),T=r[_].productos.length-1),r[_].productos[T].ofertas.findIndex(C=>C.tienda===f.tienda)<0&&r[_].productos[T].ofertas.push({tienda:f.tienda,descuento:f.descuento})}r.sort((f,_)=>f.orden>_.orden?1:f.orden<_.orden?-1:0),r=[...r],console.log("infoDias",r)}let l=[];function c(){if(t.length==0){o(2,l=[]);return}const s=et(t.toLowerCase());o(2,l=r.filter(u=>et(JSON.stringify(u).toLowerCase()).includes(s)))}Be(()=>{o(1,i=xe(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase()),a(fe)});function d(){t=this.value,o(0,t)}return[t,i,l,c,d,()=>c()]}class Jt extends Ie{constructor(e){super(),Ce(this,e,xt,Ut,Ee,{})}}function st(n,e,o){const t=n.slice();return t[3]=e[o],t}function ct(n){let e,o,t,r,i=n[3].text+"",a,l,c,d,h;function s(){return n[2](n[3])}return{c(){e=m("a"),o=m("i"),t=V(),r=m("span"),a=K(i),l=V(),this.h()},l(u){e=b(u,"A",{class:!0,href:!0});var f=I(e);o=b(f,"I",{class:!0}),I(o).forEach(v),t=M(f),r=b(f,"SPAN",{class:!0});var _=I(r);a=Z(_,i),_.forEach(v),l=M(f),f.forEach(v),this.h()},h(){k(o,"class",Ge(`fa-solid ${n[3].icon}`)+" svelte-18ubc0e"),k(r,"class","svelte-18ubc0e"),k(e,"class",c=Ge(`opcion ${n[0]===n[3].page?"active":""}`)+" svelte-18ubc0e"),k(e,"href",`?pagina=${n[3].page}`)},m(u,f){w(u,e,f),p(e,o),p(e,t),p(e,r),p(r,a),p(e,l),d||(h=ne(e,"click",s),d=!0)},p(u,f){n=u,f&1&&c!==(c=Ge(`opcion ${n[0]===n[3].page?"active":""}`)+" svelte-18ubc0e")&&k(e,"class",c)},d(u){u&&v(e),d=!1,h()}}}function yt(n){let e,o=H(n[1]),t=[];for(let r=0;r<o.length;r+=1)t[r]=ct(st(n,o,r));return{c(){e=m("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var i=I(e);for(let a=0;a<t.length;a+=1)t[a].l(i);i.forEach(v),this.h()},h(){k(e,"class","opciones svelte-18ubc0e")},m(r,i){w(r,e,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,[i]){if(i&3){o=H(r[1]);let a;for(a=0;a<o.length;a+=1){const l=st(r,o,a);t[a]?t[a].p(l,i):(t[a]=ct(l),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=o.length}},i:Te,o:Te,d(r){r&&v(e),de(t,r)}}}function Ht(n,e,o){const t=[{icon:"fa-percent",page:"inicio",text:he.paginaBeneficios},{icon:"fa-credit-card",page:"mis-productos",text:he.paginaProductos},{icon:"fa-compass",page:"explorar-beneficios",text:he.paginaExplorar},{icon:"fa-plus",page:"agregar-productos",text:he.paginaAgregarProductos}];let r="inicio";return Be(()=>{Ae.subscribe(a=>{o(0,r=a)})}),[r,t,a=>Ae.set(a.page)]}class Ft extends Ie{constructor(e){super(),Ce(this,e,Ht,yt,Ee,{})}}function Gt(n){let e,o,t,r,i;return document.title=e=n[0],{c(){o=V(),t=m("div"),r=m("h1"),i=K(n[0]),this.h()},l(a){qe("svelte-1uo06u1",document.head).forEach(v),o=M(a),t=b(a,"DIV",{class:!0});var c=I(t);r=b(c,"H1",{});var d=I(r);i=Z(d,n[0]),d.forEach(v),c.forEach(v),this.h()},h(){k(t,"class","text-column")},m(a,l){w(a,o,l),w(a,t,l),p(t,r),p(r,i)},p(a,[l]){l&1&&e!==(e=a[0])&&(document.title=e)},i:Te,o:Te,d(a){a&&(v(o),v(t))}}}function Yt(n){return[he.acercaDe]}class Kt extends Ie{constructor(e){super(),Ce(this,e,Yt,Gt,Ee,{})}}const Me="benefit.productos";function dt(n,e,o){const t=n.slice();return t[6]=e[o],t}function ut(n){let e,o=`No tienes beneficios para hoy. ¿Tienes alguna tarjeta?
                ¡Agrégala!`,t,r,i="Agregar mis productos",a,l;return{c(){e=m("p"),e.textContent=o,t=V(),r=m("button"),r.textContent=i,this.h()},l(c){e=b(c,"P",{class:!0,"data-svelte-h":!0}),ie(e)!=="svelte-1kyegrk"&&(e.textContent=o),t=M(c),r=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-8qm8l7"&&(r.textContent=i),this.h()},h(){k(e,"class","mb-4"),k(r,"class","button is-success is-fullwidth svelte-1d3zxiq")},m(c,d){w(c,e,d),w(c,t,d),w(c,r,d),a||(l=ne(r,"click",n[3]),a=!0)},d(c){c&&(v(e),v(t),v(r)),a=!1,l()}}}function ft(n){let e,o;return e=new Ze({props:{dia:n[6]}}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},p(t,r){const i={};r&1&&(i.dia=t[6]),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function Zt(n){let e,o,t,r,i,a="Mis beneficios",l,c,d,h,s,u,f='<i class="fa-solid fa-sliders"></i>',_,T,g,C,J,A;document.title=he.appName;let U=n[0].length==0&&ut(n),S=H(n[0]),B=[];for(let $=0;$<S.length;$+=1)B[$]=ft(dt(n,S,$));const q=$=>Q(B[$],1,1,()=>{B[$]=null});return{c(){e=V(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),i.textContent=a,l=V(),c=m("div"),d=K(n[1]),h=V(),s=m("div"),u=m("button"),u.innerHTML=f,_=V(),T=m("div"),U&&U.c(),g=V();for(let $=0;$<B.length;$+=1)B[$].c();this.h()},l($){qe("svelte-1gtgtlw",document.head).forEach(v),e=M($),o=b($,"SECTION",{class:!0});var N=I(o);t=b(N,"DIV",{class:!0});var re=I(t);r=b(re,"DIV",{class:!0});var P=I(r);i=b(P,"DIV",{class:!0,"data-svelte-h":!0}),ie(i)!=="svelte-1j2i0gn"&&(i.textContent=a),l=M(P),c=b(P,"DIV",{class:!0});var F=I(c);d=Z(F,n[1]),F.forEach(v),P.forEach(v),h=M(re),s=b(re,"DIV",{class:!0});var R=I(s);u=b(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(u)!=="svelte-1rjd7b6"&&(u.innerHTML=f),R.forEach(v),re.forEach(v),_=M(N),T=b(N,"DIV",{class:!0});var z=I(T);U&&U.l(z),g=M(z);for(let ae=0;ae<B.length;ae+=1)B[ae].l(z);z.forEach(v),N.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-1d3zxiq"),k(c,"class","title subtitle mt-2 is-6 svelte-1d3zxiq"),k(r,"class","titulo-beneficios"),k(u,"class","button button-opciones svelte-1d3zxiq"),k(s,"class","opciones svelte-1d3zxiq"),k(t,"class","mis-beneficios mb-4 svelte-1d3zxiq"),k(T,"class","descuentos mt-4"),k(o,"class","inicio")},m($,O){w($,e,O),w($,o,O),p(o,t),p(t,r),p(r,i),p(r,l),p(r,c),p(c,d),p(t,h),p(t,s),p(s,u),p(o,_),p(o,T),U&&U.m(T,null),p(T,g);for(let N=0;N<B.length;N+=1)B[N]&&B[N].m(T,null);C=!0,J||(A=ne(u,"click",n[2]),J=!0)},p($,[O]){if((!C||O&2)&&ue(d,$[1]),$[0].length==0?U||(U=ut($),U.c(),U.m(T,g)):U&&(U.d(1),U=null),O&1){S=H($[0]);let N;for(N=0;N<S.length;N+=1){const re=dt($,S,N);B[N]?(B[N].p(re,O),y(B[N],1)):(B[N]=ft(re),B[N].c(),y(B[N],1),B[N].m(T,null))}for(Le(),N=S.length;N<B.length;N+=1)q(N);Oe()}},i($){if(!C){for(let O=0;O<S.length;O+=1)y(B[O]);C=!0}},o($){B=B.filter(Boolean);for(let O=0;O<B.length;O+=1)Q(B[O]);C=!1},d($){$&&(v(e),v(o)),U&&U.d(),de(B,$),J=!1,A()}}}function Qt(n,e,o){let t=[],r="",i=[];function a(d){console.log("filtrarDescuentos"),o(0,t=[]);const h=xe(new Date().toLocaleDateString("es-ES",{weekday:"long"})).toLowerCase(),s=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const u of d){if(u.dia.split(" ").length>1||u.dia.toLowerCase()!==h||!i.some(g=>g.proveedor===u.proveedor&&g.nombre===u.producto))continue;let f=t.findIndex(g=>g.dia===u.dia);f<0&&(t.push({dia:u.dia,productos:[],orden:s.indexOf(u.dia.toLowerCase())}),f=t.length-1);let _=t[f].productos.findIndex(g=>g.nombre===u.producto);_<0&&(t[f].productos.push({nombre:u.producto,proveedor:u.proveedor,ofertas:[]}),_=t[f].productos.length-1),t[f].productos[_].ofertas.findIndex(g=>g.tienda===u.tienda)<0&&t[f].productos[_].ofertas.push({tienda:u.tienda,descuento:u.descuento})}t.sort((u,f)=>u.orden>f.orden?1:u.orden<f.orden?-1:0),o(0,t=[...t]),console.log(t)}return Be(()=>{o(1,r=xe(new Date().toLocaleDateString("es-ES",{year:"numeric",day:"numeric",month:"long",weekday:"long"})));try{const d=localStorage.getItem(Me)??"[]";i=Ne.array().parse(JSON.parse(d))}catch(d){console.error("error al obtener productos guardados",d)}i=[...i],a(fe)}),[t,r,()=>alert("No implementado."),()=>Ae.set("agregar-productos")]}class Wt extends Ie{constructor(e){super(),Ce(this,e,Qt,Zt,Ee,{})}}function ht(n,e,o){const t=n.slice();return t[4]=e[o],t}function pt(n){let e,o,t,r,i,a,l,c=H(n[0]),d=[];for(let h=0;h<c.length;h+=1)d[h]=vt(ht(n,c,h));return{c(){e=m("article"),o=m("div"),t=m("p"),r=K(n[1]),i=V(),a=m("div"),l=m("ul");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=b(h,"ARTICLE",{class:!0});var s=I(e);o=b(s,"DIV",{class:!0});var u=I(o);t=b(u,"P",{class:!0});var f=I(t);r=Z(f,n[1]),f.forEach(v),u.forEach(v),i=M(s),a=b(s,"DIV",{class:!0});var _=I(a);l=b(_,"UL",{});var T=I(l);for(let g=0;g<d.length;g+=1)d[g].l(T);T.forEach(v),_.forEach(v),s.forEach(v),this.h()},h(){k(t,"class","proveedor svelte-cg3cdp"),k(o,"class","message-header"),k(a,"class","message-body"),k(e,"class","message svelte-cg3cdp")},m(h,s){w(h,e,s),p(e,o),p(o,t),p(t,r),p(e,i),p(e,a),p(a,l);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(l,null)},p(h,s){if(s&2&&ue(r,h[1]),s&5){c=H(h[0]);let u;for(u=0;u<c.length;u+=1){const f=ht(h,c,u);d[u]?d[u].p(f,s):(d[u]=vt(f),d[u].c(),d[u].m(l,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=c.length}},d(h){h&&v(e),de(d,h)}}}function vt(n){let e,o,t,r=n[4].nombre+"",i,a,l,c;function d(){return n[3](n[4])}return{c(){e=m("li"),o=m("button"),t=V(),i=K(r),a=V(),this.h()},l(h){e=b(h,"LI",{});var s=I(e);o=b(s,"BUTTON",{class:!0,"aria-label":!0}),I(o).forEach(v),t=M(s),i=Z(s,r),a=M(s),s.forEach(v),this.h()},h(){k(o,"class","delete"),k(o,"aria-label","delete")},m(h,s){w(h,e,s),p(e,o),p(e,t),p(e,i),p(e,a),l||(c=ne(o,"click",d),l=!0)},p(h,s){n=h,s&1&&r!==(r=n[4].nombre+"")&&ue(i,r)},d(h){h&&v(e),l=!1,c()}}}function Xt(n){let e,o=n[0].length>0&&pt(n);return{c(){o&&o.c(),e=Ve()},l(t){o&&o.l(t),e=Ve()},m(t,r){o&&o.m(t,r),w(t,e,r)},p(t,[r]){t[0].length>0?o?o.p(t,r):(o=pt(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:Te,o:Te,d(t){t&&v(e),o&&o.d(t)}}}function eo(n,e,o){let t,{productos:r}=e;function i(l){if(!confirm(`¿Eliminar ${l.nombre} de ${l.proveedor}?`))return;let d=[];try{const h=localStorage.getItem(Me)??"[]";d=Ne.array().parse(JSON.parse(h))}catch(h){console.error("error al obtener productos guardados",h)}d=d.filter(h=>h.proveedor!==l.proveedor&&h.nombre!==l.nombre),o(0,r=r.filter(h=>h.proveedor!==l.proveedor&&h.nombre!==l.nombre)),localStorage.setItem(Me,JSON.stringify(d))}const a=l=>i(l);return n.$$set=l=>{"productos"in l&&o(0,r=l.productos)},n.$$.update=()=>{n.$$.dirty&1&&o(1,t=r.length>0?r[0].proveedor:"")},[r,t,i,a]}class to extends Ie{constructor(e){super(),Ce(this,e,eo,Xt,Ee,{productos:0})}}function _t(n,e,o){const t=n.slice();return t[2]=e[o],t[3]=e,t[4]=o,t}function gt(n){let e,o,t;function r(a){n[1](a,n[2],n[3],n[4])}let i={};return n[2]!==void 0&&(i.productos=n[2]),e=new to({props:i}),Lt.push(()=>Nt(e,"productos",r)),{c(){_e(e.$$.fragment)},l(a){ge(e.$$.fragment,a)},m(a,l){me(e,a,l),t=!0},p(a,l){n=a;const c={};!o&&l&1&&(o=!0,c.productos=n[2],Ot(()=>o=!1)),e.$set(c)},i(a){t||(y(e.$$.fragment,a),t=!0)},o(a){Q(e.$$.fragment,a),t=!1},d(a){be(e,a)}}}function oo(n){let e,o,t,r,i,a=he.paginaProductos+"",l,c,d;document.title=he.appName;let h=H(n[0]),s=[];for(let f=0;f<h.length;f+=1)s[f]=gt(_t(n,h,f));const u=f=>Q(s[f],1,1,()=>{s[f]=null});return{c(){e=V(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),l=K(a),c=V();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){qe("svelte-1gtgtlw",document.head).forEach(v),e=M(f),o=b(f,"SECTION",{class:!0});var T=I(o);t=b(T,"DIV",{class:!0});var g=I(t);r=b(g,"DIV",{class:!0});var C=I(r);i=b(C,"DIV",{class:!0});var J=I(i);l=Z(J,a),J.forEach(v),C.forEach(v),g.forEach(v),c=M(T);for(let A=0;A<s.length;A+=1)s[A].l(T);T.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-14q4oge"),k(r,"class","titulo-beneficios"),k(t,"class","mis-beneficios mb-4 svelte-14q4oge"),k(o,"class","inicio")},m(f,_){w(f,e,_),w(f,o,_),p(o,t),p(t,r),p(r,i),p(i,l),p(o,c);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(o,null);d=!0},p(f,[_]){if(_&1){h=H(f[0]);let T;for(T=0;T<h.length;T+=1){const g=_t(f,h,T);s[T]?(s[T].p(g,_),y(s[T],1)):(s[T]=gt(g),s[T].c(),y(s[T],1),s[T].m(o,null))}for(Le(),T=h.length;T<s.length;T+=1)u(T);Oe()}},i(f){if(!d){for(let _=0;_<h.length;_+=1)y(s[_]);d=!0}},o(f){s=s.filter(Boolean);for(let _=0;_<s.length;_+=1)Q(s[_]);d=!1},d(f){f&&(v(e),v(o)),de(s,f)}}}function ro(n,e,o){let t=[];Be(()=>{let i=[];try{const a=localStorage.getItem(Me)??"[]";i=Ne.array().parse(JSON.parse(a))}catch(a){console.error("error al obtener productos guardados",a)}o(0,t=[]);for(const a of i){const l=t.find(c=>c.some(d=>d.proveedor===a.proveedor));if(l==null){t.push([a]);continue}l.push(a)}});function r(i,a,l,c){l[c]=i,o(0,t)}return[t,r]}class ao extends Ie{constructor(e){super(),Ce(this,e,ro,oo,Ee,{})}}function mt(n,e,o){const t=n.slice();return t[11]=e[o],t}function bt(n,e,o){const t=n.slice();return t[14]=e[o],t}function kt(n){let e,o=n[14]+"",t,r,i;return{c(){e=m("option"),t=K(o),r=V(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=Z(l,o),r=M(l),l.forEach(v),this.h()},h(){e.__value=i=n[14],le(e,e.__value)},m(a,l){w(a,e,l),p(e,t),p(e,r)},p(a,l){l&1&&o!==(o=a[14]+"")&&ue(t,o),l&1&&i!==(i=a[14])&&(e.__value=i,le(e,e.__value))},d(a){a&&v(e)}}}function Tt(n){let e,o=n[11]+"",t,r,i;return{c(){e=m("option"),t=K(o),r=V(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=Z(l,o),r=M(l),l.forEach(v),this.h()},h(){e.__value=i=n[11],le(e,e.__value)},m(a,l){w(a,e,l),p(e,t),p(e,r)},p(a,l){l&2&&o!==(o=a[11]+"")&&ue(t,o),l&2&&i!==(i=a[11])&&(e.__value=i,le(e,e.__value))},d(a){a&&v(e)}}}function no(n){let e,o,t,r,i,a=he.paginaAgregarProductos+"",l,c,d,h,s="Institución",u,f,_,T,g,C,J="Producto",A,U,S,B,q,$,O,N,re,P,F;document.title=he.appName;let R=H(n[0]),z=[];for(let D=0;D<R.length;D+=1)z[D]=kt(bt(n,R,D));let ae=H(n[1]),G=[];for(let D=0;D<ae.length;D+=1)G[D]=Tt(mt(n,ae,D));return{c(){e=V(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),l=K(a),c=V(),d=m("div"),h=m("label"),h.textContent=s,u=V(),f=m("div"),_=m("select");for(let D=0;D<z.length;D+=1)z[D].c();T=V(),g=m("div"),C=m("label"),C.textContent=J,A=V(),U=m("div"),S=m("select");for(let D=0;D<G.length;D+=1)G[D].c();q=V(),$=m("div"),O=m("button"),N=K("Añadir producto"),this.h()},l(D){qe("svelte-1gtgtlw",document.head).forEach(v),e=M(D),o=b(D,"SECTION",{class:!0});var L=I(o);t=b(L,"DIV",{class:!0});var pe=I(t);r=b(pe,"DIV",{class:!0});var we=I(r);i=b(we,"DIV",{class:!0});var Se=I(i);l=Z(Se,a),Se.forEach(v),we.forEach(v),pe.forEach(v),c=M(L),d=b(L,"DIV",{class:!0});var X=I(d);h=b(X,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(h)!=="svelte-19ukkfe"&&(h.textContent=s),u=M(X),f=b(X,"DIV",{class:!0});var je=I(f);_=b(je,"SELECT",{class:!0});var ee=I(_);for(let x=0;x<z.length;x+=1)z[x].l(ee);ee.forEach(v),je.forEach(v),X.forEach(v),T=M(L),g=b(L,"DIV",{class:!0});var ke=I(g);C=b(ke,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(C)!=="svelte-tw3mbh"&&(C.textContent=J),A=M(ke),U=b(ke,"DIV",{class:!0});var te=I(U);S=b(te,"SELECT",{class:!0});var De=I(S);for(let x=0;x<G.length;x+=1)G[x].l(De);De.forEach(v),te.forEach(v),ke.forEach(v),q=M(L),$=b(L,"DIV",{class:!0});var oe=I($);O=b(oe,"BUTTON",{class:!0});var j=I(O);N=Z(j,"Añadir producto"),j.forEach(v),oe.forEach(v),L.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-dkkcgn"),k(r,"class","titulo-beneficios"),k(t,"class","mis-beneficios mb-4 svelte-dkkcgn"),k(h,"class","label"),k(h,"for",""),k(_,"class","svelte-dkkcgn"),n[2]===void 0&&$e(()=>n[6].call(_)),k(f,"class","select svelte-dkkcgn"),k(d,"class","field"),k(C,"class","label"),k(C,"for",""),S.disabled=B=n[1].length===0,k(S,"class","svelte-dkkcgn"),n[3]===void 0&&$e(()=>n[8].call(S)),k(U,"class","select svelte-dkkcgn"),k(g,"class","field"),k(O,"class","button is-success svelte-dkkcgn"),O.disabled=re=n[3].length==0,k($,"class","buttons"),k(o,"class","inicio")},m(D,W){w(D,e,W),w(D,o,W),p(o,t),p(t,r),p(r,i),p(i,l),p(o,c),p(o,d),p(d,h),p(d,u),p(d,f),p(f,_);for(let L=0;L<z.length;L+=1)z[L]&&z[L].m(_,null);ve(_,n[2],!0),p(o,T),p(o,g),p(g,C),p(g,A),p(g,U),p(U,S);for(let L=0;L<G.length;L+=1)G[L]&&G[L].m(S,null);ve(S,n[3],!0),p(o,q),p(o,$),p($,O),p(O,N),P||(F=[ne(_,"change",n[6]),ne(_,"click",n[7]),ne(S,"change",n[8]),ne(O,"click",n[9])],P=!0)},p(D,[W]){if(W&1){R=H(D[0]);let L;for(L=0;L<R.length;L+=1){const pe=bt(D,R,L);z[L]?z[L].p(pe,W):(z[L]=kt(pe),z[L].c(),z[L].m(_,null))}for(;L<z.length;L+=1)z[L].d(1);z.length=R.length}if(W&5&&ve(_,D[2]),W&2){ae=H(D[1]);let L;for(L=0;L<ae.length;L+=1){const pe=mt(D,ae,L);G[L]?G[L].p(pe,W):(G[L]=Tt(pe),G[L].c(),G[L].m(S,null))}for(;L<G.length;L+=1)G[L].d(1);G.length=ae.length}W&2&&B!==(B=D[1].length===0)&&(S.disabled=B),W&10&&ve(S,D[3]),W&10&&re!==(re=D[3].length==0)&&(O.disabled=re)},i:Te,o:Te,d(D){D&&(v(e),v(o)),de(z,D),de(G,D),P=!1,Ye(F)}}}function lo(n,e,o){let t=[],r=[],i="",a="";function l(){console.log("filtrarProveedores"),o(0,t=[]),o(1,r=[]),o(2,i=""),o(3,a="");for(const _ of fe)t.includes(_.proveedor)||t.push(_.proveedor);t.sort((_,T)=>_>T?1:_<T?-1:0),o(0,t=[...t])}function c(){console.log("filtrarProductos"),o(1,r=[]);for(const _ of fe)i.length>0&&_.proveedor!==i||r.includes(_.producto)||r.push(_.producto);r.sort((_,T)=>_>T?1:_<T?-1:0),o(1,r=[...r])}function d(){let _=[];try{const g=localStorage.getItem(Me)??"[]";_=Ne.array().parse(JSON.parse(g))}catch(g){console.error("error al obtener productos guardados",g)}_.find(g=>g.proveedor===i&&g.nombre===a)==null&&_.push({nombre:a,proveedor:i}),localStorage.setItem(Me,JSON.stringify(_)),alert("Producto guardado.")}Be(()=>{l()});function h(){i=Pe(this),o(2,i),o(0,t)}const s=()=>c();function u(){a=Pe(this),o(3,a),o(1,r)}return[t,r,i,a,c,d,h,s,u,()=>d()]}class io extends Ie{constructor(e){super(),Ce(this,e,lo,no,Ee,{})}}function Et(n,e,o){const t=n.slice();return t[26]=e[o],t}function It(n,e,o){const t=n.slice();return t[29]=e[o],t}function Ct(n,e,o){const t=n.slice();return t[26]=e[o],t}function St(n,e,o){const t=n.slice();return t[34]=e[o],t}function jt(n,e,o){const t=n.slice();return t[37]=e[o],t}function Dt(n){let e,o,t,r="Institución",i,a,l,c,d="Ninguna",h,s,u,f="Producto",_,T,g,C,J="Ninguno",A,U,S,B="Día de la semana",q,$,O,N,re="Ninguno",P,F,R,z="Local",ae,G,D,W,L="Ninguno",pe,we,Se=H(n[1]),X=[];for(let j=0;j<Se.length;j+=1)X[j]=Bt(jt(n,Se,j));let je=H(n[2]),ee=[];for(let j=0;j<je.length;j+=1)ee[j]=$t(St(n,je,j));let ke=H(n[3]),te=[];for(let j=0;j<ke.length;j+=1)te[j]=Pt(Ct(n,ke,j));let De=H(n[4]),oe=[];for(let j=0;j<De.length;j+=1)oe[j]=Vt(It(n,De,j));return{c(){e=m("div"),o=m("div"),t=m("label"),t.textContent=r,i=V(),a=m("div"),l=m("select"),c=m("option"),c.textContent=d;for(let j=0;j<X.length;j+=1)X[j].c();h=V(),s=m("div"),u=m("label"),u.textContent=f,_=V(),T=m("div"),g=m("select"),C=m("option"),C.textContent=J;for(let j=0;j<ee.length;j+=1)ee[j].c();A=V(),U=m("div"),S=m("label"),S.textContent=B,q=V(),$=m("div"),O=m("select"),N=m("option"),N.textContent=re;for(let j=0;j<te.length;j+=1)te[j].c();P=V(),F=m("div"),R=m("label"),R.textContent=z,ae=V(),G=m("div"),D=m("select"),W=m("option"),W.textContent=L;for(let j=0;j<oe.length;j+=1)oe[j].c();this.h()},l(j){e=b(j,"DIV",{class:!0});var x=I(e);o=b(x,"DIV",{class:!0});var E=I(o);t=b(E,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(t)!=="svelte-19ukkfe"&&(t.textContent=r),i=M(E),a=b(E,"DIV",{class:!0});var ce=I(a);l=b(ce,"SELECT",{class:!0});var Je=I(l);c=b(Je,"OPTION",{"data-svelte-h":!0}),ie(c)!=="svelte-56rvmw"&&(c.textContent=d);for(let se=0;se<X.length;se+=1)X[se].l(Je);Je.forEach(v),ce.forEach(v),E.forEach(v),h=M(x),s=b(x,"DIV",{class:!0});var Re=I(s);u=b(Re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(u)!=="svelte-tw3mbh"&&(u.textContent=f),_=M(Re),T=b(Re,"DIV",{class:!0});var Qe=I(T);g=b(Qe,"SELECT",{class:!0});var ye=I(g);C=b(ye,"OPTION",{"data-svelte-h":!0}),ie(C)!=="svelte-1p9iu4y"&&(C.textContent=J);for(let se=0;se<ee.length;se+=1)ee[se].l(ye);ye.forEach(v),Qe.forEach(v),Re.forEach(v),A=M(x),U=b(x,"DIV",{class:!0});var ze=I(U);S=b(ze,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(S)!=="svelte-4y0urq"&&(S.textContent=B),q=M(ze),$=b(ze,"DIV",{class:!0});var We=I($);O=b(We,"SELECT",{class:!0});var He=I(O);N=b(He,"OPTION",{"data-svelte-h":!0}),ie(N)!=="svelte-1p9iu4y"&&(N.textContent=re);for(let se=0;se<te.length;se+=1)te[se].l(He);He.forEach(v),We.forEach(v),ze.forEach(v),P=M(x),F=b(x,"DIV",{class:!0});var Ue=I(F);R=b(Ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ie(R)!=="svelte-whtky8"&&(R.textContent=z),ae=M(Ue),G=b(Ue,"DIV",{class:!0});var Xe=I(G);D=b(Xe,"SELECT",{class:!0});var Fe=I(D);W=b(Fe,"OPTION",{"data-svelte-h":!0}),ie(W)!=="svelte-1p9iu4y"&&(W.textContent=L);for(let se=0;se<oe.length;se+=1)oe[se].l(Fe);Fe.forEach(v),Xe.forEach(v),Ue.forEach(v),x.forEach(v),this.h()},h(){k(t,"class","label"),k(t,"for",""),c.__value="",le(c,c.__value),k(l,"class","svelte-6p4kcx"),n[5]===void 0&&$e(()=>n[15].call(l)),k(a,"class","select svelte-6p4kcx"),k(o,"class","field"),k(u,"class","label"),k(u,"for",""),C.__value="",le(C,C.__value),k(g,"class","svelte-6p4kcx"),n[6]===void 0&&$e(()=>n[17].call(g)),k(T,"class","select svelte-6p4kcx"),k(s,"class","field"),k(S,"class","label"),k(S,"for",""),N.__value="",le(N,N.__value),k(O,"class","svelte-6p4kcx"),n[7]===void 0&&$e(()=>n[19].call(O)),k($,"class","select svelte-6p4kcx"),k(U,"class","field"),k(R,"class","label"),k(R,"for",""),W.__value="",le(W,W.__value),k(D,"class","svelte-6p4kcx"),n[8]===void 0&&$e(()=>n[21].call(D)),k(G,"class","select svelte-6p4kcx"),k(F,"class","field"),k(e,"class","filtros mt-2 svelte-6p4kcx")},m(j,x){w(j,e,x),p(e,o),p(o,t),p(o,i),p(o,a),p(a,l),p(l,c);for(let E=0;E<X.length;E+=1)X[E]&&X[E].m(l,null);ve(l,n[5],!0),p(e,h),p(e,s),p(s,u),p(s,_),p(s,T),p(T,g),p(g,C);for(let E=0;E<ee.length;E+=1)ee[E]&&ee[E].m(g,null);ve(g,n[6],!0),p(e,A),p(e,U),p(U,S),p(U,q),p(U,$),p($,O),p(O,N);for(let E=0;E<te.length;E+=1)te[E]&&te[E].m(O,null);ve(O,n[7],!0),p(e,P),p(e,F),p(F,R),p(F,ae),p(F,G),p(G,D),p(D,W);for(let E=0;E<oe.length;E+=1)oe[E]&&oe[E].m(D,null);ve(D,n[8],!0),pe||(we=[ne(l,"change",n[15]),ne(l,"change",n[16]),ne(g,"change",n[17]),ne(g,"change",n[18]),ne(O,"change",n[19]),ne(O,"change",n[20]),ne(D,"change",n[21]),ne(D,"change",n[22])],pe=!0)},p(j,x){if(x[0]&2){Se=H(j[1]);let E;for(E=0;E<Se.length;E+=1){const ce=jt(j,Se,E);X[E]?X[E].p(ce,x):(X[E]=Bt(ce),X[E].c(),X[E].m(l,null))}for(;E<X.length;E+=1)X[E].d(1);X.length=Se.length}if(x[0]&34&&ve(l,j[5]),x[0]&4){je=H(j[2]);let E;for(E=0;E<je.length;E+=1){const ce=St(j,je,E);ee[E]?ee[E].p(ce,x):(ee[E]=$t(ce),ee[E].c(),ee[E].m(g,null))}for(;E<ee.length;E+=1)ee[E].d(1);ee.length=je.length}if(x[0]&68&&ve(g,j[6]),x[0]&8){ke=H(j[3]);let E;for(E=0;E<ke.length;E+=1){const ce=Ct(j,ke,E);te[E]?te[E].p(ce,x):(te[E]=Pt(ce),te[E].c(),te[E].m(O,null))}for(;E<te.length;E+=1)te[E].d(1);te.length=ke.length}if(x[0]&136&&ve(O,j[7]),x[0]&16){De=H(j[4]);let E;for(E=0;E<De.length;E+=1){const ce=It(j,De,E);oe[E]?oe[E].p(ce,x):(oe[E]=Vt(ce),oe[E].c(),oe[E].m(D,null))}for(;E<oe.length;E+=1)oe[E].d(1);oe.length=De.length}x[0]&272&&ve(D,j[8])},d(j){j&&v(e),de(X,j),de(ee,j),de(te,j),de(oe,j),pe=!1,Ye(we)}}}function Bt(n){let e,o=n[37]+"",t,r,i;return{c(){e=m("option"),t=K(o),r=V(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=Z(l,o),r=M(l),l.forEach(v),this.h()},h(){e.__value=i=n[37],le(e,e.__value)},m(a,l){w(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&2&&o!==(o=a[37]+"")&&ue(t,o),l[0]&2&&i!==(i=a[37])&&(e.__value=i,le(e,e.__value))},d(a){a&&v(e)}}}function $t(n){let e,o=n[34]+"",t,r,i;return{c(){e=m("option"),t=K(o),r=V(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=Z(l,o),r=M(l),l.forEach(v),this.h()},h(){e.__value=i=n[34],le(e,e.__value)},m(a,l){w(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&4&&o!==(o=a[34]+"")&&ue(t,o),l[0]&4&&i!==(i=a[34])&&(e.__value=i,le(e,e.__value))},d(a){a&&v(e)}}}function Pt(n){let e,o=n[26]+"",t,r,i;return{c(){e=m("option"),t=K(o),r=V(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=Z(l,o),r=M(l),l.forEach(v),this.h()},h(){e.__value=i=n[26],le(e,e.__value)},m(a,l){w(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&8&&o!==(o=a[26]+"")&&ue(t,o),l[0]&8&&i!==(i=a[26])&&(e.__value=i,le(e,e.__value))},d(a){a&&v(e)}}}function Vt(n){let e,o=n[29]+"",t,r,i;return{c(){e=m("option"),t=K(o),r=V(),this.h()},l(a){e=b(a,"OPTION",{});var l=I(e);t=Z(l,o),r=M(l),l.forEach(v),this.h()},h(){e.__value=i=n[29],le(e,e.__value)},m(a,l){w(a,e,l),p(e,t),p(e,r)},p(a,l){l[0]&16&&o!==(o=a[29]+"")&&ue(t,o),l[0]&16&&i!==(i=a[29])&&(e.__value=i,le(e,e.__value))},d(a){a&&v(e)}}}function Mt(n){let e,o;return e=new Ze({props:{dia:n[26]}}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},p(t,r){const i={};r[0]&1&&(i.dia=t[26]),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function so(n){let e,o,t,r,i,a=he.paginaExplorar+"",l,c,d,h="Filtrar beneficios",s,u,f,_,T,g;document.title=he.appName;let C=n[9]&&Dt(n),J=H(n[0]),A=[];for(let S=0;S<J.length;S+=1)A[S]=Mt(Et(n,J,S));const U=S=>Q(A[S],1,1,()=>{A[S]=null});return{c(){e=V(),o=m("section"),t=m("div"),r=m("div"),i=m("div"),l=K(a),c=V(),d=m("button"),d.textContent=h,s=V(),C&&C.c(),u=V(),f=m("div");for(let S=0;S<A.length;S+=1)A[S].c();this.h()},l(S){qe("svelte-1gtgtlw",document.head).forEach(v),e=M(S),o=b(S,"SECTION",{class:!0});var q=I(o);t=b(q,"DIV",{class:!0});var $=I(t);r=b($,"DIV",{class:!0});var O=I(r);i=b(O,"DIV",{class:!0});var N=I(i);l=Z(N,a),N.forEach(v),O.forEach(v),$.forEach(v),c=M(q),d=b(q,"BUTTON",{class:!0,"data-svelte-h":!0}),ie(d)!=="svelte-1l6ekyo"&&(d.textContent=h),s=M(q),C&&C.l(q),u=M(q),f=b(q,"DIV",{class:!0});var re=I(f);for(let P=0;P<A.length;P+=1)A[P].l(re);re.forEach(v),q.forEach(v),this.h()},h(){k(i,"class","title is-3 svelte-6p4kcx"),k(r,"class","titulo-beneficios"),k(t,"class","mis-beneficios mb-4 svelte-6p4kcx"),k(d,"class","button is-link svelte-6p4kcx"),k(f,"class","descuentos mt-4"),k(o,"class","inicio")},m(S,B){w(S,e,B),w(S,o,B),p(o,t),p(t,r),p(r,i),p(i,l),p(o,c),p(o,d),p(o,s),C&&C.m(o,null),p(o,u),p(o,f);for(let q=0;q<A.length;q+=1)A[q]&&A[q].m(f,null);_=!0,T||(g=ne(d,"click",n[14]),T=!0)},p(S,B){if(S[9]?C?C.p(S,B):(C=Dt(S),C.c(),C.m(o,u)):C&&(C.d(1),C=null),B[0]&1){J=H(S[0]);let q;for(q=0;q<J.length;q+=1){const $=Et(S,J,q);A[q]?(A[q].p($,B),y(A[q],1)):(A[q]=Mt($),A[q].c(),y(A[q],1),A[q].m(f,null))}for(Le(),q=J.length;q<A.length;q+=1)U(q);Oe()}},i(S){if(!_){for(let B=0;B<J.length;B+=1)y(A[B]);_=!0}},o(S){A=A.filter(Boolean);for(let B=0;B<A.length;B+=1)Q(A[B]);_=!1},d(S){S&&(v(e),v(o)),C&&C.d(),de(A,S),T=!1,g()}}}function co(n,e,o){let t=[],r=[],i=[],a=[],l=[],c="",d="",h="",s="",u=!1;const f=Ne.extend({ofertas:Ke.array()});Y.object({dia:Y.string(),orden:Y.number(),productos:f.array()});function _(){console.log("filtrarProveedores"),o(1,r=[]),o(2,i=[]),o(3,a=[]),o(4,l=[]),o(5,c=""),o(6,d=""),o(7,h=""),o(8,s="");for(const P of fe)r.includes(P.proveedor)||r.push(P.proveedor);r.sort((P,F)=>P>F?1:P<F?-1:0),o(1,r=[...r])}function T(){console.log("filtrarProductos"),o(7,h=""),o(8,s=""),o(2,i=[]),o(3,a=[]),o(4,l=[]);for(const P of fe)c.length>0&&P.proveedor!==c||i.includes(P.producto)||i.push(P.producto);i.sort((P,F)=>P>F?1:P<F?-1:0),o(2,i=[...i])}function g(){console.log("filtrarDias"),o(8,s=""),o(3,a=[]),o(4,l=[]);for(const P of fe)P.dia.split(" ").length>1||c.length>0&&P.proveedor!==c||d.length>0&&P.producto!==d||a.includes(P.dia)||a.push(P.dia);o(3,a=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"].filter(P=>a.map(F=>F.toLowerCase()).includes(P)).map(P=>xe(P))),o(3,a=[...a])}function C(){console.log("filtrarTiendas"),o(4,l=[]);for(const P of fe)c.length>0&&P.proveedor!==c||d.length>0&&P.producto!==d||h.length>0&&P.dia!==h||l.includes(P.tienda)||l.push(P.tienda);l.sort((P,F)=>P>F?1:P<F?-1:0),o(4,l=[...l])}function J(P){console.log("filtrarDescuentos"),o(0,t=[]);const F=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"];for(const R of P){if(R.dia.split(" ").length>1||c.length>0&&R.proveedor!==c||d.length>0&&R.producto!==d||h.length>0&&R.dia!==h||s.length>0&&R.tienda!==s)continue;let z=t.findIndex(D=>D.dia===R.dia);z<0&&(t.push({dia:R.dia,productos:[],orden:F.indexOf(R.dia.toLowerCase())}),z=t.length-1);let ae=t[z].productos.findIndex(D=>D.nombre===R.producto);ae<0&&(t[z].productos.push({nombre:R.producto,proveedor:R.proveedor,ofertas:[]}),ae=t[z].productos.length-1),t[z].productos[ae].ofertas.findIndex(D=>D.tienda===R.tienda)<0&&t[z].productos[ae].ofertas.push({tienda:R.tienda,descuento:R.descuento})}o(1,r=[...r]),t.sort((R,z)=>R.orden>z.orden?1:R.orden<z.orden?-1:0),o(0,t=[...t]),console.log(t)}Be(()=>{J(fe),_(),T(),g(),C()});const A=()=>o(9,u=!u);function U(){c=Pe(this),o(5,c),o(1,r)}const S=()=>{T(),J(fe)};function B(){d=Pe(this),o(6,d),o(2,i)}const q=()=>{g(),J(fe)};function $(){h=Pe(this),o(7,h),o(3,a)}const O=()=>{C(),J(fe)};function N(){s=Pe(this),o(8,s),o(4,l)}return[t,r,i,a,l,c,d,h,s,u,T,g,C,J,A,U,S,B,q,$,O,N,()=>{J(fe)}]}class uo extends Ie{constructor(e){super(),Ce(this,e,co,so,Ee,{},null,[-1,-1])}}function fo(n){let e,o;return e=new Kt({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function ho(n){let e,o;return e=new io({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function po(n){let e,o;return e=new uo({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function vo(n){let e,o;return e=new ao({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function _o(n){let e,o;return e=new Wt({}),{c(){_e(e.$$.fragment)},l(t){ge(e.$$.fragment,t)},m(t,r){me(e,t,r),o=!0},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){be(e,t)}}}function go(n){let e,o,t,r;const i=[_o,vo,po,ho,fo],a=[];function l(c,d){return c[0]=="inicio"?0:c[0]=="mis-productos"?1:c[0]=="explorar-beneficios"?2:c[0]=="agregar-productos"?3:c[0]=="acercaDe"?4:-1}return~(e=l(n))&&(o=a[e]=i[e](n)),{c(){o&&o.c(),t=Ve()},l(c){o&&o.l(c),t=Ve()},m(c,d){~e&&a[e].m(c,d),w(c,t,d),r=!0},p(c,[d]){let h=e;e=l(c),e!==h&&(o&&(Le(),Q(a[h],1,1,()=>{a[h]=null}),Oe()),~e?(o=a[e],o||(o=a[e]=i[e](c),o.c()),y(o,1),o.m(t.parentNode,t)):o=null)},i(c){r||(y(o),r=!0)},o(c){Q(o),r=!1},d(c){c&&v(t),~e&&a[e].d(c)}}}function mo(n,e,o){let t;return Be(()=>{Ae.subscribe(l=>{l!=null&&o(0,t=l)});const i=new URLSearchParams(location.search).get("pagina")??"",a=wt(i)?i:"inicio";Ae.set(a)}),[t]}class bo extends Ie{constructor(e){super(),Ce(this,e,mo,go,Ee,{})}}function ko(n){let e,o,t,r=he.appName+"",i,a,l,c,d,h,s,u,f,_,T;return e=new Jt({}),h=new bo({}),_=new Ft({}),{c(){_e(e.$$.fragment),o=V(),t=m("div"),i=K(r),a=V(),l=m("hr"),c=V(),d=m("div"),_e(h.$$.fragment),s=V(),u=m("hr"),f=V(),_e(_.$$.fragment),this.h()},l(g){ge(e.$$.fragment,g),o=M(g),t=b(g,"DIV",{class:!0});var C=I(t);i=Z(C,r),C.forEach(v),a=M(g),l=b(g,"HR",{class:!0}),c=M(g),d=b(g,"DIV",{class:!0});var J=I(d);ge(h.$$.fragment,J),J.forEach(v),s=M(g),u=b(g,"HR",{class:!0}),f=M(g),ge(_.$$.fragment,g),this.h()},h(){k(t,"class","title is-3 svelte-7wzyb4"),k(l,"class","svelte-7wzyb4"),k(d,"class","router svelte-7wzyb4"),k(u,"class","svelte-7wzyb4")},m(g,C){me(e,g,C),w(g,o,C),w(g,t,C),p(t,i),w(g,a,C),w(g,l,C),w(g,c,C),w(g,d,C),me(h,d,null),w(g,s,C),w(g,u,C),w(g,f,C),me(_,g,C),T=!0},p:Te,i(g){T||(y(e.$$.fragment,g),y(h.$$.fragment,g),y(_.$$.fragment,g),T=!0)},o(g){Q(e.$$.fragment,g),Q(h.$$.fragment,g),Q(_.$$.fragment,g),T=!1},d(g){g&&(v(o),v(t),v(a),v(l),v(c),v(d),v(s),v(u),v(f)),be(e,g),be(h),be(_,g)}}}class So extends Ie{constructor(e){super(),Ce(this,e,null,ko,Ee,{})}}export{So as component,Co as universal};
